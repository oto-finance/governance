import{j as e,e as t,b as r,u as n,i,p as o,a,s,t as f}from"./subscriptionManager.30f38f9c.js";import{b5 as c,b6 as u,b7 as d,b8 as h,b9 as l,ba as p,bb as b,bc as g,bd as y,a$ as m,be as v,bf as _,bg as w,bh as x}from"./vendor.e4bb2c52.js";var S={},E={},M={};Object.defineProperty(M,"__esModule",{value:!0});var k=M.getLocalStorage=M.getLocalStorageOrThrow=M.getCrypto=M.getCryptoOrThrow=M.getLocation=M.getLocationOrThrow=M.getNavigator=M.getNavigatorOrThrow=M.getDocument=M.getDocumentOrThrow=M.getFromWindowOrThrow=M.getFromWindow=void 0;function A(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}var R=M.getFromWindow=A;function T(e){const t=A(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}var C=M.getFromWindowOrThrow=T;var B=M.getDocumentOrThrow=function(){return T("document")};var I=M.getDocument=function(){return A("document")};var P=M.getNavigatorOrThrow=function(){return T("navigator")};var O=M.getNavigator=function(){return A("navigator")};var L=M.getLocationOrThrow=function(){return T("location")};var N=M.getLocation=function(){return A("location")};var U=M.getCryptoOrThrow=function(){return T("crypto")};var j=M.getCrypto=function(){return A("crypto")};var q=M.getLocalStorageOrThrow=function(){return T("localStorage")};k=M.getLocalStorage=function(){return A("localStorage")},Object.defineProperty(E,"__esModule",{value:!0});var z=E.getWindowMetadata=void 0;const D=M;z=E.getWindowMetadata=function(){let e,t;try{e=D.getDocumentOrThrow(),t=D.getLocationOrThrow()}catch(i){return null}function r(...t){const r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){const n=r[e],i=["itemprop","property","name"].map((e=>n.getAttribute(e))).filter((e=>!!e&&t.includes(e)));if(i.length&&i){const e=n.getAttribute("content");if(e)return e}}return""}const n=function(){let t=r("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:r("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){const i=r[e],o=i.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{const n=t.pathname.split("/");n.pop();r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){const r=t.protocol+e;n.push(r)}else n.push(e)}}return n}(),name:n}};var H=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},K=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},F=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},W=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},V=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},J=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,G=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],$=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Y(e){return e?Z(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new V:"undefined"!=typeof navigator?Z(navigator.userAgent):"undefined"!=typeof process&&process.version?new K(process.version.slice(1)):null}function Z(e){var t=function(e){return""!==e&&G.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1)}(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new W;var i=n[1]&&n[1].split(/[._]/).slice(0,3);i?i.length<3&&(i=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}(i,function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-i.length))):i=[];var o=i.join("."),a=function(e){for(var t=0,r=$.length;t<r;t++){var n=$[t],i=n[0];if(n[1].exec(e))return i}return null}(e),s=J.exec(e);return s&&s[1]?new F(r,o,a,s[1]):new H(r,o,a)}function X(e){return Y(e)}function Q(){const e=X();return e&&e.os?e.os:void 0}function ee(){const e=Q();return!!e&&e.toLowerCase().includes("android")}function te(){const e=Q();return!!e&&(e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}function re(){return!!Q()&&(ee()||te())}function ne(){const e=X();return!(!e||!e.name)&&"node"===e.name.toLowerCase()}function ie(){return!ne()&&!!ue()}const oe=R,ae=C,se=B,fe=I,ce=P,ue=O,de=L,he=N,le=U,pe=j,be=q,ge=k;function ye(){return z()}const me=function(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return JSON.parse(e)}catch(t){return e}},ve=function(e){return"string"==typeof e?e:JSON.stringify(e)};function _e(e,t){const r=ve(t),n=ge();n&&n.setItem(e,r)}function we(e){let t=null,r=null;const n=ge();return n&&(r=n.getItem(e)),t=r?me(r):r,t}function xe(e){const t=ge();t&&t.removeItem(e)}const Se="WALLETCONNECT_DEEPLINK_CHOICE";function Ee(e,t){const r=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${r}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function Me(e){const t=e.href.split("?")[0];_e(Se,Object.assign(Object.assign({},e),{href:t}))}function ke(e,t){return e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))[0]}function Ae(e,t){let r=e;return t&&t.length&&(r=t.map((t=>ke(e,t))).filter(Boolean)),r}const Re="https://registry.walletconnect.org";function Te(){return Re+"/data/wallets.json"}function Ce(){return Re+"/data/dapps.json"}function Be(e){return Re+"/logo/sm/"+e+".jpeg"}function Ie(e,t="mobile"){return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:e.id?Be(e.id):"",universalLink:e[t].universal||"",deepLink:e[t].native||""}}function Pe(e,t="mobile"){return Object.values(e).filter((e=>!!e[t].universal||!!e[t].native)).map((e=>Ie(e,t)))}var Oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",detectEnv:X,detectOS:Q,isAndroid:ee,isIOS:te,isMobile:re,isNode:ne,isBrowser:ie,getFromWindow:oe,getFromWindowOrThrow:ae,getDocumentOrThrow:se,getDocument:fe,getNavigatorOrThrow:ce,getNavigator:ue,getLocationOrThrow:de,getLocation:he,getCryptoOrThrow:le,getCrypto:pe,getLocalStorageOrThrow:be,getLocalStorage:ge,getClientMeta:ye,safeJsonParse:me,safeJsonStringify:ve,setLocal:_e,getLocal:we,removeLocal:xe,mobileLinkChoiceKey:Se,formatIOSMobile:Ee,saveMobileLinkInfo:Me,getMobileRegistryEntry:ke,getMobileLinkRegistry:Ae,getWalletRegistryUrl:Te,getDappRegistryUrl:Ce,getAppLogoUrl:Be,formatMobileRegistryEntry:Ie,formatMobileRegistry:Pe});const Le=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Ne=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign"],Ue={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var je={exports:{}};!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=c.Buffer}catch(E){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;o<i;o++){var a=e.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function s(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,f=Math.min(o,o-a)+r,c=0,u=r;u<f;u+=n)c=s(e,u,u+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=s(e,u,e.length,t),u=0;u<a;u++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,f=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var u=f>>>26,d=67108863&f,h=Math.min(c,t.length-1),l=Math.max(0,c-e.length+1);l<=h;l++){var p=c-l|0;u+=(a=(i=0|e.words[p])*(o=0|t.words[l])+d)/67108864|0,d=67108863&a}r.words[c]=0|d,f=0|u}return 0!==f?r.words[c]=0|f:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!=(o=s>>>24-i&16777215)||a!==this.length-1?f[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=u[e],l=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);n=(p=p.idivn(l)).isZero()?b+n:f[h-b.length]+b+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,f="le"===t,c=new e(o),u=this.clone();if(f){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){var n,i,o,a=e.words,s=t.words,f=r.words,c=0,u=0|a[0],d=8191&u,h=u>>>13,l=0|a[1],p=8191&l,b=l>>>13,g=0|a[2],y=8191&g,m=g>>>13,v=0|a[3],_=8191&v,w=v>>>13,x=0|a[4],S=8191&x,E=x>>>13,M=0|a[5],k=8191&M,A=M>>>13,R=0|a[6],T=8191&R,C=R>>>13,B=0|a[7],I=8191&B,P=B>>>13,O=0|a[8],L=8191&O,N=O>>>13,U=0|a[9],j=8191&U,q=U>>>13,z=0|s[0],D=8191&z,H=z>>>13,K=0|s[1],F=8191&K,W=K>>>13,V=0|s[2],J=8191&V,G=V>>>13,$=0|s[3],Y=8191&$,Z=$>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],fe=8191&se,ce=se>>>13,ue=0|s[8],de=8191&ue,he=ue>>>13,le=0|s[9],pe=8191&le,be=le>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(d,D))|0)+((8191&(i=(i=Math.imul(d,H))+Math.imul(h,D)|0))<<13)|0;c=((o=Math.imul(h,H))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,H))+Math.imul(b,D)|0,o=Math.imul(b,H);var ye=(c+(n=n+Math.imul(d,F)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(h,F)|0))<<13)|0;c=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,D),i=(i=Math.imul(y,H))+Math.imul(m,D)|0,o=Math.imul(m,H),n=n+Math.imul(p,F)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(b,F)|0,o=o+Math.imul(b,W)|0;var me=(c+(n=n+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(h,J)|0))<<13)|0;c=((o=o+Math.imul(h,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,D),i=(i=Math.imul(_,H))+Math.imul(w,D)|0,o=Math.imul(w,H),n=n+Math.imul(y,F)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(m,F)|0,o=o+Math.imul(m,W)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,G)|0;var ve=(c+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,Z)|0)+Math.imul(h,Y)|0))<<13)|0;c=((o=o+Math.imul(h,Z)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(S,D),i=(i=Math.imul(S,H))+Math.imul(E,D)|0,o=Math.imul(E,H),n=n+Math.imul(_,F)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,F)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,Z)|0;var _e=(c+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(k,D),i=(i=Math.imul(k,H))+Math.imul(A,D)|0,o=Math.imul(A,H),n=n+Math.imul(S,F)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(E,F)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var we=(c+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(T,D),i=(i=Math.imul(T,H))+Math.imul(C,D)|0,o=Math.imul(C,H),n=n+Math.imul(k,F)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(A,F)|0,o=o+Math.imul(A,W)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,G)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var xe=(c+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,ae)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(I,D),i=(i=Math.imul(I,H))+Math.imul(P,D)|0,o=Math.imul(P,H),n=n+Math.imul(T,F)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(C,F)|0,o=o+Math.imul(C,W)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var Se=(c+(n=n+Math.imul(d,fe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(h,fe)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,D),i=(i=Math.imul(L,H))+Math.imul(N,D)|0,o=Math.imul(N,H),n=n+Math.imul(I,F)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(P,F)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,G)|0,n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,ce)|0;var Ee=(c+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,D),i=(i=Math.imul(j,H))+Math.imul(q,D)|0,o=Math.imul(q,H),n=n+Math.imul(L,F)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(N,F)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(m,fe)|0,o=o+Math.imul(m,ce)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,he)|0;var Me=(c+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,be)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,W))+Math.imul(q,F)|0,o=Math.imul(q,W),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,G)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,n=n+Math.imul(_,fe)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(w,fe)|0,o=o+Math.imul(w,ce)|0,n=n+Math.imul(y,de)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,he)|0;var ke=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,J),i=(i=Math.imul(j,G))+Math.imul(q,J)|0,o=Math.imul(q,G),n=n+Math.imul(L,Y)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,ce)|0,n=n+Math.imul(_,de)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,he)|0;var Ae=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,be)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,be)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,Y),i=(i=Math.imul(j,Z))+Math.imul(q,Y)|0,o=Math.imul(q,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,ce)|0,n=n+Math.imul(S,de)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(E,de)|0,o=o+Math.imul(E,he)|0;var Re=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul(q,Q)|0,o=Math.imul(q,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,ce)|0,n=n+Math.imul(k,de)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,he)|0;var Te=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,be)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(q,re)|0,o=Math.imul(q,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,n=n+Math.imul(I,fe)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(T,de)|0,i=(i=i+Math.imul(T,he)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,he)|0;var Ce=(c+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(q,oe)|0,o=Math.imul(q,ae),n=n+Math.imul(L,fe)|0,i=(i=i+Math.imul(L,ce)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,ce)|0,n=n+Math.imul(I,de)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(P,de)|0,o=o+Math.imul(P,he)|0;var Be=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,be)|0)+Math.imul(C,pe)|0))<<13)|0;c=((o=o+Math.imul(C,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(j,fe),i=(i=Math.imul(j,ce))+Math.imul(q,fe)|0,o=Math.imul(q,ce),n=n+Math.imul(L,de)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(N,de)|0,o=o+Math.imul(N,he)|0;var Ie=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,de),i=(i=Math.imul(j,he))+Math.imul(q,de)|0,o=Math.imul(q,he);var Pe=(c+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,be)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Oe=(c+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,be))+Math.imul(q,pe)|0))<<13)|0;return c=((o=Math.imul(q,be))+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,f[0]=ge,f[1]=ye,f[2]=me,f[3]=ve,f[4]=_e,f[5]=we,f[6]=xe,f[7]=Se,f[8]=Ee,f[9]=Me,f[10]=ke,f[11]=Ae,f[12]=Re,f[13]=Te,f[14]=Ce,f[15]=Be,f[16]=Ie,f[17]=Pe,f[18]=Oe,0!==c&&(f[19]=c,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(l=h),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?l(this,e,t):r<63?h(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,f=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=f;c++){var u=o-c,d=(0|e.words[u])*(0|t.words[c]),h=67108863&d;s=67108863&(h=h+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,f=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var d=f,h=c,l=0;l<a;l++){var p=r[u+l],b=n[u+l],g=r[u+l+a],y=n[u+l+a],m=d*g-h*y;y=d*y+h*g,g=m,r[u+l]=p+g,n[u+l]=b+y,r[u+l+a]=p-g,n[u+l+a]=b-y,l!==s&&(m=f*d-c*h,h=f*h+c*d,d=m)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),f=new Array(n),c=new Array(n),u=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,c,n),this.transform(a,o,s,f,n,i),this.transform(c,o,u,d,n,i);for(var l=0;l<n;l++){var p=s[l]*u[l]-f[l]*d[l];f[l]=s[l]*d[l]+f[l]*u[l],s[l]=p}return this.conjugate(s,f,n),this.transform(s,f,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,f=(0|this.words[t])-s<<n;this.words[t]=f|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,f=n;if(i-=a,i=Math.max(0,i),f){for(var c=0;c<a;c++)f.words[c]=this.words[c];f.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=i);c--){var d=0|this.words[c];this.words[c]=u<<26-o|d>>>o,u=d&s}return f&&0!==u&&(f.words[f.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var f=(0|e.words[i])*t;s=((o-=67108863&f)>>26)-(f/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!=(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,f=n.length-o.length;if("mod"!==t){(s=new i(null)).length=f+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var u=n.clone()._ishlnsubmul(o,1,f);0===u.negative&&(n=u,s&&(s.words[f]=1));for(var d=f-1;d>=0;d--){var h=67108864*(0|n.words[o.length+d])+(0|n.words[o.length+d-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(o,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,d),n.isZero()||(n.negative^=1);s&&(s.words[d]=h)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),f=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var u=n.clone(),d=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(u),a.isub(d)),o.iushrn(1),a.iushrn(1);for(var p=0,b=1;0==(n.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||f.isOdd())&&(s.iadd(u),f.isub(d)),s.iushrn(1),f.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(f)):(n.isub(t),s.isub(o),f.isub(a))}return{a:s,b:f,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),f=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,u=1;0==(t.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(f),a.iushrn(1);for(var d=0,h=1;0==(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(f),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new x(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(m,y),m.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(v,y),n(_,y),n(w,y),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new v;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return g[e]=t,t},x.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),f=s.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);0!==this.pow(u,c).cmp(f);)u.redIAdd(f);for(var d=this.pow(u,o),h=this.pow(e,o.addn(1).iushrn(1)),l=this.pow(e,o),p=a;0!==l.cmp(s);){for(var b=l,g=0;0!==b.cmp(s);g++)b=b.redSqr();r(g<p);var y=this.pow(d,new i(1).iushln(p-g-1));h=h.redMul(y),d=y.redSqr(),l=l.redMul(d),p=g}return h},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,f=t.bitLength()%26;for(0===f&&(f=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],u=f-1;u>=0;u--){var d=c>>u&1;o!==r[0]&&(o=this.sqr(o)),0!==d||0!==a?(a<<=1,a|=d,(4==++s||0===n&&0===u)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}f=26}return o},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},n(S,x),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(je,u);var qe=je.exports,ze={},De=Fe;Fe.strict=We,Fe.loose=Ve;var He=Object.prototype.toString,Ke={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Fe(e){return We(e)||Ve(e)}function We(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function Ve(e){return Ke[He.call(e)]}var Je=De.strict,Ge=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ze,"__esModule",{value:!0});var $e=ze.removeHexLeadingZeros=er=ze.sanitizeHex=Qt=ze.addHexPrefix=Zt=ze.removeHexPrefix=ze.padRight=ze.padLeft=ze.sanitizeBytes=ze.swapHex=ze.swapBytes=ze.splitBytes=ze.calcByteLength=ze.trimRight=ze.trimLeft=Ft=ze.concatArrays=Kt=ze.concatBuffers=Ht=ze.getEncoding=Dt=ze.getType=zt=ze.isArrayBuffer=jt=ze.isTypedArray=Nt=ze.isBuffer=Ot=ze.isHexString=ze.isBinaryString=ze.binaryToNumber=ze.binaryToUtf8=ze.binaryToHex=ze.binaryToArray=ze.binaryToBuffer=ze.numberToBinary=ze.numberToUtf8=ze.numberToHex=At=ze.numberToArray=kt=ze.numberToBuffer=ze.utf8ToBinary=ze.utf8ToNumber=Mt=ze.utf8ToHex=Et=ze.utf8ToArray=xt=ze.utf8ToBuffer=ze.hexToBinary=ze.hexToNumber=vt=ze.hexToUtf8=mt=ze.hexToArray=gt=ze.hexToBuffer=ze.arrayToBinary=lt=ze.arrayToNumber=dt=ze.arrayToUtf8=ct=ze.arrayToHex=st=ze.arrayToBuffer=ze.bufferToBinary=ot=ze.bufferToNumber=nt=ze.bufferToUtf8=tt=ze.bufferToHex=Qe=ze.bufferToArray=void 0;const Ye=Ge(De),Ze=Ge((function(e){if(Je(e)){var t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}return Buffer.from(e)}));function Xe(e){return new Uint8Array(e)}var Qe=ze.bufferToArray=Xe;function et(e,t=!1){const r=e.toString("hex");return t?Xt(r):r}var tt=ze.bufferToHex=et;function rt(e){return e.toString("utf8")}var nt=ze.bufferToUtf8=rt;function it(e){return e.readUIntBE(0,e.length)}var ot=ze.bufferToNumber=it;function at(e){return Ze.default(e)}ze.bufferToBinary=function(e){return pt(Xe(e))};var st=ze.arrayToBuffer=at;function ft(e,t=!1){return et(at(e),t)}var ct=ze.arrayToHex=ft;function ut(e){return rt(at(e))}var dt=ze.arrayToUtf8=ut;function ht(e){return it(at(e))}var lt=ze.arrayToNumber=ht;function pt(e){return Array.from(e).map(Rt).join("")}function bt(e){return Buffer.from(Yt(e),"hex")}ze.arrayToBinary=pt;var gt=ze.hexToBuffer=bt;function yt(e){return Xe(bt(e))}var mt=ze.hexToArray=yt;var vt=ze.hexToUtf8=function(e){return rt(bt(e))};function _t(e){return pt(yt(e))}function wt(e){return Buffer.from(e,"utf8")}ze.hexToNumber=function(e){return ht(yt(e))},ze.hexToBinary=_t;var xt=ze.utf8ToBuffer=wt;function St(e){return Xe(wt(e))}var Et=ze.utf8ToArray=St;var Mt=ze.utf8ToHex=function(e,t=!1){return et(wt(e),t)};ze.utf8ToNumber=function(e){const t=parseInt(e,10);return function(e,t){if(!e)throw new Error(t)}(!function(e){return void 0===e}(t),"Number can only safely store up to 53 bits"),t},ze.utf8ToBinary=function(e){return pt(St(e))};var kt=ze.numberToBuffer=function(e){return Tt(Rt(e))};var At=ze.numberToArray=function(e){return Ct(Rt(e))};function Rt(e){return Gt((e>>>0).toString(2))}function Tt(e){return at(Ct(e))}function Ct(e){return new Uint8Array(Vt(e).map((e=>parseInt(e,2))))}function Bt(e,t){return ft(Ct(e),t)}function It(e){return!("string"!=typeof e||!new RegExp(/^[01]+$/).test(e))&&e.length%8==0}function Pt(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}ze.numberToHex=function(e,t){return Bt(Rt(e),t)},ze.numberToUtf8=function(e){return`${e}`},ze.numberToBinary=Rt,ze.binaryToBuffer=Tt,ze.binaryToArray=Ct,ze.binaryToHex=Bt,ze.binaryToUtf8=function(e){return ut(Ct(e))},ze.binaryToNumber=function(e){return ht(Ct(e))},ze.isBinaryString=It;var Ot=ze.isHexString=Pt;function Lt(e){return Buffer.isBuffer(e)}var Nt=ze.isBuffer=Lt;function Ut(e){return Ye.default.strict(e)&&!Lt(e)}var jt=ze.isTypedArray=Ut;function qt(e){return!Ut(e)&&!Lt(e)&&void 0!==e.byteLength}var zt=ze.isArrayBuffer=qt;var Dt=ze.getType=function(e){return Lt(e)?"buffer":Ut(e)?"typed-array":qt(e)?"array-buffer":Array.isArray(e)?"array":typeof e};var Ht=ze.getEncoding=function(e){return It(e)?"binary":Pt(e)?"hex":"utf8"};var Kt=ze.concatBuffers=function(...e){return Buffer.concat(e)};var Ft=ze.concatArrays=function(...e){let t=[];return e.forEach((e=>t=t.concat(Array.from(e)))),new Uint8Array([...t])};function Wt(e,t=8){const r=e%t;return r?(e-r)/t*t+t:e}function Vt(e,t=8){const r=Gt(e).match(new RegExp(`.{${t}}`,"gi"));return Array.from(r||[])}function Jt(e){return Vt(e).map(tr).join("")}function Gt(e,t=8,r="0"){return $t(e,Wt(e.length,t),r)}function $t(e,t,r="0"){return rr(e,t,!0,r)}function Yt(e){return e.replace(/^0x/,"")}ze.trimLeft=function(e,t){const r=e.length-t;return r>0&&(e=e.slice(r)),e},ze.trimRight=function(e,t){return e.slice(0,t)},ze.calcByteLength=Wt,ze.splitBytes=Vt,ze.swapBytes=Jt,ze.swapHex=function(e){return Bt(Jt(_t(e)))},ze.sanitizeBytes=Gt,ze.padLeft=$t,ze.padRight=function(e,t,r="0"){return rr(e,t,!1,r)};var Zt=ze.removeHexPrefix=Yt;function Xt(e){return e.startsWith("0x")?e:`0x${e}`}var Qt=ze.addHexPrefix=Xt;var er=ze.sanitizeHex=function(e){return(e=Gt(e=Yt(e),2))&&(e=Xt(e)),e};function tr(e){return e.split("").reverse().join("")}function rr(e,t,r,n="0"){const i=t-e.length;let o=e;if(i>0){const t=n.repeat(i);o=r?t+e:e+t}return o}function nr(e){return st(new Uint8Array(e))}function ir(e,t){return ct(new Uint8Array(e),!t)}function or(e){return Qe(e).buffer}function ar(e){return xt(e)}function sr(e,t){return Mt(e,!t)}function fr(e){return mt(e).buffer}function cr(e,t){const r=Zt(er(new qe(e).toString(16)));return t?r:Qt(r)}$e=ze.removeHexLeadingZeros=function(e){const t=e.startsWith("0x");return e=(e=Yt(e)).startsWith("0")?e.substring(1):e,t?Xt(e):e};var ur,dr={exports:{}};
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */ur=dr,function(){var e="input is invalid type",t="object"==typeof window,r=t?window:{};r.JS_SHA3_NO_WINDOW&&(t=!1);var n=!t&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?r=u:n&&(r=self);var i=!r.JS_SHA3_NO_COMMON_JS&&ur.exports,o=!r.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),s=[4,1024,262144,67108864],f=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],d=[224,256,384,512],h=[128,256],l=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!r.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!o||!r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,r){return function(n){return new C(e,t,e).update(n)[r]()}},g=function(e,t,r){return function(n,i){return new C(e,t,i).update(n)[r]()}},y=function(e,t,r){return function(t,n,i,o){return x["cshake"+e].update(t,n,i,o)[r]()}},m=function(e,t,r){return function(t,n,i,o){return x["kmac"+e].update(t,n,i,o)[r]()}},v=function(e,t,r,n){for(var i=0;i<l.length;++i){var o=l[i];e[o]=t(r,n,o)}return e},_=function(e,t){var r=b(e,t,"hex");return r.create=function(){return new C(e,t,e)},r.update=function(e){return r.create().update(e)},v(r,b,e,t)},w=[{name:"keccak",padding:[1,256,65536,16777216],bits:d,createMethod:_},{name:"sha3",padding:[6,1536,393216,100663296],bits:d,createMethod:_},{name:"shake",padding:[31,7936,2031616,520093696],bits:h,createMethod:function(e,t){var r=g(e,t,"hex");return r.create=function(r){return new C(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},v(r,g,e,t)}},{name:"cshake",padding:s,bits:h,createMethod:function(e,t){var r=p[e],n=y(e,0,"hex");return n.create=function(n,i,o){return i||o?new C(e,t,n).bytepad([i,o],r):x["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},v(n,y,e,t)}},{name:"kmac",padding:s,bits:h,createMethod:function(e,t){var r=p[e],n=m(e,0,"hex");return n.create=function(n,i,o){return new B(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},v(n,m,e,t)}}],x={},S=[],E=0;E<w.length;++E)for(var M=w[E],k=M.bits,A=0;A<k.length;++A){var R=M.name+"_"+k[A];if(S.push(R),x[R]=M.createMethod(k[A],M.padding),"sha3"!==M.name){var T=M.name+k[A];S.push(T),x[T]=x[R]}}function C(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function B(e,t,r){C.call(this,e,t,r)}C.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,a,s=this.blocks,c=this.byteCount,u=t.length,d=this.blockCount,h=0,l=this.s;h<u;){if(this.reset)for(this.reset=!1,s[0]=this.block,i=1;i<d+1;++i)s[i]=0;if(r)for(i=this.start;h<u&&i<c;++h)s[i>>2]|=t[h]<<f[3&i++];else for(i=this.start;h<u&&i<c;++h)(a=t.charCodeAt(h))<128?s[i>>2]|=a<<f[3&i++]:a<2048?(s[i>>2]|=(192|a>>6)<<f[3&i++],s[i>>2]|=(128|63&a)<<f[3&i++]):a<55296||a>=57344?(s[i>>2]|=(224|a>>12)<<f[3&i++],s[i>>2]|=(128|a>>6&63)<<f[3&i++],s[i>>2]|=(128|63&a)<<f[3&i++]):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++h)),s[i>>2]|=(240|a>>18)<<f[3&i++],s[i>>2]|=(128|a>>12&63)<<f[3&i++],s[i>>2]|=(128|a>>6&63)<<f[3&i++],s[i>>2]|=(128|63&a)<<f[3&i++]);if(this.lastByteIndex=i,i>=c){for(this.start=i-c,this.block=s[d],i=0;i<d;++i)l[i]^=s[i];I(l),this.reset=!0}else this.start=i}return this},C.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},C.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,a=t.length;if(r)i=a;else for(var s=0;s<t.length;++s){var f=t.charCodeAt(s);f<128?i+=1:f<2048?i+=2:f<55296||f>=57344?i+=3:(f=65536+((1023&f)<<10|1023&t.charCodeAt(++s)),i+=4)}return i+=this.encode(8*i),this.update(t),i},C.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];I(n)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,f="";s<n;){for(o=0;o<t&&s<n;++o,++s)e=r[o],f+=a[e>>4&15]+a[15&e]+a[e>>12&15]+a[e>>8&15]+a[e>>20&15]+a[e>>16&15]+a[e>>28&15]+a[e>>24&15];s%t==0&&(I(r),o=0)}return i&&(e=r[o],f+=a[e>>4&15]+a[15&e],i>1&&(f+=a[e>>12&15]+a[e>>8&15]),i>2&&(f+=a[e>>20&15]+a[e>>16&15])),f},C.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var f=new Uint32Array(e);a<n;){for(o=0;o<t&&a<n;++o,++a)f[a]=r[o];a%t==0&&I(r)}return i&&(f[o]=r[o],e=e.slice(0,s)),e},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,f=[];s<i;){for(a=0;a<r&&s<i;++a,++s)e=s<<2,t=n[a],f[e]=255&t,f[e+1]=t>>8&255,f[e+2]=t>>16&255,f[e+3]=t>>24&255;s%r==0&&I(n)}return o&&(e=s<<2,t=n[a],f[e]=255&t,o>1&&(f[e+1]=t>>8&255),o>2&&(f[e+2]=t>>16&255)),f},B.prototype=new C,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var I=function(e){var t,r,n,i,o,a,s,f,u,d,h,l,p,b,g,y,m,v,_,w,x,S,E,M,k,A,R,T,C,B,I,P,O,L,N,U,j,q,z,D,H,K,F,W,V,J,G,$,Y,Z,X,Q,ee,te,re,ne,ie,oe,ae,se,fe,ce,ue;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],f=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],d=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(l=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|s>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|a>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(f<<1|u>>>31),r=o^(u<<1|f>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=a^(d<<1|h>>>31),r=s^(h<<1|d>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=f^(l<<1|p>>>31),r=u^(p<<1|l>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=d^(i<<1|o>>>31),r=h^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,b=e[0],g=e[1],J=e[11]<<4|e[10]>>>28,G=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,fe=e[30]<<9|e[31]>>>23,K=e[40]<<18|e[41]>>>14,F=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,N=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,m=e[12]<<12|e[13]>>>20,$=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,B=e[33]<<13|e[32]>>>19,I=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,ue=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,U=e[14]<<6|e[15]>>>26,j=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,_=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,O=e[44]<<29|e[45]>>>3,M=e[6]<<28|e[7]>>>4,k=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,q=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,W=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,R=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,D=e[38]<<8|e[39]>>>24,H=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,E=e[49]<<14|e[48]>>>18,e[0]=b^~y&v,e[1]=g^~m&_,e[10]=M^~A&T,e[11]=k^~R&C,e[20]=L^~U&q,e[21]=N^~j&z,e[30]=W^~J&$,e[31]=V^~G&Y,e[40]=te^~ne&oe,e[41]=re^~ie&ae,e[2]=y^~v&w,e[3]=m^~_&x,e[12]=A^~T&B,e[13]=R^~C&I,e[22]=U^~q&D,e[23]=j^~z&H,e[32]=J^~$&Z,e[33]=G^~Y&X,e[42]=ne^~oe&se,e[43]=ie^~ae&fe,e[4]=v^~w&S,e[5]=_^~x&E,e[14]=T^~B&P,e[15]=C^~I&O,e[24]=q^~D&K,e[25]=z^~H&F,e[34]=$^~Z&Q,e[35]=Y^~X&ee,e[44]=oe^~se&ce,e[45]=ae^~fe&ue,e[6]=w^~S&b,e[7]=x^~E&g,e[16]=B^~P&M,e[17]=I^~O&k,e[26]=D^~K&L,e[27]=H^~F&N,e[36]=Z^~Q&W,e[37]=X^~ee&V,e[46]=se^~ce&te,e[47]=fe^~ue&re,e[8]=S^~b&y,e[9]=E^~g&m,e[18]=P^~M&A,e[19]=O^~k&R,e[28]=K^~L&U,e[29]=F^~N&j,e[38]=Q^~W&J,e[39]=ee^~V&G,e[48]=ce^~te&ne,e[49]=ue^~re&ie,e[0]^=c[n],e[1]^=c[n+1]};if(i)ur.exports=x;else for(E=0;E<S.length;++E)r[S[E]]=x[S[E]]}();var hr={},lr={};function pr(){return(null==u?void 0:u.crypto)||(null==u?void 0:u.msCrypto)||{}}function br(){const e=pr();return e.subtle||e.webkitSubtle}Object.defineProperty(lr,"__esModule",{value:!0}),lr.isBrowserCryptoAvailable=lr.getSubtleCrypto=lr.getBrowerCrypto=void 0,lr.getBrowerCrypto=pr,lr.getSubtleCrypto=br,lr.isBrowserCryptoAvailable=function(){return!!pr()&&!!br()};var gr,yr,mr,vr={};function _r(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function wr(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}function xr(e){return er(e)}function Sr(e){return $e(Qt(e))}Object.defineProperty(vr,"__esModule",{value:!0}),vr.isBrowser=vr.isNode=vr.isReactNative=void 0,vr.isReactNative=_r,vr.isNode=wr,vr.isBrowser=function(){return!_r()&&!wr()},gr=hr,yr=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),mr=u&&u.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||yr(t,e,r)},Object.defineProperty(gr,"__esModule",{value:!0}),mr(lr,gr),mr(vr,gr);const Er=function(){return Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3))};function Mr(){return((e,t)=>{for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t})()}function kr(e,t){let r;const n=Ue[e];return n&&(r=`https://${n}.infura.io/v3/${t}`),r}function Ar(e){return""===e||"string"==typeof e&&""===e.trim()}function Rr(e){return!(e&&e.length)}function Tr(e,t){return Ot(e,t)}function Cr(e){return void 0!==e.method}function Br(e){return void 0!==e.result}function Ir(e){return void 0!==e.error}function Pr(e){return void 0!==e.event}function Or(e){return Le.includes(e)||e.startsWith("wc_")}function Lr(e){return!!e.method.startsWith("wc_")||!Ne.includes(e.method)}function Nr(e){e=Zt(e.toLowerCase());const t=Zt(dr.exports.keccak_256(ar(e)));let r="";for(let n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return Qt(r)}const Ur=e=>!!e&&("0x"===e.toLowerCase().substring(0,2)&&(!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(e)&&!/^(0x)?[0-9A-F]{40}$/.test(e))||e===Nr(e))));function jr(e){return Rr(e)||Tr(e[0])||(e[0]=sr(e[0])),e}function qr(e){if(void 0!==e.type&&"0"!==e.type)return e;if(void 0===e.from||!Ur(e.from))throw new Error("Transaction object must include a valid 'from' value.");function t(e){let t=e;return("number"==typeof e||"string"==typeof e&&!Ar(e))&&(Tr(e)?"string"==typeof e&&(t=xr(e)):t=cr(e)),"string"==typeof t&&(t=Sr(t)),t}const r={from:xr(e.from),to:void 0===e.to?"":xr(e.to),gasPrice:void 0===e.gasPrice?"":t(e.gasPrice),gas:void 0===e.gas?void 0===e.gasLimit?"":t(e.gasLimit):t(e.gas),value:void 0===e.value?"":t(e.value),nonce:void 0===e.nonce?"":t(e.nonce),data:void 0===e.data?"":xr(e.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach((e=>{!r[e].trim().length&&n.includes(e)&&delete r[e]})),r}function zr(e){const t=e.message||"Failed or Rejected Request";let r=-32e3;if(e&&!e.code)switch(t){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3}return{code:r,message:t}}var Dr={},Hr=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),Kr=new RegExp("%[a-f0-9]{2}","gi"),Fr=new RegExp("(%[a-f0-9]{2})+","gi");function Wr(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],Wr(r),Wr(n))}function Vr(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(Kr),r=1;r<t.length;r++)t=(e=Wr(t,r).join("")).match(Kr);return e}}var Jr=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"","%FF%FE":""},n=Fr.exec(e);n;){try{r[n[0]]=decodeURIComponent(n[0])}catch(t){var i=Vr(n[0]);i!==n[0]&&(r[n[0]]=i)}n=Fr.exec(e)}r["%C2"]="";for(var o=Object.keys(r),a=0;a<o.length;a++){var s=o[a];e=e.replace(new RegExp(s,"g"),r[s])}return e}(e)}},Gr=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]};function $r(e){const t=-1!==e.indexOf("?")?e.indexOf("?"):void 0;return void 0!==t?e.substr(t):""}function Yr(e,t){let r=Zr(e);return r=Object.assign(Object.assign({},r),t),e=Xr(r)}function Zr(e){return Dr.parse(e)}function Xr(e){return Dr.stringify(e)}function Qr(e){return void 0!==e.bridge}function en(e){const t=e.indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,n=e.substring(0,t);const i=function(e){const t=e.split("@");return{handshakeTopic:t[0],version:parseInt(t[1],10)}}(e.substring(t+1,r));const o=function(e){const t=Zr(e);return{key:t.key||"",bridge:t.bridge||""}}(void 0!==r?e.substr(r):"");return Object.assign(Object.assign({protocol:n},i),o)}!function(e){const t=Hr,r=Jr,n=Gr;function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,r){return r.encode?r.strict?t(e):encodeURIComponent(e):e}function a(e,t){return t.decode?r(e):e}function s(e){return Array.isArray(e)?e.sort():"object"==typeof e?s(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function f(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function c(e){const t=(e=f(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function u(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const i="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((t=>a(t,e))):null===r?r:a(r,e);n[t]=i};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const i of e.split("&")){let[e,s]=n(t.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:a(s,t),r(a(e,t),s,o)}for(const n of Object.keys(o)){const e=o[n];if("object"==typeof e&&null!==e)for(const r of Object.keys(e))e[r]=u(e[r],t);else o[n]=u(e,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce(((e,t)=>{const r=o[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=s(r):e[t]=r,e}),Object.create(null))}e.extract=c,e.parse=d,e.stringify=(e,t)=>{if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[o(t,e),"[",i,"]"].join("")]:[...r,[o(t,e),"[",o(i,e),"]=",o(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[o(t,e),"[]"].join("")]:[...r,[o(t,e),"[]=",o(n,e)].join("")];case"comma":case"separator":return t=>(r,n)=>null==n||0===n.length?r:0===r.length?[[o(t,e),"=",o(n,e)].join("")]:[[r,o(n,e)].join(e.arrayFormatSeparator)];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,o(t,e)]:[...r,[o(t,e),"=",o(n,e)].join("")]}}(t),a={};for(const i of Object.keys(e))r(i)||(a[i]=e[i]);const s=Object.keys(a);return!1!==t.sort&&s.sort(t.sort),s.map((r=>{const i=e[r];return void 0===i?"":null===i?o(r,t):Array.isArray(i)?i.reduce(n(r),[]).join("&"):o(r,t)+"="+o(i,t)})).filter((e=>e.length>0)).join("&")},e.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,i]=n(e,"#");return Object.assign({url:r.split("?")[0]||"",query:d(c(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:a(i,t)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=f(t.url).split("?")[0]||"",i=e.extract(t.url),a=e.parse(i,{sort:!1}),s=Object.assign(a,t.query);let c=e.stringify(s,r);c&&(c=`?${c}`);let u=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(t.url);return t.fragmentIdentifier&&(u=`#${o(t.fragmentIdentifier,r)}`),`${n}${c}${u}`}}(Dr);var tn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",detectEnv:X,detectOS:Q,isAndroid:ee,isIOS:te,isMobile:re,isNode:ne,isBrowser:ie,getFromWindow:oe,getFromWindowOrThrow:ae,getDocumentOrThrow:se,getDocument:fe,getNavigatorOrThrow:ce,getNavigator:ue,getLocationOrThrow:de,getLocation:he,getCryptoOrThrow:le,getCrypto:pe,getLocalStorageOrThrow:be,getLocalStorage:ge,getClientMeta:ye,safeJsonParse:me,safeJsonStringify:ve,setLocal:_e,getLocal:we,removeLocal:xe,mobileLinkChoiceKey:Se,formatIOSMobile:Ee,saveMobileLinkInfo:Me,getMobileRegistryEntry:ke,getMobileLinkRegistry:Ae,getWalletRegistryUrl:Te,getDappRegistryUrl:Ce,getAppLogoUrl:Be,formatMobileRegistryEntry:Ie,formatMobileRegistry:Pe,reservedEvents:Le,signingMethods:Ne,stateMethods:["eth_accounts","eth_chainId","net_version"],infuraNetworks:Ue,convertArrayBufferToBuffer:nr,convertArrayBufferToUtf8:function(e){return dt(new Uint8Array(e))},convertArrayBufferToHex:ir,convertArrayBufferToNumber:function(e){return lt(new Uint8Array(e))},concatArrayBuffers:function(...e){return mt(e.map((e=>ct(new Uint8Array(e)))).join("")).buffer},convertBufferToArrayBuffer:or,convertBufferToUtf8:function(e){return nt(e)},convertBufferToHex:function(e,t){return tt(e,!t)},convertBufferToNumber:function(e){return ot(e)},concatBuffers:function(...e){return Kt(...e)},convertUtf8ToArrayBuffer:function(e){return Et(e).buffer},convertUtf8ToBuffer:ar,convertUtf8ToHex:sr,convertUtf8ToNumber:function(e){return new qe(e,10).toNumber()},convertHexToBuffer:function(e){return gt(e)},convertHexToArrayBuffer:fr,convertHexToUtf8:function(e){return vt(e)},convertHexToNumber:function(e){return new qe(Zt(e),"hex").toNumber()},convertNumberToBuffer:function(e){return kt(e)},convertNumberToArrayBuffer:function(e){return At(e).buffer},convertNumberToUtf8:function(e){return new qe(e).toString()},convertNumberToHex:cr,toChecksumAddress:Nr,isValidAddress:Ur,parsePersonalSign:jr,parseTransactionData:qr,sanitizeHex:xr,addHexPrefix:function(e){return Qt(e)},removeHexPrefix:function(e){return Zt(e)},removeHexLeadingZeros:Sr,payloadId:Er,uuid:Mr,logDeprecationWarning:function(){console.warn("DEPRECATION WARNING: This WalletConnect client library will be deprecated in favor of @walletconnect/client. Please check docs.walletconnect.org to learn more about this migration!")},getInfuraRpcUrl:kr,getRpcUrl:function(e,t){let r;const n=kr(e,t.infuraId);return t.custom&&t.custom[e]?r=t.custom[e]:n&&(r=n),r},promisify:function(e,t){return async(...r)=>new Promise(((n,i)=>{e.apply(t,[...r,(e,t)=>{null==e&&i(e),n(t)}])}))},formatRpcError:zr,isWalletConnectSession:Qr,parseWalletConnectUri:en,getQueryString:$r,appendToQueryString:Yr,parseQueryString:Zr,formatQueryString:Xr,isEmptyString:Ar,isEmptyArray:Rr,isBuffer:function(e){return Nt(e)},isTypedArray:function(e){return jt(e)},isArrayBuffer:function(e){return zt(e)},getType:function(e){return Dt(e)},getEncoding:function(e){return Ht(e)},isHexString:Tr,isJsonRpcSubscription:function(e){return"object"==typeof e.params},isJsonRpcRequest:Cr,isJsonRpcResponseSuccess:Br,isJsonRpcResponseError:Ir,isInternalEvent:Pr,isReservedEvent:Or,isSilentPayload:Lr});class rn{constructor(){this._eventEmitters=[],"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",(()=>this.trigger("online"))),window.addEventListener("offline",(()=>this.trigger("offline"))))}on(e,t){this._eventEmitters.push({event:e,callback:t})}trigger(e){let t=[];e&&(t=this._eventEmitters.filter((t=>t.event===e))),t.forEach((e=>{e.callback()}))}}const nn=void 0!==global.WebSocket?global.WebSocket:require("ws");class on{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new rn,!e.url||"string"!=typeof e.url)throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",(()=>this._socketCreate()))}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return 0===this.readyState}set connected(e){}get connected(){return 1===this.readyState}set closing(e){}get closing(){return 2===this.readyState}set closed(e){}get closed(){return 3===this.readyState}open(){this._socketCreate()}close(){this._socketClose()}send(e,t,r){if(!t||"string"!=typeof t)throw new Error("Missing or invalid topic field");this._socketSend({topic:t,type:"pub",payload:e,silent:!!r})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,t){this._events.push({event:e,callback:t})}_socketCreate(){if(this._nextSocket)return;const e=function(e,t,r){var n,i;const o=(e.startsWith("https")?e.replace("https","wss"):e.startsWith("http")?e.replace("http","ws"):e).split("?"),a=ie()?{protocol:t,version:r,env:"browser",host:(null===(n=he())||void 0===n?void 0:n.host)||""}:{protocol:t,version:r,env:(null===(i=X())||void 0===i?void 0:i.name)||""},s=Yr($r(o[1]||""),a);return o[0]+"?"+s}(this._url,this._protocol,this._version);if(this._nextSocket=new nn(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=e=>this._socketReceive(e),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=e=>this._socketError(e),this._nextSocket.onclose=()=>{setTimeout((()=>{this._nextSocket=null,this._socketCreate()}),1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const t=JSON.stringify(e);this._socket&&1===this._socket.readyState?this._socket.send(t):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let t;try{t=JSON.parse(e.data)}catch(r){return}if(this._socketSend({topic:t.topic,type:"ack",payload:"",silent:!0}),this._socket&&1===this._socket.readyState){const e=this._events.filter((e=>"message"===e.event));e&&e.length&&e.forEach((e=>e.callback(t)))}}_socketError(e){const t=this._events.filter((e=>"error"===e.event));t&&t.length&&t.forEach((t=>t.callback(e)))}_queueSubscriptions(){this._subscriptions.forEach((e=>this._queue.push({topic:e,type:"sub",payload:"",silent:!0}))),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach((e=>this._socketSend(e))),this._queue=[]}}class an{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter((t=>t.event!==e))}trigger(e){let t,r=[];t=Cr(e)?e.method:Br(e)||Ir(e)?`response:${e.id}`:Pr(e)?e.event:"",t&&(r=this._eventEmitters.filter((e=>e.event===t))),r&&r.length||Or(t)||Pr(t)||(r=this._eventEmitters.filter((e=>"call_request"===e.event))),r.forEach((t=>{if(Ir(e)){const r=new Error(e.error.message);t.callback(r,null)}else t.callback(null,e)}))}}class sn{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const t=we(this.storageId);return t&&Qr(t)&&(e=t),e}setSession(e){return _e(this.storageId,e),e}removeSession(){xe(this.storageId)}}const fn="abcdefghijklmnopqrstuvwxyz0123456789".split("").map((e=>`https://${e}.bridge.walletconnect.org`));function cn(){return fn[Math.floor(Math.random()*fn.length)]}async function un(e,t="AES-CBC"){return hr.getSubtleCrypto().importKey("raw",e,function(e){return"AES-CBC"===e?{length:256,name:"AES-CBC"}:{hash:{name:"SHA-256"},name:"HMAC"}}(t),!0,function(e){return"AES-CBC"===e?["encrypt","decrypt"]:["sign","verify"]}(t))}function dn(e,t,r){return async function(e,t,r){const n=hr.getSubtleCrypto(),i=await un(t,"AES-CBC"),o=await n.encrypt({iv:e,name:"AES-CBC"},i,r);return new Uint8Array(o)}(e,t,r)}function hn(e,t,r){return async function(e,t,r){const n=hr.getSubtleCrypto(),i=await un(t,"AES-CBC"),o=await n.decrypt({iv:e,name:"AES-CBC"},i,r);return new Uint8Array(o)}(e,t,r)}async function ln(e,t){return await async function(e,t){const r=hr.getSubtleCrypto(),n=await un(e,"HMAC"),i=await r.sign({length:256,name:"HMAC"},n,t);return new Uint8Array(i)}(e,t)}async function pn(e){const t=function(e){return hr.getBrowerCrypto().getRandomValues(new Uint8Array(e))}((e||256)/8);return or(st(t))}async function bn(e,t){const r=mt(e.data),n=mt(e.iv),i=mt(e.hmac),o=ct(i,!1),a=Ft(r,n),s=await ln(t,a),f=ct(s,!1);return Zt(o)===Zt(f)}var gn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",generateKey:pn,verifyHmac:bn,encrypt:async function(e,t,r){const n=Qe(nr(t)),i=r||await pn(128),o=Qe(nr(i)),a=ct(o,!1),s=JSON.stringify(e),f=Et(s),c=await dn(o,n,f),u=ct(c,!1),d=Ft(c,o),h=await ln(n,d);return{data:u,hmac:ct(h,!1),iv:a}},decrypt:async function(e,t){const r=Qe(nr(t));if(!r)throw new Error("Missing key: required for decryption");if(!(await bn(e,r)))return null;const n=mt(e.data),i=mt(e.iv),o=await hn(i,r,n),a=dt(o);let s;try{s=JSON.parse(a)}catch(f){return null}return s}});var yn=d(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:class extends class{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new an,this._clientMeta=ye()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new sn(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Ne,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error("Missing one of the required parameters: bridge / uri / session");var t;e.connectorOpts.bridge&&(this.bridge=function(e){return"walletconnect.org"===function(e){return function(e){let t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0];return t=t.split(":")[0],t=t.split("?")[0],t}(e).split(".").slice(-2).join(".")}(e)}(t=e.connectorOpts.bridge)?cn():t),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const r=e.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new on({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){e&&(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const t=fr(e);this._key=t}get key(){if(this._key){return ir(this._key,!0)}return""}set clientId(e){e&&(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=Mr()),this._clientId}set peerId(e){e&&(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=ye()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){e&&(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){e&&(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:t,bridge:r,key:n}=this._parseUri(e);this.handshakeTopic=t,this.bridge=r,this.key=n}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,t){const r={event:e,callback:t};this._eventManager.subscribe(r)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const t=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=t.id,this.handshakeTopic=Mr(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",(()=>{throw new Error("User close QRCode Modal")}));const r=()=>{this.killSession()};try{const e=await this._sendCallRequest(t);return e&&r(),e}catch(n){throw r(),n}}async connect(e){if(!this._qrcodeModal)throw new Error("QRCode Modal not provided");return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise((async(e,t)=>{this.on("modal_closed",(()=>t(new Error("User close QRCode Modal")))),this.on("connect",((r,n)=>{if(r)return t(r);e(n.params[0])}))})))}async createSession(e){if(this._connected)throw new Error("Session currently connected");if(this.pending)return;this._key=await this._generateKey();const t=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=t.id,this.handshakeTopic=Mr(),this._sendSessionRequest(t,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error("Session currently connected");this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:t};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error("Session currently connected");const t=e&&e.message?e.message:"Session Rejected",r=this._formatResponse({id:this.handshakeId,error:{message:t}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error("Session currently disconnected");this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[t]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const t=e?e.message:"Session Disconnected",r=this._formatRequest({method:"wc_sessionUpdate",params:[{approved:!1,chainId:null,networkId:null,accounts:null}]});await this._sendRequest(r),this._handleSessionDisconnect(t)}async sendTransaction(e){if(!this._connected)throw new Error("Session currently disconnected");const t=qr(e),r=this._formatRequest({method:"eth_sendTransaction",params:[t]});return await this._sendCallRequest(r)}async signTransaction(e){if(!this._connected)throw new Error("Session currently disconnected");const t=qr(e),r=this._formatRequest({method:"eth_signTransaction",params:[t]});return await this._sendCallRequest(r)}async signMessage(e){if(!this._connected)throw new Error("Session currently disconnected");const t=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(t)}async signPersonalMessage(e){if(!this._connected)throw new Error("Session currently disconnected");e=jr(e);const t=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(t)}async signTypedData(e){if(!this._connected)throw new Error("Session currently disconnected");const t=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(t)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const t=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(t)}unsafeSend(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),new Promise(((t,r)=>{this._subscribeToResponse(e.id,((e,n)=>{if(e)r(e);else{if(!n)throw new Error("Missing JSON RPC response");t(n)}}))}))}async sendCustomRequest(e,t){if(!this._connected)throw new Error("Session currently disconnected");switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return cr(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=qr(e.params[0]));break;case"personal_sign":e.params&&(e.params=jr(e.params))}const r=this._formatRequest(e);return await this._sendCallRequest(r,t)}approveRequest(e){if(!Br(e))throw new Error('JSON-RPC success response must include "result" field');{const t=this._formatResponse(e);this._sendResponse(t)}}rejectRequest(e){if(!Ir(e))throw new Error('JSON-RPC error response must include "error" field');{const t=this._formatResponse(e);this._sendResponse(t)}}transportClose(){this._transport.close()}async _sendRequest(e,t){const r=this._formatRequest(e),n=await this._encrypt(r),i=void 0!==(null==t?void 0:t.topic)?t.topic:this.peerId,o=JSON.stringify(n),a=void 0!==(null==t?void 0:t.forcePushNotification)?!t.forcePushNotification:Lr(r);this._transport.send(o,i,a)}async _sendResponse(e){const t=await this._encrypt(e),r=this.peerId,n=JSON.stringify(t);this._transport.send(n,r,!0)}async _sendSessionRequest(e,t,r){this._sendRequest(e,r),this._subscribeToSessionResponse(e.id,t)}_sendCallRequest(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(void 0===e.method)throw new Error('JSON RPC request must have valid "method" value');return{id:void 0===e.id?Er():e.id,jsonrpc:"2.0",method:e.method,params:void 0===e.params?[]:e.params}}_formatResponse(e){if(void 0===e.id)throw new Error('JSON RPC request must have valid "id" value');const t={id:e.id,jsonrpc:"2.0"};if(Ir(e)){const r=zr(e.error);return Object.assign(Object.assign(Object.assign({},t),e),{error:r})}if(Br(e)){return Object.assign(Object.assign({},t),e)}throw new Error("JSON RPC response format is invalid")}_handleSessionDisconnect(e){const t=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),xe(Se)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,t){t&&t.approved?(this._connected?(t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),t.peerId&&!this.peerId&&(this.peerId=t.peerId),t.peerMeta&&!this.peerMeta&&(this.peerMeta=t.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let t;try{t=JSON.parse(e.payload)}catch(n){return}const r=await this._decrypt(t);r&&this._eventManager.trigger(r)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,t){this.on(`response:${e}`,t)}_subscribeToSessionResponse(e,t){this._subscribeToResponse(e,((e,r)=>{e?this._handleSessionResponse(e.message):r.result?this._handleSessionResponse(t,r.result):r.error&&r.error.message?this._handleSessionResponse(r.error.message):this._handleSessionResponse(t)}))}_subscribeToCallResponse(e){return new Promise(((t,r)=>{this._subscribeToResponse(e,((e,n)=>{e?r(e):n.result?t(n.result):n.error&&n.error.message?r(new Error(n.error.message)):r(new Error("JSON RPC response format is invalid"))}))}))}_subscribeToInternalEvents(){this.on("display_uri",(()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,(()=>{this._eventManager.trigger({event:"modal_closed",params:[]})}),this._qrcodeModalOptions)})),this.on("connect",(()=>{this._qrcodeModal&&this._qrcodeModal.close()})),this.on("call_request_sent",((e,t)=>{const{request:r}=t.params[0];if(re()&&this._signingMethods.includes(r.method)){const e=we(Se);e&&(window.location.href=e.href)}})),this.on("wc_sessionRequest",((e,t)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=t.id,this.peerId=t.params[0].peerId,this.peerMeta=t.params[0].peerMeta;const r=Object.assign(Object.assign({},t),{method:"session_request"});this._eventManager.trigger(r)})),this.on("wc_sessionUpdate",((e,t)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",t.params[0])}))}_initTransport(){this._transport.on("message",(e=>this._handleIncomingMessages(e))),this._transport.on("open",(()=>this._eventManager.trigger({event:"transport_open",params:[]}))),this._transport.on("close",(()=>this._eventManager.trigger({event:"transport_close",params:[]}))),this._transport.on("error",(()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]}))),this._transport.open()}_formatUri(){return`${this.protocol}:${this.handshakeTopic}@${this.version}?bridge=${encodeURIComponent(this.bridge)}&key=${this.key}`}_parseUri(e){const t=en(e);if(t.protocol===this.protocol){if(!t.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const e=t.handshakeTopic;if(!t.bridge)throw Error("Invalid or missing bridge url parameter value");const r=decodeURIComponent(t.bridge);if(!t.key)throw Error("Invalid or missing key parameter value");return{handshakeTopic:e,bridge:r,key:t.key}}throw new Error("URI format is invalid")}async _generateKey(){if(this._cryptoLib){return await this._cryptoLib.generateKey()}return null}async _encrypt(e){const t=this._key;if(this._cryptoLib&&t){return await this._cryptoLib.encrypt(e,t)}return null}async _decrypt(e){const t=this._key;if(this._cryptoLib&&t){return await this._cryptoLib.decrypt(e,t)}return null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||"string"!=typeof e.url)throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||"string"!=typeof e.type)throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||"string"!=typeof e.token)throw Error("Invalid or missing pushServerOpts.token parameter value");const t={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",(async(r,n)=>{if(r)throw r;if(e.peerMeta){const e=n.params[0].peerMeta.name;t.peerName=e}try{const r=await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});if(!(await r.json()).success)throw Error("Failed to register in Push Server")}catch(i){throw Error("Failed to register in Push Server")}}))}}{constructor(e,t){super({cryptoLib:gn,connectorOpts:e,pushServerOpts:t})}}})),mn=d(Oe),vn={},_n={},wn={},xn={}.toString,Sn=Array.isArray||function(e){return"[object Array]"==xn.call(e)},En=Sn;kn.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}();var Mn=kn.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function kn(e,t,r){return kn.TYPED_ARRAY_SUPPORT||this instanceof kn?"number"==typeof e?Tn(this,e):function(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,r,n){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var i;i=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);kn.TYPED_ARRAY_SUPPORT?i.__proto__=kn.prototype:i=Cn(e,i);return i}(e,t,r,n);if("string"==typeof t)return function(e,t){var r=0|In(t),n=Rn(e,r),i=n.write(t);i!==r&&(n=n.slice(0,i));return n}(e,t);return function(e,t){if(kn.isBuffer(t)){var r=0|An(t.length),n=Rn(e,r);return 0===n.length||t.copy(n,0,0,r),n}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?Rn(e,0):Cn(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return Cn(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,r):new kn(e,t,r)}function An(e){if(e>=Mn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Mn.toString(16)+" bytes");return 0|e}function Rn(e,t){var r;return kn.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t)).__proto__=kn.prototype:(null===(r=e)&&(r=new kn(t)),r.length=t),r}function Tn(e,t){var r=Rn(e,t<0?0:0|An(t));if(!kn.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function Cn(e,t){for(var r=t.length<0?0:0|An(t.length),n=Rn(e,r),i=0;i<r;i+=1)n[i]=255&t[i];return n}function Bn(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function In(e){return kn.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:Bn(e).length)}kn.TYPED_ARRAY_SUPPORT&&(kn.prototype.__proto__=Uint8Array.prototype,kn.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&kn[Symbol.species]===kn&&Object.defineProperty(kn,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),kn.prototype.write=function(e,t,r){void 0===t||void 0===r&&"string"==typeof t?(r=this.length,t=0):isFinite(t)&&(t|=0,isFinite(r)?r|=0:r=void 0);var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(e,t,r,n){return function(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}(Bn(t,e.length-r),e,r,n)}(this,e,t,r)},kn.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),kn.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=kn.prototype;else{var i=t-e;r=new kn(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},kn.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!kn.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},kn.prototype.fill=function(e,t,r){if("string"==typeof e){if("string"==typeof t?(t=0,r=this.length):"string"==typeof r&&(r=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=kn.isBuffer(e)?e:new kn(e),a=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this},kn.concat=function(e,t){if(!En(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Rn(null,0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Tn(null,t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!kn.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},kn.byteLength=In,kn.prototype._isBuffer=!0,kn.isBuffer=function(e){return!(null==e||!e._isBuffer)},wn.alloc=function(e){var t=new kn(e);return t.fill(0),t},wn.from=function(e){return new kn(e)};var Pn,On={},Ln=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];On.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},On.getSymbolTotalCodewords=function(e){return Ln[e]},On.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},On.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');Pn=e},On.isKanjiModeEnabled=function(){return void 0!==Pn},On.toSJIS=function(e){return Pn(e)};var Nn={};function Un(){this.buffer=[],this.length=0}!function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(n){return r}}}(Nn),Un.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var jn=Un,qn=wn;function zn(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=qn.alloc(e*e),this.reservedBit=qn.alloc(e*e)}zn.prototype.set=function(e,t,r,n){var i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)},zn.prototype.get=function(e,t){return this.data[e*this.size+t]},zn.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},zn.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Dn=zn,Hn={};!function(e){var t=On.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];for(var r=Math.floor(e/7)+2,n=t(e),i=145===n?26:2*Math.ceil((n-13)/(2*r-2)),o=[n-7],a=1;a<r-1;a++)o[a]=o[a-1]-i;return o.push(6),o.reverse()},e.getPositions=function(t){for(var r=[],n=e.getRowColCoords(t),i=n.length,o=0;o<i;o++)for(var a=0;a<i;a++)0===o&&0===a||0===o&&a===i-1||o===i-1&&0===a||r.push([n[o],n[a]]);return r}}(Hn);var Kn={},Fn=On.getSymbolSize;Kn.getPositions=function(e){var t=Fn(e);return[[0,0],[t-7,0],[0,t-7]]};var Wn={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t=3,r=3,n=40,i=10;function o(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){for(var r=e.size,n=0,i=0,o=0,a=null,s=null,f=0;f<r;f++){i=o=0,a=s=null;for(var c=0;c<r;c++){var u=e.get(f,c);u===a?i++:(i>=5&&(n+=t+(i-5)),a=u,i=1),(u=e.get(c,f))===s?o++:(o>=5&&(n+=t+(o-5)),s=u,o=1)}i>=5&&(n+=t+(i-5)),o>=5&&(n+=t+(o-5))}return n},e.getPenaltyN2=function(e){for(var t=e.size,n=0,i=0;i<t-1;i++)for(var o=0;o<t-1;o++){var a=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);4!==a&&0!==a||n++}return n*r},e.getPenaltyN3=function(e){for(var t=e.size,r=0,i=0,o=0,a=0;a<t;a++){i=o=0;for(var s=0;s<t;s++)i=i<<1&2047|e.get(a,s),s>=10&&(1488===i||93===i)&&r++,o=o<<1&2047|e.get(s,a),s>=10&&(1488===o||93===o)&&r++}return r*n},e.getPenaltyN4=function(e){for(var t=0,r=e.data.length,n=0;n<r;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/r/5)-10)*i},e.applyMask=function(e,t){for(var r=t.size,n=0;n<r;n++)for(var i=0;i<r;i++)t.isReserved(i,n)||t.xor(i,n,o(e,i,n))},e.getBestMask=function(t,r){for(var n=Object.keys(e.Patterns).length,i=0,o=1/0,a=0;a<n;a++){r(a),e.applyMask(a,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<o&&(o=s,i=a)}return i}}(Wn);var Vn={},Jn=Nn,Gn=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],$n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Vn.getBlocksCount=function(e,t){switch(t){case Jn.L:return Gn[4*(e-1)+0];case Jn.M:return Gn[4*(e-1)+1];case Jn.Q:return Gn[4*(e-1)+2];case Jn.H:return Gn[4*(e-1)+3];default:return}},Vn.getTotalCodewordsCount=function(e,t){switch(t){case Jn.L:return $n[4*(e-1)+0];case Jn.M:return $n[4*(e-1)+1];case Jn.Q:return $n[4*(e-1)+2];case Jn.H:return $n[4*(e-1)+3];default:return}};var Yn={},Zn={},Xn=wn,Qn=Xn.alloc(512),ei=Xn.alloc(256);!function(){for(var e=1,t=0;t<255;t++)Qn[t]=e,ei[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)Qn[t]=Qn[t-255]}(),Zn.log=function(e){if(e<1)throw new Error("log("+e+")");return ei[e]},Zn.exp=function(e){return Qn[e]},Zn.mul=function(e,t){return 0===e||0===t?0:Qn[ei[e]+ei[t]]},function(e){var t=wn,r=Zn;e.mul=function(e,n){for(var i=t.alloc(e.length+n.length-1),o=0;o<e.length;o++)for(var a=0;a<n.length;a++)i[o+a]^=r.mul(e[o],n[a]);return i},e.mod=function(e,n){for(var i=t.from(e);i.length-n.length>=0;){for(var o=i[0],a=0;a<n.length;a++)i[a]^=r.mul(n[a],o);for(var s=0;s<i.length&&0===i[s];)s++;i=i.slice(s)}return i},e.generateECPolynomial=function(n){for(var i=t.from([1]),o=0;o<n;o++)i=e.mul(i,[1,r.exp(o)]);return i}}(Yn);var ti={};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */!function(e){var t=h,r=l,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},e.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|b(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(D(e,Uint8Array)){var t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(D(e,SharedArrayBuffer)||e&&D(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t=0|p(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||H(e.length)?o(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return f(e),o(e<0?0:0|p(e))}function u(e){for(var t=e.length<0?0:0|p(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,a.prototype),n}function p(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function b(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(i)return n?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,f=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,f/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===f)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+f>s&&(r=s-f),o=r;o>=0;o--){for(var d=!0,h=0;h<f;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(H(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return z(j(t,e.length-r),e,r,n)}function x(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return z(q(t),e,r,n)}function E(e,t,r,n){return z(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function M(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,f,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(f=(31&c)<<6|63&o)>127&&(u=f);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(f=(15&c)<<12|(63&o)<<6|63&a)>2047&&(f<55296||f>57343)&&(u=f);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(f=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&f<1114112&&(u=f)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(D(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),D(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(D(o,Uint8Array))i+o.length>n.length?a.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},a.byteLength=b,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(D(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),f=Math.min(o,s),c=this.slice(n,i),u=e.slice(t,r),d=0;d<f;++d)if(c[d]!==u[d]){o=c[d],s=u[d];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return x(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=K[e[o]];return i}function B(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,n,i,o){return t=+t,n>>>=0,o||O(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,o){return t=+t,n>>>=0,o||O(e,0,n,8),r.write(e,t,n,i,52,8),n+8}a.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),f=s.length;if(0===f)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%f]}return this};var U=/[^+/0-9A-Za-z-_]/g;function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!=e}var K=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()}(ti);var ri=wn,ni=Yn,ii=ti.Buffer;function oi(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}oi.prototype.initialize=function(e){this.degree=e,this.genPoly=ni.generateECPolynomial(this.degree)},oi.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=ri.alloc(this.degree),r=ii.concat([e,t],e.length+this.degree),n=ni.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){var o=ri.alloc(this.degree);return n.copy(o,i),o}return n};var ai=oi,si={},fi={},ci={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},ui={},di="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",hi="(?:(?![A-Z0-9 $%*+\\-./:]|"+(di=di.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";ui.KANJI=new RegExp(di,"g"),ui.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ui.BYTE=new RegExp(hi,"g"),ui.NUMERIC=new RegExp("[0-9]+","g"),ui.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var li=new RegExp("^"+di+"$"),pi=new RegExp("^[0-9]+$"),bi=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ui.testKanji=function(e){return li.test(e)},ui.testNumeric=function(e){return pi.test(e)},ui.testAlphanumeric=function(e){return bi.test(e)},function(e){var t=ci,r=ui;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(n){return r}}}(fi),function(e){var t=On,r=Vn,n=Nn,i=fi,o=ci,a=Sn,s=t.getBCHDigit(7973);function f(e,t){return i.getCharCountIndicator(e,t)+4}function c(e,t){var r=0;return e.forEach((function(e){var n=f(e.mode,t);r+=n+e.getBitsLength()})),r}e.from=function(e,t){return o.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,n,a){if(!o.isValid(e))throw new Error("Invalid QR Code version");void 0===a&&(a=i.BYTE);var s=8*(t.getSymbolTotalCodewords(e)-r.getTotalCodewordsCount(e,n));if(a===i.MIXED)return s;var c=s-f(a,e);switch(a){case i.NUMERIC:return Math.floor(c/10*3);case i.ALPHANUMERIC:return Math.floor(c/11*2);case i.KANJI:return Math.floor(c/13);case i.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,r){var o,s=n.from(r,n.M);if(a(t)){if(t.length>1)return function(t,r){for(var n=1;n<=40;n++)if(c(t,n)<=e.getCapacity(n,r,i.MIXED))return n}(t,s);if(0===t.length)return 1;o=t[0]}else o=t;return function(t,r,n){for(var i=1;i<=40;i++)if(r<=e.getCapacity(i,n,t))return i}(o.mode,o.getLength(),s)},e.getEncodedBits=function(e){if(!o.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var r=e<<12;t.getBCHDigit(r)-s>=0;)r^=7973<<t.getBCHDigit(r)-s;return e<<12|r}}(si);var gi={},yi=On,mi=yi.getBCHDigit(1335);gi.getEncodedBits=function(e,t){for(var r=e.bit<<3|t,n=r<<10;yi.getBCHDigit(n)-mi>=0;)n^=1335<<yi.getBCHDigit(n)-mi;return 21522^(r<<10|n)};var vi={},_i=fi;function wi(e){this.mode=_i.NUMERIC,this.data=e.toString()}wi.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},wi.prototype.getLength=function(){return this.data.length},wi.prototype.getBitsLength=function(){return wi.getBitsLength(this.data.length)},wi.prototype.write=function(e){var t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);var i=this.data.length-t;i>0&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*i+1))};var xi=wi,Si=fi,Ei=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Mi(e){this.mode=Si.ALPHANUMERIC,this.data=e}Mi.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},Mi.prototype.getLength=function(){return this.data.length},Mi.prototype.getBitsLength=function(){return Mi.getBitsLength(this.data.length)},Mi.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var r=45*Ei.indexOf(this.data[t]);r+=Ei.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(Ei.indexOf(this.data[t]),6)};var ki=Mi,Ai=wn,Ri=fi;function Ti(e){this.mode=Ri.BYTE,this.data=Ai.from(e)}Ti.getBitsLength=function(e){return 8*e},Ti.prototype.getLength=function(){return this.data.length},Ti.prototype.getBitsLength=function(){return Ti.getBitsLength(this.data.length)},Ti.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var Ci=Ti,Bi=fi,Ii=On;function Pi(e){this.mode=Bi.KANJI,this.data=e}Pi.getBitsLength=function(e){return 13*e},Pi.prototype.getLength=function(){return this.data.length},Pi.prototype.getBitsLength=function(){return Pi.getBitsLength(this.data.length)},Pi.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=Ii.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}};var Oi,Li=Pi,Ni={exports:{}};Ni.exports=Oi={single_source_shortest_paths:function(e,t,r){var n={},i={};i[t]=0;var o,a,s,f,c,u,d,h=Oi.PriorityQueue.make();for(h.push(t,0);!h.empty();)for(s in a=(o=h.pop()).value,f=o.cost,c=e[a]||{})c.hasOwnProperty(s)&&(u=f+c[s],d=i[s],(void 0===i[s]||d>u)&&(i[s]=u,h.push(s,u),n[s]=a));if(void 0!==r&&void 0===i[r]){var l=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(l)}return n},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),n=e[n];return r.reverse(),r},find_path:function(e,t,r){var n=Oi.single_source_shortest_paths(e,t,r);return Oi.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(e){var t,r=Oi.PriorityQueue,n={};for(t in e=e||{},r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n.queue=[],n.sorter=e.sorter||r.default_sorter,n},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}},function(e){var t=fi,r=xi,n=ki,i=Ci,o=Li,a=ui,s=On,f=Ni.exports;function c(e){return unescape(encodeURIComponent(e)).length}function u(e,t,r){for(var n,i=[];null!==(n=e.exec(r));)i.push({data:n[0],index:n.index,mode:t,length:n[0].length});return i}function d(e){var r,n,i=u(a.NUMERIC,t.NUMERIC,e),o=u(a.ALPHANUMERIC,t.ALPHANUMERIC,e);return s.isKanjiModeEnabled()?(r=u(a.BYTE,t.BYTE,e),n=u(a.KANJI,t.KANJI,e)):(r=u(a.BYTE_KANJI,t.BYTE,e),n=[]),i.concat(o,r,n).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function h(e,a){switch(a){case t.NUMERIC:return r.getBitsLength(e);case t.ALPHANUMERIC:return n.getBitsLength(e);case t.KANJI:return o.getBitsLength(e);case t.BYTE:return i.getBitsLength(e)}}function l(e,a){var f,c=t.getBestModeForData(e);if((f=t.from(a,c))!==t.BYTE&&f.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(f)+".\n Suggested mode is: "+t.toString(c));switch(f!==t.KANJI||s.isKanjiModeEnabled()||(f=t.BYTE),f){case t.NUMERIC:return new r(e);case t.ALPHANUMERIC:return new n(e);case t.KANJI:return new o(e);case t.BYTE:return new i(e)}}e.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(l(t,null)):t.data&&e.push(l(t.data,t.mode)),e}),[])},e.fromString=function(r,n){for(var i=function(e,r){for(var n={},i={start:{}},o=["start"],a=0;a<e.length;a++){for(var s=e[a],f=[],c=0;c<s.length;c++){var u=s[c],d=""+a+c;f.push(d),n[d]={node:u,lastCount:0},i[d]={};for(var l=0;l<o.length;l++){var p=o[l];n[p]&&n[p].node.mode===u.mode?(i[p][d]=h(n[p].lastCount+u.length,u.mode)-h(n[p].lastCount,u.mode),n[p].lastCount+=u.length):(n[p]&&(n[p].lastCount=u.length),i[p][d]=h(u.length,u.mode)+4+t.getCharCountIndicator(u.mode,r))}}o=f}for(l=0;l<o.length;l++)i[o[l]].end=0;return{map:i,table:n}}(function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n];switch(i.mode){case t.NUMERIC:r.push([i,{data:i.data,mode:t.ALPHANUMERIC,length:i.length},{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.ALPHANUMERIC:r.push([i,{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.KANJI:r.push([i,{data:i.data,mode:t.BYTE,length:c(i.data)}]);break;case t.BYTE:r.push([{data:i.data,mode:t.BYTE,length:c(i.data)}])}}return r}(d(r,s.isKanjiModeEnabled())),n),o=f.find_path(i.map,"start","end"),a=[],u=1;u<o.length-1;u++)a.push(i.table[o[u]].node);return e.fromArray(function(e){return e.reduce((function(e,t){var r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(a))},e.rawSplit=function(t){return e.fromArray(d(t,s.isKanjiModeEnabled()))}}(vi);var Ui=wn,ji=On,qi=Nn,zi=jn,Di=Dn,Hi=Hn,Ki=Kn,Fi=Wn,Wi=Vn,Vi=ai,Ji=si,Gi=gi,$i=fi,Yi=vi,Zi=Sn;function Xi(e,t,r){var n,i,o=e.size,a=Gi.getEncodedBits(t,r);for(n=0;n<15;n++)i=1==(a>>n&1),n<6?e.set(n,8,i,!0):n<8?e.set(n+1,8,i,!0):e.set(o-15+n,8,i,!0),n<8?e.set(8,o-n-1,i,!0):n<9?e.set(8,15-n-1+1,i,!0):e.set(8,15-n-1,i,!0);e.set(o-8,8,1,!0)}function Qi(e,t,r){var n=new zi;r.forEach((function(t){n.put(t.mode.bit,4),n.put(t.getLength(),$i.getCharCountIndicator(t.mode,e)),t.write(n)}));var i=8*(ji.getSymbolTotalCodewords(e)-Wi.getTotalCodewordsCount(e,t));for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var o=(i-n.getLengthInBits())/8,a=0;a<o;a++)n.put(a%2?17:236,8);return function(e,t,r){for(var n=ji.getSymbolTotalCodewords(t),i=Wi.getTotalCodewordsCount(t,r),o=n-i,a=Wi.getBlocksCount(t,r),s=a-n%a,f=Math.floor(n/a),c=Math.floor(o/a),u=c+1,d=f-c,h=new Vi(d),l=0,p=new Array(a),b=new Array(a),g=0,y=Ui.from(e.buffer),m=0;m<a;m++){var v=m<s?c:u;p[m]=y.slice(l,l+v),b[m]=h.encode(p[m]),l+=v,g=Math.max(g,v)}var _,w,x=Ui.alloc(n),S=0;for(_=0;_<g;_++)for(w=0;w<a;w++)_<p[w].length&&(x[S++]=p[w][_]);for(_=0;_<d;_++)for(w=0;w<a;w++)x[S++]=b[w][_];return x}(n,e,t)}function eo(e,t,r,n){var i;if(Zi(e))i=Yi.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var o=t;if(!o){var a=Yi.rawSplit(e);o=Ji.getBestVersionForData(a,r)}i=Yi.fromString(e,o||40)}var s=Ji.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;var f=Qi(t,r,i),c=ji.getSymbolSize(t),u=new Di(c);return function(e,t){for(var r=e.size,n=Ki.getPositions(t),i=0;i<n.length;i++)for(var o=n[i][0],a=n[i][1],s=-1;s<=7;s++)if(!(o+s<=-1||r<=o+s))for(var f=-1;f<=7;f++)a+f<=-1||r<=a+f||(s>=0&&s<=6&&(0===f||6===f)||f>=0&&f<=6&&(0===s||6===s)||s>=2&&s<=4&&f>=2&&f<=4?e.set(o+s,a+f,!0,!0):e.set(o+s,a+f,!1,!0))}(u,t),function(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2==0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}(u),function(e,t){for(var r=Hi.getPositions(t),n=0;n<r.length;n++)for(var i=r[n][0],o=r[n][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(i+a,o+s,!0,!0):e.set(i+a,o+s,!1,!0)}(u,t),Xi(u,r,0),t>=7&&function(e,t){for(var r,n,i,o=e.size,a=Ji.getEncodedBits(t),s=0;s<18;s++)r=Math.floor(s/3),n=s%3+o-8-3,i=1==(a>>s&1),e.set(r,n,i,!0),e.set(n,r,i,!0)}(u,t),function(e,t){for(var r=e.size,n=-1,i=r-1,o=7,a=0,s=r-1;s>0;s-=2)for(6===s&&s--;;){for(var f=0;f<2;f++)if(!e.isReserved(i,s-f)){var c=!1;a<t.length&&(c=1==(t[a]>>>o&1)),e.set(i,s-f,c),-1==--o&&(a++,o=7)}if((i+=n)<0||r<=i){i-=n,n=-n;break}}}(u,f),isNaN(n)&&(n=Fi.getBestMask(u,Xi.bind(null,u,r))),Fi.applyMask(n,u),Xi(u,r,n),{modules:u,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}_n.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var r,n,i=qi.M;return void 0!==t&&(i=qi.from(t.errorCorrectionLevel,qi.M),r=Ji.from(t.version),n=Fi.from(t.maskPattern),t.toSJISFunc&&ji.setToSJISFunction(t.toSJISFunc)),eo(e,r,i,n)};var to={},ro={};!function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});var r=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,r){var n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){for(var i=r.modules.size,o=r.modules.data,a=e.getScale(i,n),s=Math.floor((i+2*n.margin)*a),f=n.margin*a,c=[n.color.light,n.color.dark],u=0;u<s;u++)for(var d=0;d<s;d++){var h=4*(u*s+d),l=n.color.light;if(u>=f&&d>=f&&u<s-f&&d<s-f)l=c[o[Math.floor((u-f)/a)*i+Math.floor((d-f)/a)]?1:0];t[h++]=l.r,t[h++]=l.g,t[h++]=l.b,t[h]=l.a}}}(ro),function(e){var t=ro;e.render=function(e,r,n){var i=n,o=r;void 0!==i||r&&r.getContext||(i=r,r=void 0),r||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=t.getOptions(i);var a=t.getImageWidth(e.modules.size,i),s=o.getContext("2d"),f=s.createImageData(a,a);return t.qrToImageData(f.data,e,i),function(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}(s,o,a),s.putImageData(f,0,0),o},e.renderToDataURL=function(t,r,n){var i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});var o=e.render(t,r,i),a=i.type||"image/png",s=i.rendererOpts||{};return o.toDataURL(a,s.quality)}}(to);var no={},io=ro;function oo(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function ao(e,t,r){var n=e+t;return void 0!==r&&(n+=" "+r),n}no.render=function(e,t,r){var n=io.getOptions(t),i=e.modules.size,o=e.modules.data,a=i+2*n.margin,s=n.color.light.a?"<path "+oo(n.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",f="<path "+oo(n.color.dark,"stroke")+' d="'+function(e,t,r){for(var n="",i=0,o=!1,a=0,s=0;s<e.length;s++){var f=Math.floor(s%t),c=Math.floor(s/t);f||o||(o=!0),e[s]?(a++,s>0&&f>0&&e[s-1]||(n+=o?ao("M",f+r,.5+c+r):ao("m",i,0),i=0,o=!1),f+1<t&&e[s+1]||(n+=ao("h",a),a=0)):i++}return n}(o,i,n.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+c+' shape-rendering="crispEdges">'+s+f+"</svg>\n";return"function"==typeof r&&r(null,u),u};var so=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},fo=_n,co=to,uo=no;function ho(e,t,r,n,i){var o=[].slice.call(arguments,1),a=o.length,s="function"==typeof o[a-1];if(!s&&!so())throw new Error("Callback required as last argument");if(!s){if(a<1)throw new Error("Too few arguments provided");return 1===a?(r=t,t=n=void 0):2!==a||t.getContext||(n=r,r=t,t=void 0),new Promise((function(i,o){try{var a=fo.create(r,n);i(e(a,t,n))}catch(s){o(s)}}))}if(a<2)throw new Error("Too few arguments provided");2===a?(i=r,r=t,t=n=void 0):3===a&&(t.getContext&&void 0===i?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0));try{var f=fo.create(r,n);i(null,e(f,t,n))}catch(c){i(c)}}vn.create=fo.create,vn.toCanvas=ho.bind(null,co.render),vn.toDataURL=ho.bind(null,co.renderToDataURL),vn.toString=ho.bind(null,(function(e,t,r){return uo.render(e,r)}));var lo=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach((function(t){e.addRange(t)})),t&&t.focus()}},po={"text/plain":"Text","text/html":"Url",default:"Text"};var bo,go,yo,mo,vo,_o,wo,xo=function(e,t){var r,n,i,o,a,s,f=!1;t||(t={}),r=t.debug||!1;try{if(i=lo(),o=document.createRange(),a=document.getSelection(),(s=document.createElement("span")).textContent=e,s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=po[t.format]||po.default;window.clipboardData.setData(i,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");f=!0}catch(c){r&&console.error("unable to copy using execCommand: ",c),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),f=!0}catch(u){r&&console.error("unable to copy using clipboardData: ",u),r&&console.error("falling back to prompt"),n=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,e)}}finally{a&&("function"==typeof a.removeRange?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return f},So={},Eo=[],Mo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function ko(e,t){for(var r in t)e[r]=t[r];return e}function Ao(e){var t=e.parentNode;t&&t.removeChild(e)}function Ro(e,t,r){var n,i=arguments,o={};for(n in t)"key"!==n&&"ref"!==n&&(o[n]=t[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(i[n]);if(null!=r&&(o.children=r),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===o[n]&&(o[n]=e.defaultProps[n]);return To(e,o,t&&t.key,t&&t.ref,null)}function To(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(o.__v=o),bo.vnode&&bo.vnode(o),o}function Co(){return{}}function Bo(e){return e.children}function Io(e,t){this.props=e,this.context=t}function Po(e,t){if(null==t)return e.__?Po(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?Po(e):null}function Oo(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return Oo(e)}}function Lo(e){(!e.__d&&(e.__d=!0)&&go.push(e)&&!yo++||vo!==bo.debounceRendering)&&((vo=bo.debounceRendering)||mo)(No)}function No(){for(var e;yo=go.length;)e=go.sort((function(e,t){return e.__v.__b-t.__v.__b})),go=[],e.some((function(e){var t,r,n,i,o,a,s;e.__d&&(a=(o=(t=e).__v).__e,(s=t.__P)&&(r=[],(n=ko({},o)).__v=n,i=Ho(s,o,n,t.__n,void 0!==s.ownerSVGElement,null,r,null==a?Po(o):a),Ko(r,o),i!=a&&Oo(o)))}))}function Uo(e,t,r,n,i,o,a,s,f){var c,u,d,h,l,p,b,g=r&&r.__k||Eo,y=g.length;if(s==So&&(s=null!=o?o[0]:y?Po(r,0):null),c=0,t.__k=jo(t.__k,(function(r){if(null!=r){if(r.__=t,r.__b=t.__b+1,null===(d=g[c])||d&&r.key==d.key&&r.type===d.type)g[c]=void 0;else for(u=0;u<y;u++){if((d=g[u])&&r.key==d.key&&r.type===d.type){g[u]=void 0;break}d=null}if(h=Ho(e,r,d=d||So,n,i,o,a,s,f),(u=r.ref)&&d.ref!=u&&(b||(b=[]),d.ref&&b.push(d.ref,null,r),b.push(u,r.__c||h,r)),null!=h){var m;if(null==p&&(p=h),void 0!==r.__d)m=r.__d,r.__d=void 0;else if(o==d||h!=s||null==h.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(h),m=null;else{for(l=s,u=0;(l=l.nextSibling)&&u<y;u+=2)if(l==h)break e;e.insertBefore(h,s),m=s}"option"==t.type&&(e.value="")}s=void 0!==m?m:h.nextSibling,"function"==typeof t.type&&(t.__d=s)}else s&&d.__e==s&&s.parentNode!=e&&(s=Po(d))}return c++,r})),t.__e=p,null!=o&&"function"!=typeof t.type)for(c=o.length;c--;)null!=o[c]&&Ao(o[c]);for(c=y;c--;)null!=g[c]&&Wo(g[c],g[c]);if(b)for(c=0;c<b.length;c++)Fo(b[c],b[++c],b[++c])}function jo(e,t,r){if(null==r&&(r=[]),null==e||"boolean"==typeof e)t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)jo(e[n],t,r);else r.push(t?t("string"==typeof e||"number"==typeof e?To(null,e,null,null,e):null!=e.__e||null!=e.__c?To(e.type,e.props,e.key,null,e.__v):e):e);return r}function qo(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]="number"==typeof r&&!1===Mo.test(t)?r+"px":null==r?"":r}function zo(e,t,r,n,i){var o,a,s,f,c;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(o=e.style,"string"==typeof r)o.cssText=r;else{if("string"==typeof n&&(o.cssText="",n=null),n)for(f in n)r&&f in r||qo(o,f,"");if(r)for(c in r)n&&r[c]===n[c]||qo(o,c,r[c])}else"o"===t[0]&&"n"===t[1]?(a=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase(),t=(s in e?s:t).slice(2),r?(n||e.addEventListener(t,Do,a),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,Do,a)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==r||!1===r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null==r||!1===r&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function Do(e){this.l[e.type](bo.event?bo.event(e):e)}function Ho(e,t,r,n,i,o,a,s,f){var c,u,d,h,l,p,b,g,y,m,v=t.type;if(void 0!==t.constructor)return null;(c=bo.__b)&&c(t);try{e:if("function"==typeof v){if(g=t.props,y=(c=v.contextType)&&n[c.__c],m=c?y?y.props.value:c.__:n,r.__c?b=(u=t.__c=r.__c).__=u.__E:("prototype"in v&&v.prototype.render?t.__c=u=new v(g,m):(t.__c=u=new Io(g,m),u.constructor=v,u.render=Vo),y&&y.sub(u),u.props=g,u.state||(u.state={}),u.context=m,u.__n=n,d=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=v.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=ko({},u.__s)),ko(u.__s,v.getDerivedStateFromProps(g,u.__s))),h=u.props,l=u.state,d)null==v.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==v.getDerivedStateFromProps&&g!==h&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(g,m),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(g,u.__s,m)||t.__v===r.__v&&!u.__){for(u.props=g,u.state=u.__s,t.__v!==r.__v&&(u.__d=!1),u.__v=t,t.__e=r.__e,t.__k=r.__k,u.__h.length&&a.push(u),c=0;c<t.__k.length;c++)t.__k[c]&&(t.__k[c].__=t);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(g,u.__s,m),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(h,l,p)}))}u.context=m,u.props=g,u.state=u.__s,(c=bo.__r)&&c(t),u.__d=!1,u.__v=t,u.__P=e,c=u.render(u.props,u.state,u.context),t.__k=null!=c&&c.type==Bo&&null==c.key?c.props.children:Array.isArray(c)?c:[c],null!=u.getChildContext&&(n=ko(ko({},n),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(p=u.getSnapshotBeforeUpdate(h,l)),Uo(e,t,r,n,i,o,a,s,f),u.base=t.__e,u.__h.length&&a.push(u),b&&(u.__E=u.__=null),u.__e=!1}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,o,a,s){var f,c,u,d,h,l=r.props,p=t.props;if(i="svg"===t.type||i,null!=o)for(f=0;f<o.length;f++)if(null!=(c=o[f])&&((null===t.type?3===c.nodeType:c.localName===t.type)||e==c)){e=c,o[f]=null;break}if(null==e){if(null===t.type)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,p.is&&{is:p.is}),o=null,s=!1}if(null===t.type)l!==p&&e.data!=p&&(e.data=p);else{if(null!=o&&(o=Eo.slice.call(e.childNodes)),u=(l=r.props||So).dangerouslySetInnerHTML,d=p.dangerouslySetInnerHTML,!s){if(l===So)for(l={},h=0;h<e.attributes.length;h++)l[e.attributes[h].name]=e.attributes[h].value;(d||u)&&(d&&u&&d.__html==u.__html||(e.innerHTML=d&&d.__html||""))}(function(e,t,r,n,i){var o;for(o in r)"children"===o||"key"===o||o in t||zo(e,o,null,r[o],n);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===t[o]||zo(e,o,t[o],r[o],n)})(e,p,l,i,s),d?t.__k=[]:(t.__k=t.props.children,Uo(e,t,r,n,"foreignObject"!==t.type&&i,o,a,So,s)),s||("value"in p&&void 0!==(f=p.value)&&f!==e.value&&zo(e,"value",f,l.value,!1),"checked"in p&&void 0!==(f=p.checked)&&f!==e.checked&&zo(e,"checked",f,l.checked,!1))}return e}(r.__e,t,r,n,i,o,a,f);(c=bo.diffed)&&c(t)}catch(_){t.__v=null,bo.__e(_,t,r)}return t.__e}function Ko(e,t){bo.__c&&bo.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(r){bo.__e(r,t.__v)}}))}function Fo(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(n){bo.__e(n,r)}}function Wo(e,t,r){var n,i,o;if(bo.unmount&&bo.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||Fo(n,null,t)),r||"function"==typeof e.type||(r=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){bo.__e(a,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&Wo(n[o],t,r);null!=i&&Ao(i)}function Vo(e,t,r){return this.constructor(e,r)}function Jo(e,t,r){var n,i,o;bo.__&&bo.__(e,t),i=(n=r===_o)?null:r&&r.__k||t.__k,e=Ro(Bo,null,[e]),o=[],Ho(t,(n?t:r||t).__k=e,i||So,So,void 0!==t.ownerSVGElement,r&&!n?[r]:i?null:Eo.slice.call(t.childNodes),o,r||So,n),Ko(o,e)}function Go(e,t){Jo(e,t,_o)}function $o(e,t){var r,n;for(n in t=ko(ko({},e.props),t),arguments.length>2&&(t.children=Eo.slice.call(arguments,2)),r={},t)"key"!==n&&"ref"!==n&&(r[n]=t[n]);return To(e.type,r,t.key||e.key,t.ref||e.ref,null)}function Yo(e){var t={},r={__c:"__cC"+wo++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i=this;return this.getChildContext||(n=[],this.getChildContext=function(){return t[r.__c]=i,t},this.shouldComponentUpdate=function(e){i.props.value!==e.value&&n.some((function(t){t.context=e.value,Lo(t)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}bo={__e:function(e,t){for(var r,n;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(e))),null!=r.componentDidCatch&&(n=!0,r.componentDidCatch(e)),n)return Lo(r.__E=r)}catch(i){e=i}throw e}},Io.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=ko({},this.state),"function"==typeof e&&(e=e(r,this.props)),e&&ko(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),Lo(this))},Io.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Lo(this))},Io.prototype.render=Bo,go=[],yo=0,mo="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_o=So,wo=0;var Zo,Xo,Qo,ea=0,ta=[],ra=bo.__r,na=bo.diffed,ia=bo.__c,oa=bo.unmount;function aa(e,t){bo.__h&&bo.__h(Xo,e,ea||t),ea=0;var r=Xo.__H||(Xo.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function sa(e){return ea=1,fa(wa,e)}function fa(e,t,r){var n=aa(Zo++,2);return n.__c||(n.__c=Xo,n.__=[r?r(t):wa(void 0,t),function(t){var r=e(n.__[0],t);n.__[0]!==r&&(n.__[0]=r,n.__c.setState({}))}]),n.__}function ca(e,t){var r=aa(Zo++,3);!bo.__s&&_a(r.__H,t)&&(r.__=e,r.__H=t,Xo.__H.__h.push(r))}function ua(e,t){var r=aa(Zo++,4);!bo.__s&&_a(r.__H,t)&&(r.__=e,r.__H=t,Xo.__h.push(r))}function da(e){return ea=5,la((function(){return{current:e}}),[])}function ha(e,t,r){ea=6,ua((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==r?r:r.concat(e))}function la(e,t){var r=aa(Zo++,7);return _a(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function pa(e,t){return ea=8,la((function(){return e}),t)}function ba(e){var t=Xo.context[e.__c],r=aa(Zo++,9);return r.__c=e,t?(null==r.__&&(r.__=!0,t.sub(Xo)),t.props.value):e.__}function ga(e,t){bo.useDebugValue&&bo.useDebugValue(t?t(e):e)}function ya(){ta.some((function(e){if(e.__P)try{e.__H.__h.forEach(ma),e.__H.__h.forEach(va),e.__H.__h=[]}catch(t){return e.__H.__h=[],bo.__e(t,e.__v),!0}})),ta=[]}function ma(e){e.t&&e.t()}function va(e){var t=e.__();"function"==typeof t&&(e.t=t)}function _a(e,t){return!e||t.some((function(t,r){return t!==e[r]}))}function wa(e,t){return"function"==typeof t?t(e):t}function xa(e,t){for(var r in t)e[r]=t[r];return e}function Sa(e,t){for(var r in e)if("__source"!==r&&!(r in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}bo.__r=function(e){ra&&ra(e),Zo=0,(Xo=e.__c).__H&&(Xo.__H.__h.forEach(ma),Xo.__H.__h.forEach(va),Xo.__H.__h=[])},bo.diffed=function(e){na&&na(e);var t=e.__c;if(t){var r=t.__H;r&&r.__h.length&&(1!==ta.push(t)&&Qo===bo.requestAnimationFrame||((Qo=bo.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);"undefined"!=typeof window&&(t=requestAnimationFrame(r))})(ya))}},bo.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ma),e.__h=e.__h.filter((function(e){return!e.__||va(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],bo.__e(r,e.__v)}})),ia&&ia(e,t)},bo.unmount=function(e){oa&&oa(e);var t=e.__c;if(t){var r=t.__H;if(r)try{r.__.forEach((function(e){return e.t&&e.t()}))}catch(n){bo.__e(n,t.__v)}}};var Ea=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).isPureReactComponent=!0,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.shouldComponentUpdate=function(e,t){return Sa(this.props,e)||Sa(this.state,t)},n}(Io);function Ma(e,t){function r(e){var r=this.props.ref,n=r==e.ref;return!n&&r&&(r.call?r(null):r.current=null),t?!t(this.props,e)||!n:Sa(this.props,e)}function n(t){return this.shouldComponentUpdate=r,Ro(e,xa({},t))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(e.displayName||e.name)+")",n.t=!0,n}var ka=bo.__b;function Aa(e){function t(t){var r=xa({},t);return delete r.ref,e(r,t.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}bo.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),ka&&ka(e)};var Ra=function(e,t){return e?jo(e).reduce((function(e,r,n){return e.concat(t(r,n))}),[]):null},Ta={map:Ra,forEach:Ra,count:function(e){return e?jo(e).length:0},only:function(e){if(1!==(e=jo(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:jo},Ca=bo.__e;function Ba(e){return e&&((e=xa({},e)).__c=null,e.__k=e.__k&&e.__k.map(Ba)),e}function Ia(){this.__u=0,this.o=null,this.__b=null}function Pa(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function Oa(e){var t,r,n;function i(i){if(t||(t=e()).then((function(e){r=e.default||e}),(function(e){n=e})),n)throw n;if(!r)throw t;return Ro(r,i)}return i.displayName="Lazy",i.t=!0,i}function La(){this.i=null,this.l=null}bo.__e=function(e,t,r){if(e.then)for(var n,i=t;i=i.__;)if((n=i.__c)&&n.__c)return n.__c(e,t.__c);Ca(e,t,r)},(Ia.prototype=new Io).__c=function(e,t){var r=this;null==r.o&&(r.o=[]),r.o.push(t);var n=Pa(r.__v),i=!1,o=function(){i||(i=!0,n?n(a):a())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var a=function(){var e;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});e=r.o.pop();)e.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),e.then(o,o)},Ia.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=Ba(this.__b),this.__b=null),[Ro(Io,null,t.u?null:e.children),t.u&&e.fallback]};var Na=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(La.prototype=new Io).u=function(e){var t=this,r=Pa(t.__v),n=t.l.get(e);return n[0]++,function(i){var o=function(){t.props.revealOrder?(n.push(i),Na(t,e,n)):i()};r?r(o):o()}},La.prototype.render=function(e){this.i=null,this.l=new Map;var t=jo(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},La.prototype.componentDidUpdate=La.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,r){Na(e,r,t)}))};var Ua=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function ja(e){var t=this,r=e.container,n=Ro(Ua,{context:t.context},e.vnode);return t.s&&t.s!==r&&(t.v.parentNode&&t.s.removeChild(t.v),Wo(t.h),t.p=!1),e.vnode?t.p?(r.__k=t.__k,Jo(n,r),t.__k=r.__k):(t.v=document.createTextNode(""),Go("",r),r.appendChild(t.v),t.p=!0,t.s=r,Jo(n,r,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),Wo(t.h)),t.h=n,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),Wo(t.h)},null}function qa(e,t){return Ro(ja,{vnode:e,container:t})}var za=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Io.prototype.isReactComponent={};var Da="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function Ha(e,t,r){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return Jo(e,t),"function"==typeof r&&r(),e?e.__c:null}var Ka=bo.event;function Fa(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}bo.event=function(e){Ka&&(e=Ka(e)),e.persist=function(){};var t=!1,r=!1,n=e.stopPropagation;e.stopPropagation=function(){n.call(e),t=!0};var i=e.preventDefault;return e.preventDefault=function(){i.call(e),r=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return r},e.nativeEvent=e};var Wa={configurable:!0,get:function(){return this.class}},Va=bo.vnode;bo.vnode=function(e){e.$$typeof=Da;var t=e.type,r=e.props;if(t){if(r.class!=r.className&&(Wa.enumerable="className"in r,null!=r.className&&(r.class=r.className),Object.defineProperty(r,"className",Wa)),"function"!=typeof t){var n,i,o;for(o in r.defaultValue&&void 0!==r.value&&(r.value||0===r.value||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&"select"===t&&(jo(r.children).forEach((function(e){-1!=r.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete r.value),r)if(n=za.test(o))break;if(n)for(o in i=e.props={},r)i[za.test(o)?o.replace(/[A-Z0-9]/,"-$&").toLowerCase():o]=r[o]}!function(t){var r=e.type,n=e.props;if(n&&"string"==typeof r){var i={};for(var o in n)/^on(Ani|Tra|Tou)/.test(o)&&(n[o.toLowerCase()]=n[o],delete n[o]),i[o.toLowerCase()]=o;if(i.ondoubleclick&&(n.ondblclick=n[i.ondoubleclick],delete n[i.ondoubleclick]),i.onbeforeinput&&(n.onbeforeinput=n[i.onbeforeinput],delete n[i.onbeforeinput]),i.onchange&&("textarea"===r||"input"===r.toLowerCase()&&!/^fil|che|ra/i.test(n.type))){var a=i.oninput||"oninput";n[a]||(n[a]=n[i.onchange],delete n[i.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(Fa(t.prototype,"componentWillMount"),Fa(t.prototype,"componentWillReceiveProps"),Fa(t.prototype,"componentWillUpdate"),t.m=!0)}Va&&Va(e)};function Ja(e){return Ro.bind(null,e)}function Ga(e){return!!e&&e.$$typeof===Da}function $a(e){return Ga(e)?$o.apply(null,arguments):e}function Ya(e){return!!e.__k&&(Jo(null,e),!0)}function Za(e){return e&&(e.base||1===e.nodeType&&e)||null}var Xa=function(e,t){return e(t)},Qa={useState:sa,useReducer:fa,useEffect:ca,useLayoutEffect:ua,useRef:da,useImperativeHandle:ha,useMemo:la,useCallback:pa,useContext:ba,useDebugValue:ga,version:"16.8.0",Children:Ta,render:Ha,hydrate:Ha,unmountComponentAtNode:Ya,createPortal:qa,createElement:Ro,createContext:Yo,createFactory:Ja,cloneElement:$a,createRef:Co,Fragment:Bo,isValidElement:Ga,findDOMNode:Za,Component:Io,PureComponent:Ea,memo:Ma,forwardRef:Aa,unstable_batchedUpdates:Xa,Suspense:Ia,SuspenseList:La,lazy:Oa},es=d(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qa,version:"16.8.0",Children:Ta,render:Ha,hydrate:function(e,t,r){return Go(e,t),"function"==typeof r&&r(),e?e.__c:null},unmountComponentAtNode:Ya,createPortal:qa,createFactory:Ja,cloneElement:$a,isValidElement:Ga,findDOMNode:Za,PureComponent:Ea,memo:Ma,forwardRef:Aa,unstable_batchedUpdates:Xa,Suspense:Ia,SuspenseList:La,lazy:Oa,createElement:Ro,createContext:Yo,createRef:Co,Fragment:Bo,Component:Io,useState:sa,useReducer:fa,useEffect:ca,useLayoutEffect:ua,useRef:da,useImperativeHandle:ha,useMemo:la,useCallback:pa,useContext:ba,useDebugValue:ga,useErrorBoundary:function(e){var t=aa(Zo++,10),r=sa();return t.__=e,Xo.componentDidCatch||(Xo.componentDidCatch=function(e){t.__&&t.__(e),r[1](e)}),[r[0],function(){r[1](void 0)}]}}));function ts(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var rs=mn,ns=ts(vn),is=ts(xo),os=es;"undefined"==typeof Symbol||(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"==typeof Symbol||(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function as(e){return os.createElement("div",{className:"walletconnect-modal__header"},os.createElement("img",{src:"data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='300px' height='185px' viewBox='0 0 300 185' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3EWalletConnect%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='walletconnect-logo-alt' fill='%233B99FC' fill-rule='nonzero'%3E %3Cpath d='M61.4385429,36.2562612 C110.349767,-11.6319051 189.65053,-11.6319051 238.561752,36.2562612 L244.448297,42.0196786 C246.893858,44.4140867 246.893858,48.2961898 244.448297,50.690599 L224.311602,70.406102 C223.088821,71.6033071 221.106302,71.6033071 219.883521,70.406102 L211.782937,62.4749541 C177.661245,29.0669724 122.339051,29.0669724 88.2173582,62.4749541 L79.542302,70.9685592 C78.3195204,72.1657633 76.337001,72.1657633 75.1142214,70.9685592 L54.9775265,51.2530561 C52.5319653,48.8586469 52.5319653,44.9765439 54.9775265,42.5821357 L61.4385429,36.2562612 Z M280.206339,77.0300061 L298.128036,94.5769031 C300.573585,96.9713 300.573599,100.85338 298.128067,103.247793 L217.317896,182.368927 C214.872352,184.763353 210.907314,184.76338 208.461736,182.368989 C208.461726,182.368979 208.461714,182.368967 208.461704,182.368957 L151.107561,126.214385 C150.496171,125.615783 149.504911,125.615783 148.893521,126.214385 C148.893517,126.214389 148.893514,126.214393 148.89351,126.214396 L91.5405888,182.368927 C89.095052,184.763359 85.1300133,184.763399 82.6844276,182.369014 C82.6844133,182.369 82.684398,182.368986 82.6843827,182.36897 L1.87196327,103.246785 C-0.573596939,100.852377 -0.573596939,96.9702735 1.87196327,94.5758653 L19.7936929,77.028998 C22.2392531,74.6345898 26.2042918,74.6345898 28.6498531,77.028998 L86.0048306,133.184355 C86.6162214,133.782957 87.6074796,133.782957 88.2188704,133.184355 C88.2188796,133.184346 88.2188878,133.184338 88.2188969,133.184331 L145.571,77.028998 C148.016505,74.6345347 151.981544,74.6344449 154.427161,77.028798 C154.427195,77.0288316 154.427229,77.0288653 154.427262,77.028899 L211.782164,133.184331 C212.393554,133.782932 213.384814,133.782932 213.996204,133.184331 L271.350179,77.0300061 C273.79574,74.6355969 277.760778,74.6355969 280.206339,77.0300061 Z' id='WalletConnect'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E",className:"walletconnect-modal__headerLogo"}),os.createElement("p",null,"WalletConnect"),os.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:e.onClose},os.createElement("div",{id:"walletconnect-qrcode-close",className:"walletconnect-modal__close__icon"},os.createElement("div",{className:"walletconnect-modal__close__line1"}),os.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function ss(e){return os.createElement("a",{className:"walletconnect-connect__button",href:e.href,id:"walletconnect-connect-button-"+e.name,onClick:e.onClick,rel:"noopener noreferrer",style:{backgroundColor:e.color},target:"_blank"},e.name)}function fs(e){var t=e.color,r=e.href,n=e.name,i=e.logo,o=e.onClick;return os.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},os.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),os.createElement("div",{className:"walletconnect-modal__base__row__right"},os.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+i+"') "+t,backgroundSize:"100%"}}),os.createElement("img",{src:"data:image/svg+xml,%3Csvg width='8' height='18' viewBox='0 0 8 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0.586301 0.213898C0.150354 0.552968 0.0718197 1.18124 0.41089 1.61719L5.2892 7.88931C5.57007 8.25042 5.57007 8.75608 5.2892 9.11719L0.410889 15.3893C0.071819 15.8253 0.150353 16.4535 0.586301 16.7926C1.02225 17.1317 1.65052 17.0531 1.98959 16.6172L6.86791 10.3451C7.7105 9.26174 7.7105 7.74476 6.86791 6.66143L1.98959 0.38931C1.65052 -0.0466374 1.02225 -0.125172 0.586301 0.213898Z' fill='%233C4252'/%3E %3C/svg%3E",className:"walletconnect-modal__base__row__right__caret"})))}function cs(e){var t=e.color,r=e.href,n=e.name,i=e.logo,o=e.onClick,a=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return os.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},os.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+i+"') "+t,backgroundSize:"100%"}}),os.createElement("div",{style:{fontSize:a},className:"walletconnect-connect__button__text"},n))}function us(e){var t=rs.isAndroid(),r=os.useState(1),n=r[0],i=r[1],o=e.links,a=e.error,s=o.length>5,f=Math.ceil(o.length/12),c=[12*(n-1)+1,12*n],u=o.length?o.filter((function(e,t){return t+1>=c[0]&&t+1<=c[1]})):[];return os.createElement("div",null,os.createElement("p",{id:"walletconnect-qrcode-text",className:"walletconnect-qrcode__text"},t?e.text.connect_mobile_wallet:e.text.choose_preferred_wallet),os.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?"__android":s?"__wrap":"")},t?os.createElement(ss,{name:e.text.connect,color:"rgb(64, 153, 255)",href:e.uri,onClick:os.useCallback((function(){rs.saveMobileLinkInfo({name:"Unknown",href:e.uri})}),[])}):u.length?u.map((function(t){var r=t.color,n=t.name,i=t.shortName,o=t.logo,a=rs.formatIOSMobile(e.uri,t),f=os.useCallback((function(){rs.saveMobileLinkInfo({name:n,href:a})}),[u]);return s?os.createElement(cs,{color:r,href:a,name:i,logo:o,onClick:f}):os.createElement(fs,{color:r,href:a,name:n,logo:o,onClick:f})})):os.createElement(os.Fragment,null,os.createElement("p",null,a?"Something went wrong":"Loading..."))),!(t||!(f>1))&&os.createElement("div",{className:"walletconnect-modal__footer"},Array(f).fill(0).map((function(e,t){var r=t+1,o=n===r;return os.createElement("a",{style:{margin:"auto 10px",fontWeight:o?"bold":"normal"},onClick:function(){return i(r)}},r)}))))}function ds(e){var t=!!e.message.trim();return os.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},e.message)}function hs(e){var t=os.useState(""),r=t[0],n=t[1],i=os.useState(""),o=i[0],a=i[1];os.useEffect((function(){try{return Promise.resolve(function(e){try{var t="";return Promise.resolve(ns.toString(e,{margin:0,type:"svg"})).then((function(e){return"string"==typeof e&&(t=e.replace("<svg",'<svg class="walletconnect-qrcode__image"')),t}))}catch(r){return Promise.reject(r)}}(e.uri)).then((function(e){a(e)}))}catch(t){Promise.reject(t)}}),[]);return os.createElement("div",null,os.createElement("p",{id:"walletconnect-qrcode-text",className:"walletconnect-qrcode__text"},e.text.scan_qrcode_with_wallet),os.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),os.createElement("div",{className:"walletconnect-modal__footer"},os.createElement("a",{onClick:function(){is(e.uri)?(n(e.text.copied_to_clipboard),setInterval((function(){return n("")}),1200)):(n("Error"),setInterval((function(){return n("")}),1200))}},e.text.copy_to_clipboard)),os.createElement(ds,{message:r}))}function ls(e){var t=rs.isAndroid(),r=e.qrcodeModalOptions&&e.qrcodeModalOptions.mobileLinks?e.qrcodeModalOptions.mobileLinks:void 0,n=rs.isMobile(),i=os.useState(!n),o=i[0],a=i[1],s={mobile:n,text:e.text,uri:e.uri,qrcodeModalOptions:e.qrcodeModalOptions},f=os.useState(""),c=f[0],u=f[1],d=os.useState(!1),h=d[0],l=d[1],p=os.useState([]),b=p[0],g=p[1],y=os.useState(!1),m=y[0],v=y[1],_=function(){b.length>0||os.useEffect((function(){!function(){try{if(t)return Promise.resolve();var i=function(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}((function(){var t=rs.getWalletRegistryUrl();return Promise.resolve(fetch(t).then((function(e){return e.json()}))).then((function(t){var i=n?"mobile":"desktop",o=rs.getMobileLinkRegistry(rs.formatMobileRegistry(t,i),r);v(!1),g(o);var a=1===o.length;a&&u(rs.formatIOSMobile(e.uri,o[0])),l(a)}))}),(function(e){v(!0),console.error(e)}));Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(o){return Promise.reject(o)}}()}))};_();var w=n?o:!o;return os.createElement("div",{id:"walletconnect-qrcode-modal",className:"walletconnect-qrcode__base animated fadeIn"},os.createElement("div",{className:"walletconnect-modal__base"},os.createElement(as,{onClose:e.onClose}),h&&o?os.createElement("div",{className:"walletconnect-modal__single_wallet"},os.createElement("a",{onClick:function(){return rs.saveMobileLinkInfo({name:b[0].name,href:c})},href:c,rel:"noopener noreferrer",target:"_blank"},e.text.connect_with+" "+(h?b[0].name:"")+" ")):os.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(w?" right__selected":"")},os.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),n?os.createElement(os.Fragment,null,os.createElement("a",{onClick:function(){return a(!1),_()}},e.text.mobile),os.createElement("a",{onClick:function(){return a(!0)}},e.text.qrcode)):os.createElement(os.Fragment,null,os.createElement("a",{onClick:function(){return a(!0)}},e.text.qrcode),os.createElement("a",{onClick:function(){return a(!1),_()}},e.text.desktop))),os.createElement("div",null,o?os.createElement(hs,Object.assign({},s)):os.createElement(us,Object.assign({},s,{links:b,error:m})))))}var ps={de:{choose_preferred_wallet:"Whle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von"},en:{choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with"},es:{choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera mvil",scan_qrcode_with_wallet:"Escanea el cdigo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante"},fr:{choose_preferred_wallet:"Choisissez votre portefeuille prfr",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi!",connect_with:"Connectez-vous  l'aide de"},ko:{choose_preferred_wallet:"  ",connect_mobile_wallet:"  ",scan_qrcode_with_wallet:"WalletConnect   QR ",connect:"",qrcode:"QR ",mobile:"",desktop:"",copy_to_clipboard:" ",copied_to_clipboard:" !",connect_with:" "},pt:{choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se  carteira mvel",scan_qrcode_with_wallet:"Ler o cdigo QR com uma carteira compatvel com WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de"},zh:{choose_preferred_wallet:"",connect_mobile_wallet:"",scan_qrcode_with_wallet:" WalletConnect ",connect:"",qrcode:"",mobile:"",desktop:"",copy_to_clipboard:"",copied_to_clipboard:"",connect_with:""},fa:{choose_preferred_wallet:"       ",connect_mobile_wallet:"     ",scan_qrcode_with_wallet:" QR        WalletConnect  ",connect:"",qrcode:" QR",mobile:"",desktop:"",copy_to_clipboard:"   ",copied_to_clipboard:"    !",connect_with:" "}};function bs(){var e=rs.getDocumentOrThrow(),t=e.getElementById("walletconnect-qrcode-modal");t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout((function(){var t=e.getElementById("walletconnect-wrapper");t&&e.body.removeChild(t)}),300))}function gs(e){return function(){bs(),e&&e()}}function ys(e,t,r){!function(){var e=rs.getDocumentOrThrow(),t=e.getElementById("walletconnect-style-sheet");t&&e.head.removeChild(t);var r=e.createElement("style");r.setAttribute("id","walletconnect-style-sheet"),r.innerText=':root {\n  --animation-duration: 300ms;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n#walletconnect-wrapper {\n  -webkit-user-select: none;\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  user-select: none;\n  width: 100%;\n  z-index: 99999999999999;\n}\n\n.walletconnect-modal__headerLogo {\n  height: 21px;\n}\n\n.walletconnect-modal__header p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n  align-items: flex-start;\n  display: flex;\n  flex: 1;\n  margin-left: 5px;\n}\n\n.walletconnect-modal__close__wrapper {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  z-index: 10000;\n  background: white;\n  border-radius: 26px;\n  padding: 6px;\n  box-sizing: border-box;\n  width: 26px;\n  height: 26px;\n  cursor: pointer;\n}\n\n.walletconnect-modal__close__icon {\n  position: relative;\n  top: 7px;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: rotate(45deg);\n}\n\n.walletconnect-modal__close__line1 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n}\n\n.walletconnect-modal__close__line2 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n  transform: rotate(90deg);\n}\n\n.walletconnect-qrcode__base {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background: rgba(37, 41, 46, 0.95);\n  height: 100%;\n  left: 0;\n  pointer-events: auto;\n  position: fixed;\n  top: 0;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  width: 100%;\n  will-change: opacity;\n  padding: 40px;\n  box-sizing: border-box;\n}\n\n.walletconnect-qrcode__text {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 10px 0 30px 0;\n  text-align: center;\n  width: 100%;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-qrcode__text {\n    font-size: 4vw;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-qrcode__text {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-qrcode__image {\n  width: calc(100% - 30px);\n  box-sizing: border-box;\n  cursor: none;\n  margin: 0 auto;\n}\n\n.walletconnect-qrcode__notification {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  font-size: 16px;\n  padding: 16px 20px;\n  border-radius: 16px;\n  text-align: center;\n  transition: all 0.1s ease-in-out;\n  background: white;\n  color: black;\n  margin-bottom: -60px;\n  opacity: 0;\n}\n\n.walletconnect-qrcode__notification.notification__show {\n  opacity: 1;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__header {\n    height: 130px;\n  }\n  .walletconnect-modal__base {\n    overflow: auto;\n  }\n}\n\n@media only screen and (min-device-width: 415px) and (max-width: 768px) {\n  #content {\n    max-width: 768px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 375px) and (max-width: 415px) {\n  #content {\n    max-width: 414px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 320px) and (max-width: 375px) {\n  #content {\n    max-width: 375px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  #content {\n    max-width: 320px;\n    box-sizing: border-box;\n  }\n}\n\n.walletconnect-modal__base {\n  -webkit-font-smoothing: antialiased;\n  background: #ffffff;\n  border-radius: 24px;\n  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);\n  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,\n    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,\n    "Open Sans", "Helvetica Neue", sans-serif;\n  margin-top: 41px;\n  padding: 24px 24px 22px;\n  pointer-events: auto;\n  position: relative;\n  text-align: center;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  will-change: transform;\n  overflow: visible;\n  transform: translateY(-50%);\n  top: 50%;\n  max-width: 500px;\n  margin: auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__base {\n    padding: 24px 12px;\n  }\n}\n\n.walletconnect-modal__base .hidden {\n  transform: translateY(150%);\n  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);\n}\n\n.walletconnect-modal__header {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  left: 0;\n  justify-content: space-between;\n  position: absolute;\n  top: -42px;\n  width: 100%;\n}\n\n.walletconnect-modal__base .wc-logo {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  margin-top: 15px;\n  padding-bottom: 15px;\n  pointer-events: auto;\n}\n\n.walletconnect-modal__base .wc-logo div {\n  background-color: #3399ff;\n  height: 21px;\n  margin-right: 5px;\n  mask-image: url("images/wc-logo.svg") center no-repeat;\n  width: 32px;\n}\n\n.walletconnect-modal__base .wc-logo p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n}\n\n.walletconnect-modal__base h2 {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 0 0 19px 0;\n  text-align: center;\n  width: 100%;\n}\n\n.walletconnect-modal__base__row {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  align-items: center;\n  border-radius: 20px;\n  cursor: pointer;\n  display: flex;\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 15px;\n  position: relative;\n  margin: 0px 0px 8px;\n  text-align: left;\n  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  will-change: transform;\n  text-decoration: none;\n}\n\n.walletconnect-modal__base__row:hover {\n  background: rgba(60, 66, 82, 0.06);\n}\n\n.walletconnect-modal__base__row:active {\n  background: rgba(60, 66, 82, 0.06);\n  transform: scale(0.975);\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.walletconnect-modal__base__row__h3 {\n  color: #25292e;\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0;\n  padding-bottom: 3px;\n}\n\n.walletconnect-modal__base__row__right {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.walletconnect-modal__base__row__right__app-icon {\n  border-radius: 8px;\n  height: 34px;\n  margin: 0 11px 2px 0;\n  width: 34px;\n  background-size: 100%;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-modal__base__row__right__caret {\n  height: 18px;\n  opacity: 0.3;\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  width: 8px;\n  will-change: opacity;\n}\n\n.walletconnect-modal__base__row:hover .caret,\n.walletconnect-modal__base__row:active .caret {\n  opacity: 0.6;\n}\n\n.walletconnect-modal__mobile__toggle {\n  width: 80%;\n  display: flex;\n  margin: 0 auto;\n  position: relative;\n  overflow: hidden;\n  border-radius: 8px;\n  margin-bottom: 18px;\n  background: #d4d5d9;\n}\n\n.walletconnect-modal__single_wallet {\n  display: flex;\n  justify-content: center;\n  margin-top: 7px;\n  margin-bottom: 18px;\n}\n\n.walletconnect-modal__single_wallet a {\n  cursor: pointer;\n  color: rgb(64, 153, 255);\n  font-size: 21px;\n  font-weight: 800;\n  text-decoration: none !important;\n  margin: 0 auto;\n}\n\n.walletconnect-modal__mobile__toggle_selector {\n  width: calc(50% - 8px);\n  background: white;\n  position: absolute;\n  border-radius: 5px;\n  height: calc(100% - 8px);\n  top: 4px;\n  transition: all 0.2s ease-in-out;\n  transform: translate3d(4px, 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {\n  transform: translate3d(calc(100% + 12px), 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle a {\n  font-size: 12px;\n  width: 50%;\n  text-align: center;\n  padding: 8px;\n  margin: 0;\n  font-weight: 600;\n  z-index: 1;\n}\n\n.walletconnect-modal__footer {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__footer {\n    margin-top: 5vw;\n  }\n}\n\n.walletconnect-modal__footer a {\n  cursor: pointer;\n  color: #898d97;\n  font-size: 15px;\n  margin: 0 auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__footer a {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-connect__buttons__wrapper {\n  max-height: 44vh;\n}\n\n.walletconnect-connect__buttons__wrapper__android {\n  margin: 50% 0;\n}\n\n.walletconnect-connect__buttons__wrapper__wrap {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__buttons__wrapper__wrap {\n    margin-top: 40px;\n  }\n}\n\n.walletconnect-connect__button {\n  background-color: rgb(64, 153, 255);\n  padding: 12px;\n  border-radius: 8px;\n  text-decoration: none;\n  color: rgb(255, 255, 255);\n  font-weight: 500;\n}\n\n.walletconnect-connect__button__icon_anchor {\n  cursor: pointer;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 8px;\n  width: 42px;\n  justify-self: center;\n  flex-direction: column;\n  text-decoration: none !important;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-connect__button__icon_anchor {\n    margin: 4px;\n  }\n}\n\n.walletconnect-connect__button__icon {\n  border-radius: 10px;\n  height: 42px;\n  margin: 0;\n  width: 42px;\n  background-size: cover !important;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-connect__button__text {\n  color: #424952;\n  font-size: 2.7vw;\n  text-decoration: none !important;\n  padding: 0;\n  margin-top: 1.8vw;\n  font-weight: 600;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__button__text {\n    font-size: 16px;\n    margin-top: 12px;\n  }\n}\n',e.head.appendChild(r)}();var n,i=function(){var e=rs.getDocumentOrThrow(),t=e.createElement("div");return t.setAttribute("id","walletconnect-wrapper"),e.body.appendChild(t),t}();os.render(os.createElement(ls,{text:(n=rs.getNavigatorOrThrow().language.split("-")[0]||"en",ps[n]||ps.en),uri:e,onClose:gs(t),qrcodeModalOptions:r}),i)}var ms=function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node};var vs={open:function(e,t,r){console.log(e),ms()?function(e){ns.toString(e,{type:"terminal"}).then(console.log)}(e):ys(e,t,r)},close:function(){ms()||bs()}},_s={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),f=r?r+t:t;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],s]:e._events[f].push(s):(e._events[f]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var f,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,o),!0;case 6:return u.fn.call(u.context,t,n,i,o,a),!0}for(c=1,f=new Array(d-1);c<d;c++)f[c-1]=arguments[c];u.fn.apply(u.context,f)}else{var h,l=u.length;for(c=0;c<l;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!f)for(h=1,f=new Array(d-1);h<d;h++)f[h-1]=arguments[h];u[c].fn.apply(u[c].context,f)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var f=0,c=[],u=s.length;f<u;f++)(s[f].fn!==t||i&&!s[f].once||n&&s[f].context!==n)&&c.push(s[f]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(_s);var ws=_s.exports,xs={},Ss={},Es={};Object.defineProperty(Es,"__esModule",{value:!0});var Ms=function(e){this.type=e,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0};Es.ProgressEvent=Ms;var ks,As={},Rs=u&&u.__extends||(ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}ks(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(As,"__esModule",{value:!0});var Ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rs(t,e),t}(Error);As.SecurityError=Ts;var Cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rs(t,e),t}(Error);As.InvalidStateError=Cs;var Bs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rs(t,e),t}(Error);As.NetworkError=Bs;var Is=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rs(t,e),t}(Error);As.SyntaxError=Is;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});var Os=function(){function e(){this.listeners={}}return e.prototype.addEventListener=function(e,t){e=e.toLowerCase(),this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t.handleEvent||t)},e.prototype.removeEventListener=function(e,t){if(e=e.toLowerCase(),this.listeners[e]){var r=this.listeners[e].indexOf(t.handleEvent||t);r<0||this.listeners[e].splice(r,1)}},e.prototype.dispatchEvent=function(e){var t=e.type.toLowerCase();if(e.target=this,this.listeners[t])for(var r=0,n=this.listeners[t];r<n.length;r++){n[r].call(this,e)}var i=this["on"+t];return i&&i.call(this,e),!0},e}();Ps.XMLHttpRequestEventTarget=Os;var Ls={},Ns=u&&u.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ls,"__esModule",{value:!0});var Us=function(e){function t(){var t=e.call(this)||this;return t._contentType=null,t._body=null,t._reset(),t}return Ns(t,e),t.prototype._reset=function(){this._contentType=null,this._body=null},t.prototype._setData=function(e){if(null!=e)if("string"==typeof e)0!==e.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=new Buffer(e,"utf-8");else if(Buffer.isBuffer(e))this._body=e;else if(e instanceof ArrayBuffer){for(var t=new Buffer(e.byteLength),r=new Uint8Array(e),n=0;n<e.byteLength;n++)t[n]=r[n];this._body=t}else{if(!(e.buffer&&e.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+e);t=new Buffer(e.byteLength);var i=e.byteOffset;for(r=new Uint8Array(e.buffer),n=0;n<e.byteLength;n++)t[n]=r[n+i];this._body=t}},t.prototype._finalizeHeaders=function(e,t){this._contentType&&!t["content-type"]&&(e["Content-Type"]=this._contentType),this._body&&(e["Content-Length"]=this._body.length.toString())},t.prototype._startUpload=function(e){this._body&&e.write(this._body),e.end()},t}(Ps.XMLHttpRequestEventTarget);Ls.XMLHttpRequestUpload=Us;var js={};!function(){function e(t,r,n,i){return this instanceof e?(this.domain=t||void 0,this.path=r||"/",this.secure=!!n,this.script=!!i,this):new e(t,r,n,i)}function t(e,r,n){return e instanceof t?e:this instanceof t?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(n||"/"),this.explicit_path=!1,this.domain=r||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,e&&this.parse(e,r,n),this):new t(e,r,n)}e.All=Object.freeze(Object.create(null)),js.CookieAccessInfo=e,js.Cookie=t,t.prototype.toString=function(){var e=[this.name+"="+this.value];return this.expiration_date!==1/0&&e.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&e.push("domain="+this.domain),this.path&&e.push("path="+this.path),this.secure&&e.push("secure"),this.noscript&&e.push("httponly"),e.join("; ")},t.prototype.toValueString=function(){return this.name+"="+this.value};var r=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;function n(){var e,r;return this instanceof n?(e=Object.create(null),this.setCookie=function(n,i,o){var a,s;if(a=(n=new t(n,i,o)).expiration_date<=Date.now(),void 0!==e[n.name]){for(r=e[n.name],s=0;s<r.length;s+=1)if(r[s].collidesWith(n))return a?(r.splice(s,1),0===r.length&&delete e[n.name],!1):(r[s]=n,n);return!a&&(r.push(n),n)}return!a&&(e[n.name]=[n],e[n.name])},this.getCookie=function(t,n){var i,o;if(r=e[t])for(o=0;o<r.length;o+=1)if((i=r[o]).expiration_date<=Date.now())0===r.length&&delete e[i.name];else if(i.matches(n))return i},this.getCookies=function(t){var r,n,i=[];for(r in e)(n=this.getCookie(r,t))&&i.push(n);return i.toString=function(){return i.join(":")},i.toValueString=function(){return i.map((function(e){return e.toValueString()})).join(";")},i},this):new n}t.prototype.parse=function(e,r,n){if(this instanceof t){var i,o=e.split(";").filter((function(e){return!!e})),a=o[0].match(/([^=]+)=([\s\S]*)/);if(!a)return void console.warn("Invalid cookie header encountered. Header: '"+e+"'");var s=a[1],f=a[2];if("string"!=typeof s||0===s.length||"string"!=typeof f)return void console.warn("Unable to extract values from cookie header. Cookie: '"+e+"'");for(this.name=s,this.value=f,i=1;i<o.length;i+=1)switch(s=(a=o[i].match(/([^=]+)(?:=([\s\S]*))?/))[1].trim().toLowerCase(),f=a[2],s){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=f?Number(Date.parse(f)):1/0;break;case"path":this.path=f?f.trim():"",this.explicit_path=!0;break;case"domain":this.domain=f?f.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=n||"/"),this.explicit_domain||(this.domain=r),this}return(new t).parse(e,r,n)},t.prototype.matches=function(t){return t===e.All||!(this.noscript&&t.script||this.secure&&!t.secure||!this.collidesWith(t))},t.prototype.collidesWith=function(e){if(this.path&&!e.path||this.domain&&!e.domain)return!1;if(this.path&&0!==e.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==e.path.indexOf(this.path))return!1;var t=e.domain&&e.domain.replace(/^[\.]/,""),r=this.domain&&this.domain.replace(/^[\.]/,"");if(r===t)return!0;if(r){if(!this.explicit_domain)return!1;var n=t.indexOf(r);return-1!==n&&n===t.length-r.length}return!0},js.CookieJar=n,n.prototype.setCookies=function(e,n,i){var o,a,s=[];for(e=(e=Array.isArray(e)?e:e.split(r)).map((function(e){return new t(e,n,i)})),o=0;o<e.length;o+=1)a=e[o],this.setCookie(a,n,i)&&s.push(a);return s}}();var qs=u&&u.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zs=u&&u.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(Ss,"__esModule",{value:!0});var Ds=c,Hs=c,Ks=c,Fs=c,Ws=Es,Vs=As,Js=Ls,Gs=js,$s=function(e){function t(r){void 0===r&&(r={});var n=e.call(this)||this;return n.UNSENT=t.UNSENT,n.OPENED=t.OPENED,n.HEADERS_RECEIVED=t.HEADERS_RECEIVED,n.LOADING=t.LOADING,n.DONE=t.DONE,n.onreadystatechange=null,n.readyState=t.UNSENT,n.response=null,n.responseText="",n.responseType="",n.status=0,n.statusText="",n.timeout=0,n.upload=new Js.XMLHttpRequestUpload,n.responseUrl="",n.withCredentials=!1,n._method=null,n._url=null,n._sync=!1,n._headers={},n._loweredHeaders={},n._mimeOverride=null,n._request=null,n._response=null,n._responseParts=null,n._responseHeaders=null,n._aborting=null,n._error=null,n._loadedBytes=0,n._totalBytes=0,n._lengthComputable=!1,n._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},n._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},n._privateHeaders={"set-cookie":!0,"set-cookie2":!0},n._userAgent="Mozilla/5.0 ("+Ks.type()+" "+Ks.arch()+") node.js/"+process.versions.node+" v8/"+process.versions.v8,n._anonymous=r.anon||!1,n}return qs(t,e),t.prototype.open=function(e,r,n,i,o){if(void 0===n&&(n=!0),e=e.toUpperCase(),this._restrictedMethods[e])throw new t.SecurityError("HTTP method "+e+" is not allowed in XHR");var a=this._parseUrl(r,i,o);this.readyState===t.HEADERS_RECEIVED||(this.readyState,t.LOADING),this._method=e,this._url=a,this._sync=!n,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(t.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},t.prototype.setRequestHeader=function(e,r){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");var n=e.toLowerCase();this._restrictedHeaders[n]||/^sec-/.test(n)||/^proxy-/.test(n)?console.warn('Refused to set unsafe header "'+e+'"'):(r=r.toString(),null!=this._loweredHeaders[n]?(e=this._loweredHeaders[n],this._headers[e]=this._headers[e]+", "+r):(this._loweredHeaders[n]=e,this._headers[e]=r))},t.prototype.send=function(e){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new t.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(e);case"http:":case"https:":return this._sendHttp(e);default:throw new t.NetworkError("Unsupported protocol "+this._url.protocol)}},t.prototype.abort=function(){null!=this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},t.prototype.getResponseHeader=function(e){if(null==this._responseHeaders||null==e)return null;var t=e.toLowerCase();return this._responseHeaders.hasOwnProperty(t)?this._responseHeaders[e.toLowerCase()]:null},t.prototype.getAllResponseHeaders=function(){var e=this;return null==this._responseHeaders?"":Object.keys(this._responseHeaders).map((function(t){return t+": "+e._responseHeaders[t]})).join("\r\n")},t.prototype.overrideMimeType=function(e){if(this.readyState===t.LOADING||this.readyState===t.DONE)throw new t.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=e.toLowerCase()},t.prototype.nodejsSet=function(e){if(this.nodejsHttpAgent=e.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=e.httpsAgent||this.nodejsHttpsAgent,e.hasOwnProperty("baseUrl")){if(null!=e.baseUrl)if(!Fs.parse(e.baseUrl,!1,!0).protocol)throw new t.SyntaxError("baseUrl must be an absolute URL");this.nodejsBaseUrl=e.baseUrl}},t.nodejsSet=function(e){t.prototype.nodejsSet(e)},t.prototype._setReadyState=function(e){this.readyState=e,this.dispatchEvent(new Ws.ProgressEvent("readystatechange"))},t.prototype._sendFile=function(e){throw new Error("Protocol file: not implemented")},t.prototype._sendHttp=function(e){if(this._sync)throw new Error("Synchronous XHR processing not implemented");!e||"GET"!==this._method&&"HEAD"!==this._method?e=e||"":(console.warn("Discarding entity body for "+this._method+" requests"),e=null),this.upload._setData(e),this._finalizeHeaders(),this._sendHxxpRequest()},t.prototype._sendHxxpRequest=function(){var e=this;if(this.withCredentials){var r=t.cookieJar.getCookies(Gs.CookieAccessInfo(this._url.hostname,this._url.pathname,"https:"===this._url.protocol)).toValueString();this._headers.cookie=this._headers.cookie2=r}var n="http:"===this._url.protocol?[Ds,this.nodejsHttpAgent]:[Hs,this.nodejsHttpsAgent],i=n[0],o=n[1],a=i.request.bind(i)({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:o});this._request=a,this.timeout&&a.setTimeout(this.timeout,(function(){return e._onHttpTimeout(a)})),a.on("response",(function(t){return e._onHttpResponse(a,t)})),a.on("error",(function(t){return e._onHttpRequestError(a,t)})),this.upload._startUpload(a),this._request===a&&this._dispatchProgress("loadstart")},t.prototype._finalizeHeaders=function(){this._headers=zs({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},t.prototype._onHttpResponse=function(e,r){var n=this;if(this._request===e){if(this.withCredentials&&(r.headers["set-cookie"]||r.headers["set-cookie2"])&&t.cookieJar.setCookies(r.headers["set-cookie"]||r.headers["set-cookie2"]),[301,302,303,307,308].indexOf(r.statusCode)>=0)return this._url=this._parseUrl(r.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),null!=this._headers["Content-Type"]&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest();this._response=r,this._response.on("data",(function(e){return n._onHttpResponseData(r,e)})),this._response.on("end",(function(){return n._onHttpResponseEnd(r)})),this._response.on("close",(function(){return n._onHttpResponseClose(r)})),this.responseUrl=this._url.href.split("#")[0],this.status=r.statusCode,this.statusText=Ds.STATUS_CODES[this.status],this._parseResponseHeaders(r);var i=this._responseHeaders["content-length"]||"";this._totalBytes=+i,this._lengthComputable=!!i,this._setReadyState(t.HEADERS_RECEIVED)}},t.prototype._onHttpResponseData=function(e,r){this._response===e&&(this._responseParts.push(new Buffer(r)),this._loadedBytes+=r.length,this.readyState!==t.LOADING&&this._setReadyState(t.LOADING),this._dispatchProgress("progress"))},t.prototype._onHttpResponseEnd=function(e){this._response===e&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(t.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},t.prototype._onHttpResponseClose=function(e){if(this._response===e){var r=this._request;this._setError(),r.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},t.prototype._onHttpTimeout=function(e){this._request===e&&(this._setError(),e.abort(),this._setReadyState(t.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},t.prototype._onHttpRequestError=function(e,r){this._request===e&&(this._setError(),e.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},t.prototype._dispatchProgress=function(e){var r=new t.ProgressEvent(e);r.lengthComputable=this._lengthComputable,r.loaded=this._loadedBytes,r.total=this._totalBytes,this.dispatchEvent(r)},t.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},t.prototype._parseUrl=function(e,t,r){var n=null==this.nodejsBaseUrl?e:Fs.resolve(this.nodejsBaseUrl,e),i=Fs.parse(n,!1,!0);i.hash=null;var o=(i.auth||"").split(":"),a=o[0],s=o[1];return(a||s||t||r)&&(i.auth=(t||a||"")+":"+(r||s||"")),i},t.prototype._parseResponseHeaders=function(e){for(var t in this._responseHeaders={},e.headers){var r=t.toLowerCase();this._privateHeaders[r]||(this._responseHeaders[r]=e.headers[t])}null!=this._mimeOverride&&(this._responseHeaders["content-type"]=this._mimeOverride)},t.prototype._parseResponse=function(){var e=Buffer.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(e.toString("utf-8"))}catch(i){this.response=null}return;case"buffer":return this.responseText=null,void(this.response=e);case"arraybuffer":this.responseText=null;for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e[n];return void(this.response=t);case"text":default:try{this.responseText=e.toString(this._parseResponseEncoding())}catch(o){this.responseText=e.toString("binary")}this.response=this.responseText}},t.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},t.ProgressEvent=Ws.ProgressEvent,t.InvalidStateError=Vs.InvalidStateError,t.NetworkError=Vs.NetworkError,t.SecurityError=Vs.SecurityError,t.SyntaxError=Vs.SyntaxError,t.XMLHttpRequestUpload=Js.XMLHttpRequestUpload,t.UNSENT=0,t.OPENED=1,t.HEADERS_RECEIVED=2,t.LOADING=3,t.DONE=4,t.cookieJar=Gs.CookieJar(),t}(Ps.XMLHttpRequestEventTarget);Ss.XMLHttpRequest=$s,$s.prototype.nodejsHttpAgent=Ds.globalAgent,$s.prototype.nodejsHttpsAgent=Hs.globalAgent,$s.prototype.nodejsBaseUrl=null,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(Ss);var t=Ps;e.XMLHttpRequestEventTarget=t.XMLHttpRequestEventTarget}(xs);const Ys=oe("XMLHttpRequest")||xs.XMLHttpRequest;var Zs=d(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:class extends ws{constructor(e){super(),this.url=e}formatError(e,t,r=-1){return{error:{message:t,code:r},id:e.id,jsonrpc:e.jsonrpc}}send(e,t){return new Promise((r=>{if("eth_subscribe"===e.method){const t=this.formatError(e,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",t),r(t)}const n=new Ys;let i=!1;const o=(o,a)=>{if(!i)if(n.abort(),i=!0,t)t(o,a);else{const{id:t,jsonrpc:n}=e,i=o?{id:t,jsonrpc:n,error:{message:o.message,code:o.code}}:{id:t,jsonrpc:n,result:a};this.emit("payload",i),r(i)}};n.open("POST",this.url,!0),n.setRequestHeader("Content-Type","application/json"),n.timeout=6e4,n.onerror=o,n.ontimeout=o,n.onreadystatechange=()=>{if(4===n.readyState)try{const e=JSON.parse(n.responseText);o(e.error,e.result)}catch(e){o(e)}},n.send(JSON.stringify(e))}))}}})),Xs=d(tn),Qs={},ef={},tf={};Object.defineProperty(tf,"__esModule",{value:!0}),tf.createHashFunction=function(e){return function(t){var r=e();return r.update(t),Buffer.from(r.digest())}},Object.defineProperty(ef,"__esModule",{value:!0});var rf=tf,nf=e;ef.keccak224=rf.createHashFunction((function(){return nf("keccak224")})),ef.keccak256=rf.createHashFunction((function(){return nf("keccak256")})),ef.keccak384=rf.createHashFunction((function(){return nf("keccak384")})),ef.keccak512=rf.createHashFunction((function(){return nf("keccak512")}));var of={};const af="Impossible case. Please create issue.",sf="The tweak was out of range or the resulted private key is invalid",ff="The tweak was out of range or equal to zero",cf="Unknow error on context randomization",uf="Private Key is invalid",df="Public Key could not be parsed",hf="Public Key serialization error",lf="The sum of the public keys is not valid",pf="Signature could not be parsed",bf="The nonce generation function failed, or the private key was invalid",gf="Public key could not be recover",yf="Scalar was invalid (zero or overflow)";function mf(e,t){if(!e)throw new Error(t)}function vf(e,t,r){if(mf(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;mf(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;mf(t.length===r,n)}}function _f(e){mf("Boolean"===xf(e),"Expected compressed to be a Boolean")}function wf(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),vf("output",e,t),e}function xf(e){return Object.prototype.toString.call(e).slice(8,-1)}var Sf={};var Ef,Mf,kf,Af,Rf="6.5.4",Tf={},Cf={};!function(e){var t=Cf;function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}(),Ef=Tf,Mf=b.exports,kf=p,Af=Cf,Ef.assert=kf,Ef.toArray=Af.toArray,Ef.zero2=Af.zero2,Ef.toHex=Af.toHex,Ef.encode=Af.encode,Ef.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<n.length;a++){var s,f=o.andln(i-1);o.isOdd()?(s=f>(i>>1)-1?(i>>1)-f:f,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},Ef.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,f=e.andln(3)+i&3,c=t.andln(3)+o&3;3===f&&(f=-1),3===c&&(c=-1),a=0==(1&f)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==c?f:-f,r[0].push(a),s=0==(1&c)?0:3!=(n=t.andln(7)+o&7)&&5!==n||2!==f?c:-c,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},Ef.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},Ef.parseBytes=function(e){return"string"==typeof e?Ef.toArray(e,"hex"):e},Ef.intFromLE=function(e){return new Mf(e,"hex","le")};var Bf,If={exports:{}};function Pf(e){this.rand=e}if(If.exports=function(e){return Bf||(Bf=new Pf(null)),Bf.generate(e)},If.exports.Rand=Pf,Pf.prototype.generate=function(e){return this._rand(e)},Pf.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Pf.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Pf.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(Pf.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Of=c;if("function"!=typeof Of.randomBytes)throw new Error("Not supported");Pf.prototype._rand=function(e){return Of.randomBytes(e)}}catch(Bv){}var Lf={},Nf=b.exports,Uf=Tf,jf=Uf.getNAF,qf=Uf.getJSF,zf=Uf.assert;function Df(e,t){this.type=e,this.p=new Nf(t.p,16),this.red=t.prime?Nf.red(t.prime):Nf.mont(this.p),this.zero=new Nf(0).toRed(this.red),this.one=new Nf(1).toRed(this.red),this.two=new Nf(2).toRed(this.red),this.n=t.n&&new Nf(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Hf=Df;function Kf(e,t){this.curve=e,this.type=t,this.precomputed=null}Df.prototype.point=function(){throw new Error("Not implemented")},Df.prototype.validate=function(){throw new Error("Not implemented")},Df.prototype._fixedNafMul=function(e,t){zf(e.precomputed);var r=e._getDoubles(),n=jf(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=r.step){a=0;for(var f=o+r.step-1;f>=o;f--)a=(a<<1)+n[f];s.push(a)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<s.length;o++)(a=s[o])===d?u=u.mixedAdd(r.points[o]):a===-d&&(u=u.mixedAdd(r.points[o].neg()));c=c.add(u)}return c.toP()},Df.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=jf(t,r,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var f=0;s>=0&&0===o[s];s--)f++;if(s>=0&&f++,a=a.dblp(f),s<0)break;var c=o[s];zf(0!==c),a="affine"===e.type?c>0?a.mixedAdd(i[c-1>>1]):a.mixedAdd(i[-c-1>>1].neg()):c>0?a.add(i[c-1>>1]):a.add(i[-c-1>>1].neg())}return"affine"===e.type?a.toP():a},Df.prototype._wnafMulAdd=function(e,t,r,n,i){var o,a,s,f=this._wnafT1,c=this._wnafT2,u=this._wnafT3,d=0;for(o=0;o<n;o++){var h=(s=t[o])._getNAFPoints(e);f[o]=h.wnd,c[o]=h.points}for(o=n-1;o>=1;o-=2){var l=o-1,p=o;if(1===f[l]&&1===f[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=qf(r[l],r[p]);for(d=Math.max(y[0].length,d),u[l]=new Array(d),u[p]=new Array(d),a=0;a<d;a++){var m=0|y[0][a],v=0|y[1][a];u[l][a]=g[3*(m+1)+(v+1)],u[p][a]=0,c[l]=b}}else u[l]=jf(r[l],f[l],this._bitLength),u[p]=jf(r[p],f[p],this._bitLength),d=Math.max(u[l].length,d),d=Math.max(u[p].length,d)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(o=d;o>=0;o--){for(var x=0;o>=0;){var S=!0;for(a=0;a<n;a++)w[a]=0|u[a][o],0!==w[a]&&(S=!1);if(!S)break;x++,o--}if(o>=0&&x++,_=_.dblp(x),o<0)break;for(a=0;a<n;a++){var E=w[a];0!==E&&(E>0?s=c[a][E-1>>1]:E<0&&(s=c[a][-E-1>>1].neg()),_="affine"===s.type?_.mixedAdd(s):_.add(s))}}for(o=0;o<n;o++)c[o]=null;return i?_:_.toP()},Df.BasePoint=Kf,Kf.prototype.eq=function(){throw new Error("Not implemented")},Kf.prototype.validate=function(){return this.curve.validate(this)},Df.prototype.decodePoint=function(e,t){e=Uf.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?zf(e[e.length-1]%2==0):7===e[0]&&zf(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Kf.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Kf.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Kf.prototype.encode=function(e,t){return Uf.encode(this._encode(t),e)},Kf.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Kf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Kf.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},Kf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Kf.prototype._getBeta=function(){return null},Kf.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Ff=Tf,Wf=b.exports,Vf=g.exports,Jf=Hf,Gf=Ff.assert;function $f(e){Jf.call(this,"short",e),this.a=new Wf(e.a,16).toRed(this.red),this.b=new Wf(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Vf($f,Jf);var Yf=$f;function Zf(e,t,r,n){Jf.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Wf(t,16),this.y=new Wf(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Xf(e,t,r,n){Jf.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Wf(0)):(this.x=new Wf(t,16),this.y=new Wf(r,16),this.z=new Wf(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}$f.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new Wf(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Wf(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],Gf(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new Wf(e.a,16),b:new Wf(e.b,16)}})):this._getEndoBasis(r)}}},$f.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Wf.mont(e),r=new Wf(2).toRed(t).redInvm(),n=r.redNeg(),i=new Wf(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},$f.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,a,s,f,c,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),l=new Wf(1),p=new Wf(0),b=new Wf(0),g=new Wf(1),y=0;0!==d.cmpn(0);){var m=h.div(d);f=h.sub(m.mul(d)),c=b.sub(m.mul(l));var v=g.sub(m.mul(p));if(!n&&f.cmp(u)<0)t=s.neg(),r=l,n=f.neg(),i=c;else if(n&&2==++y)break;s=f,h=d,d=f,b=l,l=c,g=p,p=v}o=f.neg(),a=c;var _=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},$f.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),f=i.mul(r.b),c=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:f.add(c).neg()}},$f.prototype.pointFromX=function(e,t){(e=new Wf(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},$f.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},$f.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],f=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),n[2*o]=s,n[2*o+1]=f,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),u=0;u<2*o;u++)n[u]=null,i[u]=null;return c},Vf(Zf,Jf.BasePoint),$f.prototype.point=function(e,t,r){return new Zf(this,e,t,r)},$f.prototype.pointFromJSON=function(e,t){return Zf.fromJSON(this,e,t)},Zf.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Zf.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Zf.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Zf.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Zf.prototype.isInfinity=function(){return this.inf},Zf.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Zf.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Zf.prototype.getX=function(){return this.x.fromRed()},Zf.prototype.getY=function(){return this.y.fromRed()},Zf.prototype.mul=function(e){return e=new Wf(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Zf.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Zf.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Zf.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Zf.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Zf.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Vf(Xf,Jf.BasePoint),$f.prototype.jpoint=function(e,t,r){return new Xf(this,e,t,r)},Xf.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Xf.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Xf.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),f=o.redSub(a);if(0===s.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),d=n.redMul(c),h=f.redSqr().redIAdd(u).redISub(d).redISub(d),l=f.redMul(d.redISub(h)).redISub(o.redMul(u)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,l,p)},Xf.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),c=f.redMul(a),u=r.redMul(f),d=s.redSqr().redIAdd(c).redISub(u).redISub(u),h=s.redMul(u.redISub(d)).redISub(i.redMul(c)),l=this.z.redMul(a);return this.curve.jpoint(d,h,l)},Xf.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,f=s.redSqr().redSqr(),c=a.redAdd(a);for(t=0;t<e;t++){var u=o.redSqr(),d=c.redSqr(),h=d.redSqr(),l=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(f)),p=o.redMul(d),b=l.redSqr().redISub(p.redAdd(p)),g=p.redISub(b),y=l.redMul(g);y=y.redIAdd(y).redISub(h);var m=c.redMul(s);t+1<e&&(f=f.redMul(h)),o=b,s=m,c=y}return this.curve.jpoint(o,c.redMul(i),s)},Xf.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Xf.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),f=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=f,t=s.redMul(a.redISub(f)).redISub(c),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),l=this.x.redAdd(d).redSqr().redISub(u).redISub(h);l=l.redIAdd(l);var p=u.redAdd(u).redIAdd(u),b=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Xf.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),f=s.redSqr().redISub(a).redISub(a);e=f;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(a.redISub(f)).redISub(c),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),l=this.x.redSub(u).redMul(this.x.redAdd(u));l=l.redAdd(l).redIAdd(l);var p=h.redIAdd(h),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(u);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=l.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},Xf.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),f=t.redAdd(t),c=(f=f.redIAdd(f)).redMul(a),u=s.redSqr().redISub(c.redAdd(c)),d=c.redISub(u),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=s.redMul(d).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(u,l,p)},Xf.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),f=n.redIAdd(n);f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(f),u=t.redMul(c);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.x.redMul(s).redISub(u);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(c.redMul(f.redISub(c)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,h,l)},Xf.prototype.mul=function(e,t){return e=new Wf(e,t),this.curve._wnafMul(this,e)},Xf.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Xf.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Xf.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Xf.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Qf=b.exports,ec=g.exports,tc=Hf,rc=Tf;function nc(e){tc.call(this,"mont",e),this.a=new Qf(e.a,16).toRed(this.red),this.b=new Qf(e.b,16).toRed(this.red),this.i4=new Qf(4).toRed(this.red).redInvm(),this.two=new Qf(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}ec(nc,tc);var ic=nc;function oc(e,t,r){tc.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Qf(t,16),this.z=new Qf(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}nc.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},ec(oc,tc.BasePoint),nc.prototype.decodePoint=function(e,t){return this.point(rc.toArray(e,t),1)},nc.prototype.point=function(e,t){return new oc(this,e,t)},nc.prototype.pointFromJSON=function(e){return oc.fromJSON(this,e)},oc.prototype.precompute=function(){},oc.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},oc.fromJSON=function(e,t){return new oc(e,t[0],t[1]||e.one)},oc.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},oc.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},oc.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},oc.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},oc.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),f=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,f)},oc.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},oc.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},oc.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},oc.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},oc.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},oc.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var ac=Tf,sc=b.exports,fc=g.exports,cc=Hf,uc=ac.assert;function dc(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,cc.call(this,"edwards",e),this.a=new sc(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new sc(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new sc(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),uc(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}fc(dc,cc);var hc,lc=dc;function pc(e,t,r,n,i){cc.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new sc(t,16),this.y=new sc(r,16),this.z=n?new sc(n,16):this.curve.one,this.t=i&&new sc(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}dc.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},dc.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},dc.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},dc.prototype.pointFromX=function(e,t){(e=new sc(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var s=a.fromRed().isOdd();return(t&&!s||!t&&s)&&(a=a.redNeg()),this.point(e,a)},dc.prototype.pointFromY=function(e,t){(e=new sc(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},dc.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},fc(pc,cc.BasePoint),dc.prototype.pointFromJSON=function(e){return pc.fromJSON(this,e)},dc.prototype.point=function(e,t,r,n){return new pc(this,e,t,r,n)},pc.fromJSON=function(e,t){return new pc(e,t[0],t[1],t[2])},pc.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},pc.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},pc.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),f=i.redMul(a),c=o.redMul(s),u=i.redMul(s),d=a.redMul(o);return this.curve.point(f,c,d,u)},pc.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),f=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(s)).redAdd(f);this.zOne?(e=a.redSub(s).redSub(f).redMul(c.redSub(this.curve.two)),t=c.redMul(n.redSub(f)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),e=a.redSub(s).redISub(f).redMul(o),t=c.redMul(n.redSub(f)),r=c.redMul(o))}else n=s.redAdd(f),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(f)),r=n.redMul(o);return this.curve.point(e,t,r)},pc.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},pc.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),f=r.redAdd(t),c=o.redMul(a),u=s.redMul(f),d=o.redMul(f),h=a.redMul(s);return this.curve.point(c,u,h,d)},pc.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),f=i.redSub(s),c=i.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=n.redMul(f).redMul(u);return this.curve.twisted?(t=n.redMul(c).redMul(a.redSub(this.curve._mulA(o))),r=f.redMul(c)):(t=n.redMul(c).redMul(a.redSub(o)),r=this.curve._mulC(f).redMul(c)),this.curve.point(d,t,r)},pc.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},pc.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},pc.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},pc.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},pc.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},pc.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},pc.prototype.getX=function(){return this.normalize(),this.x.fromRed()},pc.prototype.getY=function(){return this.normalize(),this.y.fromRed()},pc.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},pc.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},pc.prototype.toP=pc.prototype.normalize,pc.prototype.mixedAdd=pc.prototype.add,(hc=Lf).base=Hf,hc.short=Yf,hc.mont=ic,hc.edwards=lc;var bc={},gc={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}};!function(e){var t,r=bc,n=y,i=Lf,o=Tf.assert;function a(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new a(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=a,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=gc}catch(Bv){t=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}();var yc=y,mc=Cf,vc=p;function _c(e){if(!(this instanceof _c))return new _c(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=mc.toArray(e.entropy,e.entropyEnc||"hex"),r=mc.toArray(e.nonce,e.nonceEnc||"hex"),n=mc.toArray(e.pers,e.persEnc||"hex");vc(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var wc=_c;_c.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},_c.prototype._hmac=function(){return new yc.hmac(this.hash,this.K)},_c.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},_c.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=mc.toArray(e,t),r=mc.toArray(r,n),vc(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},_c.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=mc.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,mc.encode(o,t)};var xc=b.exports,Sc=Tf.assert;function Ec(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Mc=Ec;Ec.fromPublic=function(e,t,r){return t instanceof Ec?t:new Ec(e,{pub:t,pubEnc:r})},Ec.fromPrivate=function(e,t,r){return t instanceof Ec?t:new Ec(e,{priv:t,privEnc:r})},Ec.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ec.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Ec.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Ec.prototype._importPrivate=function(e,t){this.priv=new xc(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Ec.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Sc(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Sc(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Ec.prototype.derive=function(e){return e.validate()||Sc(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Ec.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Ec.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Ec.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var kc=b.exports,Ac=Tf,Rc=Ac.assert;function Tc(e,t){if(e instanceof Tc)return e;this._importDER(e,t)||(Rc(e.r&&e.s,"Signature without r or s"),this.r=new kc(e.r,16),this.s=new kc(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Cc=Tc;function Bc(){this.place=0}function Ic(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function Pc(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Oc(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Tc.prototype._importDER=function(e,t){e=Ac.toArray(e,t);var r=new Bc;if(48!==e[r.place++])return!1;var n=Ic(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Ic(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var a=Ic(e,r);if(!1===a)return!1;if(e.length!==a+r.place)return!1;var s=e.slice(r.place,a+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new kc(o),this.s=new kc(s),this.recoveryParam=null,!0},Tc.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Pc(t),r=Pc(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Oc(n,t.length),(n=n.concat(t)).push(2),Oc(n,r.length);var i=n.concat(r),o=[48];return Oc(o,i.length),o=o.concat(i),Ac.encode(o,e)};var Lc=b.exports,Nc=wc,Uc=Tf,jc=bc,qc=If.exports,zc=Uc.assert,Dc=Mc,Hc=Cc;function Kc(e){if(!(this instanceof Kc))return new Kc(e);"string"==typeof e&&(zc(Object.prototype.hasOwnProperty.call(jc,e),"Unknown curve "+e),e=jc[e]),e instanceof jc.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Fc=Kc;Kc.prototype.keyPair=function(e){return new Dc(this,e)},Kc.prototype.keyFromPrivate=function(e,t){return Dc.fromPrivate(this,e,t)},Kc.prototype.keyFromPublic=function(e,t){return Dc.fromPublic(this,e,t)},Kc.prototype.genKeyPair=function(e){e||(e={});for(var t=new Nc({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||qc(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Lc(2));;){var i=new Lc(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Kc.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Kc.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Lc(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),a=e.toArray("be",i),s=new Nc({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),f=this.n.sub(new Lc(1)),c=0;;c++){var u=n.k?n.k(c):new Lc(s.generate(this.n.byteLength()));if(!((u=this._truncateToN(u,!0)).cmpn(1)<=0||u.cmp(f)>=0)){var d=this.g.mul(u);if(!d.isInfinity()){var h=d.getX(),l=h.umod(this.n);if(0!==l.cmpn(0)){var p=u.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var b=(d.getY().isOdd()?1:0)|(0!==h.cmp(l)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),b^=1),new Hc({r:l,s:p,recoveryParam:b})}}}}}},Kc.prototype.verify=function(e,t,r,n){e=this._truncateToN(new Lc(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Hc(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),f=s.mul(e).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(f,r.getPublic(),c)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(f,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},Kc.prototype.recoverPubKey=function(e,t,r,n){zc((3&r)===r,"The recovery param is more than two bits"),t=new Hc(t,n);var i=this.n,o=new Lc(e),a=t.r,s=t.s,f=1&r,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");a=c?this.curve.pointFromX(a.add(this.curve.n),f):this.curve.pointFromX(a,f);var u=t.r.invm(i),d=i.sub(o).mul(u).umod(i),h=s.mul(u).umod(i);return this.g.mulAdd(d,a,h)},Kc.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Hc(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(a){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Wc=Tf,Vc=Wc.assert,Jc=Wc.parseBytes,Gc=Wc.cachedProperty;function $c(e,t){this.eddsa=e,this._secret=Jc(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Jc(t.pub)}$c.fromPublic=function(e,t){return t instanceof $c?t:new $c(e,{pub:t})},$c.fromSecret=function(e,t){return t instanceof $c?t:new $c(e,{secret:t})},$c.prototype.secret=function(){return this._secret},Gc($c,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),Gc($c,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),Gc($c,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),Gc($c,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),Gc($c,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),Gc($c,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),$c.prototype.sign=function(e){return Vc(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},$c.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},$c.prototype.getSecret=function(e){return Vc(this._secret,"KeyPair is public only"),Wc.encode(this.secret(),e)},$c.prototype.getPublic=function(e){return Wc.encode(this.pubBytes(),e)};var Yc=$c,Zc=b.exports,Xc=Tf,Qc=Xc.assert,eu=Xc.cachedProperty,tu=Xc.parseBytes;function ru(e,t){this.eddsa=e,"object"!=typeof t&&(t=tu(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),Qc(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Zc&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}eu(ru,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),eu(ru,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),eu(ru,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),eu(ru,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),ru.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},ru.prototype.toHex=function(){return Xc.encode(this.toBytes(),"hex").toUpperCase()};var nu=ru,iu=y,ou=bc,au=Tf,su=au.assert,fu=au.parseBytes,cu=Yc,uu=nu;function du(e){if(su("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof du))return new du(e);e=ou[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=iu.sha512}var hu,lu=du;du.prototype.sign=function(e,t){e=fu(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),s=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:o})},du.prototype.verify=function(e,t,r){e=fu(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},du.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return au.intFromLE(e.digest()).umod(this.curve.n)},du.prototype.keyFromPublic=function(e){return cu.fromPublic(this,e)},du.prototype.keyFromSecret=function(e){return cu.fromSecret(this,e)},du.prototype.makeSignature=function(e){return e instanceof uu?e:new uu(this,e)},du.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},du.prototype.decodePoint=function(e){var t=(e=au.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=au.intFromLE(r);return this.curve.pointFromY(i,n)},du.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},du.prototype.decodeInt=function(e){return au.intFromLE(e)},du.prototype.isPoint=function(e){return e instanceof this.pointClass},(hu=Sf).version=Rf,hu.utils=Tf,hu.rand=If.exports,hu.curve=Lf,hu.curves=bc,hu.ec=Fc,hu.eddsa=lu;const pu=new(0,Sf.ec)("secp256k1"),bu=pu.curve,gu=bu.n.constructor;function yu(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new gu(t);if(r.cmp(bu.p)>=0)return null;r=r.toRed(bu.red);let n=r.redSqr().redIMul(r).redIAdd(bu.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),pu.keyPair({pub:{x:r,y:n}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let n=new gu(t),i=new gu(r);if(n.cmp(bu.p)>=0||i.cmp(bu.p)>=0)return null;if(n=n.toRed(bu.red),i=i.toRed(bu.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;const o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(bu.b)).isZero()?pu.keyPair({pub:{x:n,y:i}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function mu(e,t){const r=t.encode(null,33===e.length);for(let n=0;n<e.length;++n)e[n]=r[n]}var vu,_u=(vu={contextRandomize:()=>0,privateKeyVerify(e){const t=new gu(e);return t.cmp(bu.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new gu(e),r=bu.n.sub(t).umod(bu.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new gu(t);if(r.cmp(bu.n)>=0)return 1;if(r.iadd(new gu(e)),r.cmp(bu.n)>=0&&r.isub(bu.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new gu(t);if(r.cmp(bu.n)>=0||r.isZero())return 1;r.imul(new gu(e)),r.cmp(bu.n)>=0&&(r=r.umod(bu.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===yu(e)?1:0,publicKeyCreate(e,t){const r=new gu(t);if(r.cmp(bu.n)>=0||r.isZero())return 1;return mu(e,pu.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=yu(t);if(null===r)return 1;return mu(e,r.getPublic()),0},publicKeyNegate(e,t){const r=yu(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),mu(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let i=0;i<t.length;++i)if(r[i]=yu(t[i]),null===r[i])return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(mu(e,n),0)},publicKeyTweakAdd(e,t,r){const n=yu(t);if(null===n)return 1;if((r=new gu(r)).cmp(bu.n)>=0)return 2;const i=n.getPublic().add(bu.g.mul(r));return i.isInfinity()?2:(mu(e,i),0)},publicKeyTweakMul(e,t,r){const n=yu(t);if(null===n)return 1;if((r=new gu(r)).cmp(bu.n)>=0||r.isZero())return 2;return mu(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new gu(e.subarray(0,32)),r=new gu(e.subarray(32,64));return t.cmp(bu.n)>=0||r.cmp(bu.n)>=0?1:(1===r.cmp(pu.nh)&&e.set(bu.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new gu(r).cmp(bu.n)>=0)return 1;if(new gu(n).cmp(bu.n)>=0)return 1;const{output:i}=e;let o=i.subarray(4,37);o[0]=0,o.set(r,1);let a=33,s=0;for(;a>1&&0===o[s]&&!(128&o[s+1]);--a,++s);if(o=o.subarray(s),128&o[0])return 1;if(a>1&&0===o[0]&&!(128&o[1]))return 1;let f=i.subarray(39,72);f[0]=0,f.set(n,1);let c=33,u=0;for(;c>1&&0===f[u]&&!(128&f[u+1]);--c,++u);return f=f.subarray(u),128&f[0]||c>1&&0===f[0]&&!(128&f[1])?1:(e.outputlen=6+a+c,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+a]=2,i[5+a]=f.length,i.set(f,6+a),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let i=t.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;let o=t.subarray(6+r);if(33===o.length&&0===o[0]&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let a=new gu(i);a.cmp(bu.n)>=0&&(a=new gu(0));let s=new gu(t.subarray(6+r));return s.cmp(bu.n)>=0&&(s=new gu(0)),e.set(a.toArrayLike(Uint8Array,"be",32),0),e.set(s.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,n,i){if(i){const e=i;i=i=>{const o=e(t,r,null,n,i);if(!(o instanceof Uint8Array&&32===o.length))throw new Error("This is the way");return new gu(o)}}const o=new gu(r);if(o.cmp(bu.n)>=0||o.isZero())return 1;let a;try{a=pu.sign(t,r,{canonical:!0,k:i,pers:n})}catch(s){return 1}return e.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),e.recid=a.recoveryParam,0},ecdsaVerify(e,t,r){const n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new gu(n.r),o=new gu(n.s);if(i.cmp(bu.n)>=0||o.cmp(bu.n)>=0)return 1;if(1===o.cmp(pu.nh)||i.isZero()||o.isZero())return 3;const a=yu(r);if(null===a)return 2;const s=a.getPublic();return pu.verify(t,n,s)?0:3},ecdsaRecover(e,t,r,n){const i={r:t.slice(0,32),s:t.slice(32,64)},o=new gu(i.r),a=new gu(i.s);if(o.cmp(bu.n)>=0||a.cmp(bu.n)>=0)return 1;if(o.isZero()||a.isZero())return 2;let s;try{s=pu.recoverPubKey(n,i,r)}catch(f){return 2}return mu(e,s),0},ecdh(e,t,r,n,i,o,a){const s=yu(t);if(null===s)return 1;const f=new gu(r);if(f.cmp(bu.n)>=0||f.isZero())return 2;const c=s.getPublic().mul(f);if(void 0===i){const t=c.encode(null,!0),r=pu.hash().update(t).digest();for(let n=0;n<32;++n)e[n]=r[n]}else{o||(o=new Uint8Array(32));const t=c.getX().toArray("be",32);for(let e=0;e<32;++e)o[e]=t[e];a||(a=new Uint8Array(32));const r=c.getY().toArray("be",32);for(let e=0;e<32;++e)a[e]=r[e];const s=i(o,a,n);if(!(s instanceof Uint8Array&&s.length===e.length))return 2;e.set(s)}return 0}},{contextRandomize(e){switch(mf(null===e||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==e&&vf("seed",e,32),vu.contextRandomize(e)){case 1:throw new Error(cf)}},privateKeyVerify:e=>(vf("private key",e,32),0===vu.privateKeyVerify(e)),privateKeyNegate(e){switch(vf("private key",e,32),vu.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(af)}},privateKeyTweakAdd(e,t){switch(vf("private key",e,32),vf("tweak",t,32),vu.privateKeyTweakAdd(e,t)){case 0:return e;case 1:throw new Error(sf)}},privateKeyTweakMul(e,t){switch(vf("private key",e,32),vf("tweak",t,32),vu.privateKeyTweakMul(e,t)){case 0:return e;case 1:throw new Error(ff)}},publicKeyVerify:e=>(vf("public key",e,[33,65]),0===vu.publicKeyVerify(e)),publicKeyCreate(e,t=!0,r){switch(vf("private key",e,32),_f(t),r=wf(r,t?33:65),vu.publicKeyCreate(r,e)){case 0:return r;case 1:throw new Error(uf);case 2:throw new Error(hf)}},publicKeyConvert(e,t=!0,r){switch(vf("public key",e,[33,65]),_f(t),r=wf(r,t?33:65),vu.publicKeyConvert(r,e)){case 0:return r;case 1:throw new Error(df);case 2:throw new Error(hf)}},publicKeyNegate(e,t=!0,r){switch(vf("public key",e,[33,65]),_f(t),r=wf(r,t?33:65),vu.publicKeyNegate(r,e)){case 0:return r;case 1:throw new Error(df);case 2:throw new Error(af);case 3:throw new Error(hf)}},publicKeyCombine(e,t=!0,r){mf(Array.isArray(e),"Expected public keys to be an Array"),mf(e.length>0,"Expected public keys array will have more than zero items");for(const n of e)vf("public key",n,[33,65]);switch(_f(t),r=wf(r,t?33:65),vu.publicKeyCombine(r,e)){case 0:return r;case 1:throw new Error(df);case 2:throw new Error(lf);case 3:throw new Error(hf)}},publicKeyTweakAdd(e,t,r=!0,n){switch(vf("public key",e,[33,65]),vf("tweak",t,32),_f(r),n=wf(n,r?33:65),vu.publicKeyTweakAdd(n,e,t)){case 0:return n;case 1:throw new Error(df);case 2:throw new Error(sf)}},publicKeyTweakMul(e,t,r=!0,n){switch(vf("public key",e,[33,65]),vf("tweak",t,32),_f(r),n=wf(n,r?33:65),vu.publicKeyTweakMul(n,e,t)){case 0:return n;case 1:throw new Error(df);case 2:throw new Error(ff)}},signatureNormalize(e){switch(vf("signature",e,64),vu.signatureNormalize(e)){case 0:return e;case 1:throw new Error(pf)}},signatureExport(e,t){vf("signature",e,64);const r={output:t=wf(t,72),outputlen:72};switch(vu.signatureExport(r,e)){case 0:return t.slice(0,r.outputlen);case 1:throw new Error(pf);case 2:throw new Error(af)}},signatureImport(e,t){switch(vf("signature",e),t=wf(t,64),vu.signatureImport(t,e)){case 0:return t;case 1:throw new Error(pf);case 2:throw new Error(af)}},ecdsaSign(e,t,r={},n){vf("message",e,32),vf("private key",t,32),mf("Object"===xf(r),"Expected options to be an Object"),void 0!==r.data&&vf("options.data",r.data),void 0!==r.noncefn&&mf("Function"===xf(r.noncefn),"Expected options.noncefn to be a Function");const i={signature:n=wf(n,64),recid:null};switch(vu.ecdsaSign(i,e,t,r.data,r.noncefn)){case 0:return i;case 1:throw new Error(bf);case 2:throw new Error(af)}},ecdsaVerify(e,t,r){switch(vf("signature",e,64),vf("message",t,32),vf("public key",r,[33,65]),vu.ecdsaVerify(e,t,r)){case 0:return!0;case 3:return!1;case 1:throw new Error(pf);case 2:throw new Error(df)}},ecdsaRecover(e,t,r,n=!0,i){switch(vf("signature",e,64),mf("Number"===xf(t)&&t>=0&&t<=3,"Expected recovery id to be a Number within interval [0, 3]"),vf("message",r,32),_f(n),i=wf(i,n?33:65),vu.ecdsaRecover(i,e,t,r)){case 0:return i;case 1:throw new Error(pf);case 2:throw new Error(gf);case 3:throw new Error(af)}},ecdh(e,t,r={},n){switch(vf("public key",e,[33,65]),vf("private key",t,32),mf("Object"===xf(r),"Expected options to be an Object"),void 0!==r.data&&vf("options.data",r.data),void 0!==r.hashfn?(mf("Function"===xf(r.hashfn),"Expected options.hashfn to be a Function"),void 0!==r.xbuf&&vf("options.xbuf",r.xbuf,32),void 0!==r.ybuf&&vf("options.ybuf",r.ybuf,32),vf("output",n)):n=wf(n,32),vu.ecdh(n,e,t,r.data,r.hashfn,r.xbuf,r.ybuf)){case 0:return n;case 1:throw new Error(df);case 2:throw new Error(yf)}}}),wu={},xu={exports:{}},Su={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
!function(e,t){var r=m,n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(Su,Su.exports);var Eu=Su.exports.Buffer,Mu=u.crypto||u.msCrypto||window.crypto||window.msCrypto;Mu&&Mu.getRandomValues?xu.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=Eu.allocUnsafe(e);if(e>0)if(e>65536)for(var n=0;n<e;n+=65536)Mu.getRandomValues(r.slice(n,n+65536));else Mu.getRandomValues(r);if("function"==typeof t)return process.nextTick((function(){t(null,r)}));return r}:xu.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")},Object.defineProperty(wu,"__esModule",{value:!0});var ku=xu.exports;wu.getRandomBytes=function(e){return new Promise((function(t,r){ku(e,(function(e,n){e?r(e):t(n)}))}))},wu.getRandomBytesSync=function(e){return ku(e)},function(e){var t=u&&u.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{f(n.next(e))}catch(Bv){o(Bv)}}function s(e){try{f(n.throw(e))}catch(Bv){o(Bv)}}function f(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}f((n=n.apply(e,t||[])).next())}))},r=u&&u.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Bv){o=[6,Bv],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var n=_u,i=wu;e.createPrivateKey=function(){return t(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,i.getRandomBytes(32)];case 1:return e=t.sent(),n.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}}))}))},e.createPrivateKeySync=function(){for(;;){var e=i.getRandomBytesSync(32);if(n.privateKeyVerify(e))return e}},function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(_u)}(of);var Au={},Ru=b.exports,Tu=new(0,Sf.ec)("secp256k1"),Cu=Tu.curve;Au.privateKeyExport=function(e,t){var r=new Ru(e);if(r.ucmp(Cu.n)>=0)throw new Error("couldn't export to DER format");var n=Tu.g.mul(r);return Bu(n.getX(),n.getY(),t)},Au.privateKeyModInverse=function(e){var t=new Ru(e);if(t.ucmp(Cu.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(Cu.n).toArrayLike(Buffer,"be",32)},Au.signatureImport=function(e){var t=new Ru(e.r);t.ucmp(Cu.n)>=0&&(t=new Ru(0));var r=new Ru(e.s);return r.ucmp(Cu.n)>=0&&(r=new Ru(0)),Buffer.concat([t.toArrayLike(Buffer,"be",32),r.toArrayLike(Buffer,"be",32)])},Au.ecdhUnsafe=function(e,t,r){var n=Tu.keyFromPublic(e),i=new Ru(t);if(i.ucmp(Cu.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return Bu(o.getX(),o.getY(),r)};var Bu=function(e,t,r){var n=void 0;return r?((n=Buffer.alloc(33))[0]=t.isOdd()?3:2,e.toArrayLike(Buffer,"be",32).copy(n,1)):((n=Buffer.alloc(65))[0]=4,e.toArrayLike(Buffer,"be",32).copy(n,1),t.toArrayLike(Buffer,"be",32).copy(n,33)),n},Iu={},Pu=Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ou=Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);Iu.privateKeyExport=function(e,t,r){var n=Buffer.from(r?Pu:Ou);return e.copy(n,r?8:9),t.copy(n,r?181:214),n},Iu.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},Iu.signatureImportLax=function(e){var t=Buffer.alloc(32,0),r=Buffer.alloc(32,0),n=e.length,i=0;if(48!==e[i++])return null;var o=e[i++];if(128&o&&(i+=o-128)>n)return null;if(2!==e[i++])return null;var a=e[i++];if(128&a){if(i+(o=a-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(a=0;o>0;i+=1,o-=1)a=(a<<8)+e[i]}if(a>n-i)return null;var s=i;if(i+=a,2!==e[i++])return null;var f=e[i++];if(128&f){if(i+(o=f-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(f=0;o>0;i+=1,o-=1)f=(f<<8)+e[i]}if(f>n-i)return null;var c=i;for(i+=f;a>0&&0===e[s];a-=1,s+=1);if(a>32)return null;var u=e.slice(s,s+a);for(u.copy(t,32-u.length);f>0&&0===e[c];f-=1,c+=1);if(f>32)return null;var d=e.slice(c,c+f);return d.copy(r,32-d.length),{r:t,s:r}};var Lu=of,Nu=Au,Uu=Iu,ju=function(e){return 32===e.length&&Lu.privateKeyVerify(Uint8Array.from(e))},qu={privateKeyVerify:ju,privateKeyExport:function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=Nu.privateKeyExport(e,t);return Uu.privateKeyExport(e,r,t)},privateKeyImport:function(e){if(null!==(e=Uu.privateKeyImport(e))&&32===e.length&&ju(e))return e;throw new Error("couldn't import from DER format")},privateKeyNegate:function(e){return Buffer.from(Lu.privateKeyNegate(Uint8Array.from(e)))},privateKeyModInverse:function(e){if(32!==e.length)throw new Error("private key length is invalid");return Buffer.from(Nu.privateKeyModInverse(Uint8Array.from(e)))},privateKeyTweakAdd:function(e,t){return Buffer.from(Lu.privateKeyTweakAdd(Uint8Array.from(e),t))},privateKeyTweakMul:function(e,t){return Buffer.from(Lu.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t)))},publicKeyCreate:function(e,t){return Buffer.from(Lu.publicKeyCreate(Uint8Array.from(e),t))},publicKeyConvert:function(e,t){return Buffer.from(Lu.publicKeyConvert(Uint8Array.from(e),t))},publicKeyVerify:function(e){return(33===e.length||65===e.length)&&Lu.publicKeyVerify(Uint8Array.from(e))},publicKeyTweakAdd:function(e,t,r){return Buffer.from(Lu.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(t),r))},publicKeyTweakMul:function(e,t,r){return Buffer.from(Lu.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t),r))},publicKeyCombine:function(e,t){var r=[];return e.forEach((function(e){r.push(Uint8Array.from(e))})),Buffer.from(Lu.publicKeyCombine(r,t))},signatureNormalize:function(e){return Buffer.from(Lu.signatureNormalize(Uint8Array.from(e)))},signatureExport:function(e){return Buffer.from(Lu.signatureExport(Uint8Array.from(e)))},signatureImport:function(e){return Buffer.from(Lu.signatureImport(Uint8Array.from(e)))},signatureImportLax:function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=Uu.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return Nu.signatureImport(t)},sign:function(e,t,r){if(null===r)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},null===r.data)throw new TypeError("options.data should be a Buffer");if(r.data){if(32!==r.data.length)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(null===r.noncefn)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(e,t,n,i,o){var a=null!=n?Buffer.from(n):null,s=null!=i?Buffer.from(i):null,f=Buffer.from("");return r.noncefn&&(f=r.noncefn(Buffer.from(e),Buffer.from(t),a,s,o)),Uint8Array.from(f)})}var i=Lu.ecdsaSign(Uint8Array.from(e),Uint8Array.from(t),n);return{signature:Buffer.from(i.signature),recovery:i.recid}},verify:function(e,t,r){return Lu.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},recover:function(e,t,r,n){return Buffer.from(Lu.ecdsaRecover(Uint8Array.from(t),r,Uint8Array.from(e),n))},ecdh:function(e,t){return Buffer.from(Lu.ecdh(Uint8Array.from(e),Uint8Array.from(t),{}))},ecdhUnsafe:function(e,t,r){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");return Buffer.from(Nu.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),r))}},zu={};Object.defineProperty(zu,"__esModule",{value:!0}),zu.getLength=zu.decode=zu.encode=void 0;var Du=b.exports;function Hu(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function Ku(e,t){if(e<56)return Buffer.from([e+t]);var r=Vu(e),n=Vu(t+55+r.length/2);return Buffer.from(n+r,"hex")}function Fu(e){var t,r,n,i,o,a=[],s=e[0];if(s<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(s<=183){if(t=s-127,n=128===s?Buffer.from([]):e.slice(1,t),2===t&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:e.slice(t)}}if(s<=191){if(r=s-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if((t=Hu(e.slice(1,r).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((n=e.slice(r,t+r)).length<t)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:e.slice(t+r)}}if(s<=247){for(t=s-191,i=e.slice(1,t);i.length;)o=Fu(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(t)}}var f=(r=s-246)+(t=Hu(e.slice(1,r).toString("hex"),16));if(f>e.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(i=e.slice(r,f)).length)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=Fu(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(f)}}function Wu(e){return"0x"===e.slice(0,2)}function Vu(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function Ju(e){if(!Buffer.isBuffer(e)){if("string"==typeof e)return Wu(e)?Buffer.from((r="string"!=typeof(n=e)?n:Wu(n)?n.slice(2):n).length%2?"0"+r:r,"hex"):Buffer.from(e);if("number"==typeof e||"bigint"==typeof e)return e?(t=Vu(e),Buffer.from(t,"hex")):Buffer.from([]);if(null==e)return Buffer.from([]);if(e instanceof Uint8Array)return Buffer.from(e);if(Du.isBN(e))return Buffer.from(e.toArray());throw new Error("invalid type")}var t,r,n;return e}zu.encode=function e(t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(e(t[n]));var i=Buffer.concat(r);return Buffer.concat([Ku(i.length,192),i])}var o=Ju(t);return 1===o.length&&o[0]<128?o:Buffer.concat([Ku(o.length,128),o])},zu.decode=function(e,t){if(void 0===t&&(t=!1),!e||0===e.length)return Buffer.from([]);var r=Fu(Ju(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid remainder");return r.data},zu.getLength=function(e){if(!e||0===e.length)return Buffer.from([]);var t=Ju(e),r=t[0];if(r<=127)return t.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246;return n+Hu(t.slice(1,n).toString("hex"),16)};var Gu={exports:{}},$u=t.exports.EventEmitter;function Yu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Qu=m.Buffer,ed=c.inspect,td=ed&&ed.custom||"inspect";var rd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return Qu.alloc(0);for(var t,r,n,i=Qu.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,Qu.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=Qu.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:td,value:function(e,t){return ed(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yu(Object(r),!0).forEach((function(t){Zu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&Xu(t.prototype,r),n&&Xu(t,n),e}();function nd(e,t){od(e,t),id(e)}function id(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function od(e,t){e.emit("error",t)}var ad={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(od,this,e)):process.nextTick(od,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?process.nextTick(id,r):(r._writableState.errorEmitted=!0,process.nextTick(nd,r,e)):process.nextTick(nd,r,e):t?(process.nextTick(id,r),t(e)):process.nextTick(id,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}},sd={};var fd={};function cd(e,t,r){r||(r=Error);var n=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);n.prototype.name=r.name,n.prototype.code=e,fd[e]=n}function ud(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}cd("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),cd("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(ud(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(ud(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),cd("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),cd("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),cd("ERR_STREAM_PREMATURE_CLOSE","Premature close"),cd("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),cd("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),cd("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),cd("ERR_STREAM_WRITE_AFTER_END","write after end"),cd("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),cd("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),cd("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),sd.codes=fd;var dd=sd.codes.ERR_INVALID_OPT_VALUE;var hd,ld={getHighWaterMark:function(e,t,r,n){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new dd(n?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}},pd=Ld;function bd(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}Ld.WritableState=Od;var gd={deprecate:r},yd=$u,md=m.Buffer,vd=u.Uint8Array||function(){};var _d,wd=ad,xd=ld.getHighWaterMark,Sd=sd.codes,Ed=Sd.ERR_INVALID_ARG_TYPE,Md=Sd.ERR_METHOD_NOT_IMPLEMENTED,kd=Sd.ERR_MULTIPLE_CALLBACK,Ad=Sd.ERR_STREAM_CANNOT_PIPE,Rd=Sd.ERR_STREAM_DESTROYED,Td=Sd.ERR_STREAM_NULL_VALUES,Cd=Sd.ERR_STREAM_WRITE_AFTER_END,Bd=Sd.ERR_UNKNOWN_ENCODING,Id=wd.errorOrDestroy;function Pd(){}function Od(e,t,r){hd=hd||Kd,e=e||{},"boolean"!=typeof r&&(r=t instanceof hd),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=xd(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new kd;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(Dd,e,t),e._writableState.errorEmitted=!0,Id(e,n)):(i(n),e._writableState.errorEmitted=!0,Id(e,n),Dd(e,t))}(e,r,n,t,i);else{var o=qd(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||jd(e,r),n?process.nextTick(Ud,e,r,o,i):Ud(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new bd(this)}function Ld(e){var t=this instanceof(hd=hd||Kd);if(!t&&!_d.call(Ld,this))return new Ld(e);this._writableState=new Od(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),yd.call(this)}function Nd(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Rd("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Ud(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),Dd(e,t)}function jd(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,Nd(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new bd(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,u=r.callback;if(Nd(e,t,!1,t.objectMode?1:f.length,f,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function qd(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function zd(e,t){e._final((function(r){t.pendingcb--,r&&Id(e,r),t.prefinished=!0,e.emit("prefinish"),Dd(e,t)}))}function Dd(e,t){var r=qd(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(zd,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}g.exports(Ld,yd),Od.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(Od.prototype,"buffer",{get:gd.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(_d=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ld,Symbol.hasInstance,{value:function(e){return!!_d.call(this,e)||this===Ld&&(e&&e._writableState instanceof Od)}})):_d=function(e){return e instanceof this},Ld.prototype.pipe=function(){Id(this,new Ad)},Ld.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,a=!i.objectMode&&(n=e,md.isBuffer(n)||n instanceof vd);return a&&!md.isBuffer(e)&&(e=function(e){return md.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=Pd),i.ending?function(e,t){var r=new Cd;Id(e,r),process.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i;return null===r?i=new Td:"string"==typeof r||t.objectMode||(i=new Ed("chunk",["string","Buffer"],r)),!i||(Id(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=md.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Nd(e,t,!1,s,n,i,o);return f}(this,i,a,e,t,r)),o},Ld.prototype.cork=function(){this._writableState.corked++},Ld.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||jd(this,e))},Ld.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Bd(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(Ld.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Ld.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Ld.prototype._write=function(e,t,r){r(new Md("_write()"))},Ld.prototype._writev=null,Ld.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,Dd(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(Ld.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Ld.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Ld.prototype.destroy=wd.destroy,Ld.prototype._undestroy=wd.undestroy,Ld.prototype._destroy=function(e,t){t(e)};var Hd=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},Kd=$d,Fd=Bh,Wd=pd;g.exports($d,Fd);for(var Vd=Hd(Wd.prototype),Jd=0;Jd<Vd.length;Jd++){var Gd=Vd[Jd];$d.prototype[Gd]||($d.prototype[Gd]=Wd.prototype[Gd])}function $d(e){if(!(this instanceof $d))return new $d(e);Fd.call(this,e),Wd.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",Yd)))}function Yd(){this._writableState.ended||process.nextTick(Zd,this)}function Zd(e){e.end()}Object.defineProperty($d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty($d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty($d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty($d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var Xd={},Qd=Su.exports.Buffer,eh=Qd.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function th(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(Qd.isEncoding===eh||!eh(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=ih,this.end=oh,t=4;break;case"utf8":this.fillLast=nh,t=4;break;case"base64":this.text=ah,this.end=sh,t=3;break;default:return this.write=fh,void(this.end=ch)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Qd.allocUnsafe(t)}function rh(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function nh(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function ih(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function oh(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function ah(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function sh(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function fh(e){return e.toString(this.encoding)}function ch(e){return e&&e.length?this.write(e):""}Xd.StringDecoder=th,th.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},th.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},th.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=rh(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=rh(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=rh(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},th.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var uh=sd.codes.ERR_STREAM_PREMATURE_CLOSE;function dh(){}var hh,lh=function e(t,r,n){if("function"==typeof r)return e(t,null,r);r||(r={}),n=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(n||dh);var i=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,a=function(){t.writable||f()},s=t._writableState&&t._writableState.finished,f=function(){o=!1,s=!0,i||n.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){i=!1,c=!0,o||n.call(t)},d=function(e){n.call(t,e)},h=function(){var e;return i&&!c?(t._readableState&&t._readableState.ended||(e=new uh),n.call(t,e)):o&&!s?(t._writableState&&t._writableState.ended||(e=new uh),n.call(t,e)):void 0},l=function(){t.req.on("finish",f)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",a),t.on("close",a)):(t.on("complete",f),t.on("abort",h),t.req?l():t.on("request",l)),t.on("end",u),t.on("finish",f),!1!==r.error&&t.on("error",d),t.on("close",h),function(){t.removeListener("complete",f),t.removeListener("abort",h),t.removeListener("request",l),t.req&&t.req.removeListener("finish",f),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",f),t.removeListener("end",u),t.removeListener("error",d),t.removeListener("close",h)}};function ph(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bh=lh,gh=Symbol("lastResolve"),yh=Symbol("lastReject"),mh=Symbol("error"),vh=Symbol("ended"),_h=Symbol("lastPromise"),wh=Symbol("handlePromise"),xh=Symbol("stream");function Sh(e,t){return{value:e,done:t}}function Eh(e){var t=e[gh];if(null!==t){var r=e[xh].read();null!==r&&(e[_h]=null,e[gh]=null,e[yh]=null,t(Sh(r,!1)))}}function Mh(e){process.nextTick(Eh,e)}var kh,Ah=Object.getPrototypeOf((function(){})),Rh=Object.setPrototypeOf((ph(hh={get stream(){return this[xh]},next:function(){var e=this,t=this[mh];if(null!==t)return Promise.reject(t);if(this[vh])return Promise.resolve(Sh(void 0,!0));if(this[xh].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[mh]?r(e[mh]):t(Sh(void 0,!0))}))}));var r,n=this[_h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[vh]?r(Sh(void 0,!0)):t[wh](r,n)}),n)}}(n,this));else{var i=this[xh].read();if(null!==i)return Promise.resolve(Sh(i,!1));r=new Promise(this[wh])}return this[_h]=r,r}},Symbol.asyncIterator,(function(){return this})),ph(hh,"return",(function(){var e=this;return new Promise((function(t,r){e[xh].destroy(null,(function(e){e?r(e):t(Sh(void 0,!0))}))}))})),hh),Ah),Th=function(e){var t,r=Object.create(Rh,(ph(t={},xh,{value:e,writable:!0}),ph(t,gh,{value:null,writable:!0}),ph(t,yh,{value:null,writable:!0}),ph(t,mh,{value:null,writable:!0}),ph(t,vh,{value:e._readableState.endEmitted,writable:!0}),ph(t,wh,{value:function(e,t){var n=r[xh].read();n?(r[_h]=null,r[gh]=null,r[yh]=null,e(Sh(n,!1))):(r[gh]=e,r[yh]=t)},writable:!0}),t));return r[_h]=null,bh(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[yh];return null!==t&&(r[_h]=null,r[gh]=null,r[yh]=null,t(e)),void(r[mh]=e)}var n=r[gh];null!==n&&(r[_h]=null,r[gh]=null,r[yh]=null,n(Sh(void 0,!0))),r[vh]=!0})),e.on("readable",Mh.bind(null,r)),r},Ch=function(){throw new Error("Readable.from is not available in the browser")},Bh=Xh;Xh.ReadableState=Zh,t.exports.EventEmitter;var Ih=function(e,t){return e.listeners(t).length},Ph=$u,Oh=m.Buffer,Lh=u.Uint8Array||function(){};var Nh,Uh=c;Nh=Uh&&Uh.debuglog?Uh.debuglog("stream"):function(){};var jh,qh,zh,Dh=rd,Hh=ad,Kh=ld.getHighWaterMark,Fh=sd.codes,Wh=Fh.ERR_INVALID_ARG_TYPE,Vh=Fh.ERR_STREAM_PUSH_AFTER_EOF,Jh=Fh.ERR_METHOD_NOT_IMPLEMENTED,Gh=Fh.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;g.exports(Xh,Ph);var $h=Hh.errorOrDestroy,Yh=["error","close","destroy","pause","resume"];function Zh(e,t,r){kh=kh||Kd,e=e||{},"boolean"!=typeof r&&(r=t instanceof kh),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=Kh(this,e,"readableHighWaterMark",r),this.buffer=new Dh,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(jh||(jh=Xd.StringDecoder),this.decoder=new jh(e.encoding),this.encoding=e.encoding)}function Xh(e){if(kh=kh||Kd,!(this instanceof Xh))return new Xh(e);var t=this instanceof kh;this._readableState=new Zh(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),Ph.call(this)}function Qh(e,t,r,n,i){Nh("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(Nh("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?rl(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,nl(e)))}(e,a);else if(i||(o=function(e,t){var r;n=t,Oh.isBuffer(n)||n instanceof Lh||"string"==typeof t||void 0===t||e.objectMode||(r=new Wh("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(a,t)),o)$h(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===Oh.prototype||(t=function(e){return Oh.from(e)}(t)),n)a.endEmitted?$h(e,new Gh):el(e,a,t,!0);else if(a.ended)$h(e,new Vh);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?el(e,a,t,!1):il(e,a)):el(e,a,t,!1)}else n||(a.reading=!1,il(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function el(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&rl(e)),il(e,t)}Object.defineProperty(Xh.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Xh.prototype.destroy=Hh.destroy,Xh.prototype._undestroy=Hh.undestroy,Xh.prototype._destroy=function(e,t){t(e)},Xh.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=Oh.from(e,t),t=""),r=!0),Qh(this,e,t,!1,r)},Xh.prototype.unshift=function(e){return Qh(this,e,null,!0,!1)},Xh.prototype.isPaused=function(){return!1===this._readableState.flowing},Xh.prototype.setEncoding=function(e){jh||(jh=Xd.StringDecoder);var t=new jh(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};function tl(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function rl(e){var t=e._readableState;Nh("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(Nh("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(nl,e))}function nl(e){var t=e._readableState;Nh("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,cl(e)}function il(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(ol,e,t))}function ol(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(Nh("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function al(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function sl(e){Nh("readable nexttick read 0"),e.read(0)}function fl(e,t){Nh("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),cl(e),t.flowing&&!t.reading&&e.read(0)}function cl(e){var t=e._readableState;for(Nh("flow",t.flowing);t.flowing&&null!==e.read(););}function ul(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function dl(e){var t=e._readableState;Nh("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(hl,t,e))}function hl(e,t){if(Nh("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function ll(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Xh.prototype.read=function(e){Nh("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return Nh("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?dl(this):rl(this),null;if(0===(e=tl(e,t))&&t.ended)return 0===t.length&&dl(this),null;var n,i=t.needReadable;return Nh("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&Nh("length less than watermark",i=!0),t.ended||t.reading?Nh("reading or ended",i=!1):i&&(Nh("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=tl(r,t))),null===(n=e>0?ul(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&dl(this)),null!==n&&this.emit("data",n),n},Xh.prototype._read=function(e){$h(this,new Jh("_read()"))},Xh.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,Nh("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:l;function o(t,i){Nh("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,Nh("cleanup"),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("drain",s),e.removeListener("error",u),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",l),r.removeListener("data",c),f=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s())}function a(){Nh("onend"),e.end()}n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",o);var s=function(e){return function(){var t=e._readableState;Nh("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&Ih(e,"data")&&(t.flowing=!0,cl(e))}}(r);e.on("drain",s);var f=!1;function c(t){Nh("ondata");var i=e.write(t);Nh("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==ll(n.pipes,e))&&!f&&(Nh("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function u(t){Nh("onerror",t),l(),e.removeListener("error",u),0===Ih(e,"error")&&$h(e,t)}function d(){e.removeListener("finish",h),l()}function h(){Nh("onfinish"),e.removeListener("close",d),l()}function l(){Nh("unpipe"),r.unpipe(e)}return r.on("data",c),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",u),e.once("close",d),e.once("finish",h),e.emit("pipe",r),n.flowing||(Nh("pipe resume"),r.resume()),e},Xh.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=ll(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},Xh.prototype.on=function(e,t){var r=Ph.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Nh("on readable",n.length,n.reading),n.length?rl(this):n.reading||process.nextTick(sl,this))),r},Xh.prototype.addListener=Xh.prototype.on,Xh.prototype.removeListener=function(e,t){var r=Ph.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(al,this),r},Xh.prototype.removeAllListeners=function(e){var t=Ph.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(al,this),t},Xh.prototype.resume=function(){var e=this._readableState;return e.flowing||(Nh("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(fl,e,t))}(this,e)),e.paused=!1,this},Xh.prototype.pause=function(){return Nh("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Nh("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Xh.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(Nh("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(Nh("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<Yh.length;o++)e.on(Yh[o],this.emit.bind(this,Yh[o]));return this._read=function(t){Nh("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(Xh.prototype[Symbol.asyncIterator]=function(){return void 0===qh&&(qh=Th),qh(this)}),Object.defineProperty(Xh.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Xh.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Xh.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),Xh._fromList=ul,Object.defineProperty(Xh.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Xh.from=function(e,t){return void 0===zh&&(zh=Ch),zh(Xh,e,t)});var pl=xl,bl=sd.codes,gl=bl.ERR_METHOD_NOT_IMPLEMENTED,yl=bl.ERR_MULTIPLE_CALLBACK,ml=bl.ERR_TRANSFORM_ALREADY_TRANSFORMING,vl=bl.ERR_TRANSFORM_WITH_LENGTH_0,_l=Kd;function wl(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new yl);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function xl(e){if(!(this instanceof xl))return new xl(e);_l.call(this,e),this._transformState={afterTransform:wl.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",Sl)}function Sl(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?El(this,null,null):this._flush((function(t,r){El(e,t,r)}))}function El(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new vl;if(e._transformState.transforming)throw new ml;return e.push(null)}g.exports(xl,_l),xl.prototype.push=function(e,t){return this._transformState.needTransform=!1,_l.prototype.push.call(this,e,t)},xl.prototype._transform=function(e,t,r){r(new gl("_transform()"))},xl.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},xl.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},xl.prototype._destroy=function(e,t){_l.prototype._destroy.call(this,e,(function(e){t(e)}))};var Ml,kl=Rl,Al=pl;function Rl(e){if(!(this instanceof Rl))return new Rl(e);Al.call(this,e)}g.exports(Rl,Al),Rl.prototype._transform=function(e,t,r){r(null,e)};var Tl=sd.codes,Cl=Tl.ERR_MISSING_ARGS,Bl=Tl.ERR_STREAM_DESTROYED;function Il(e){if(e)throw e}function Pl(e,t,r,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var i=!1;e.on("close",(function(){i=!0})),void 0===Ml&&(Ml=lh),Ml(e,{readable:t,writable:r},(function(e){if(e)return n(e);i=!0,n()}));var o=!1;return function(t){if(!i&&!o)return o=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new Bl("pipe"))}}function Ol(e){e()}function Ll(e,t){return e.pipe(t)}function Nl(e){return e.length?"function"!=typeof e[e.length-1]?Il:e.pop():Il}var Ul=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=Nl(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Cl("streams");var o=t.map((function(e,r){var a=r<t.length-1;return Pl(e,a,r>0,(function(e){n||(n=e),e&&o.forEach(Ol),a||(o.forEach(Ol),i(n))}))}));return t.reduce(Ll)};!function(e,t){(t=Gu.exports=Bh).Stream=t,t.Readable=t,t.Writable=pd,t.Duplex=Kd,t.Transform=pl,t.PassThrough=kl,t.finished=lh,t.pipeline=Ul}(0,Gu.exports);var jl=Su.exports.Buffer,ql=Gu.exports.Transform;function zl(e){ql.call(this),this._block=jl.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}(0,g.exports)(zl,ql),zl.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)},zl.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},zl.prototype.update=function(e,t){if(function(e,t){if(!jl.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");jl.isBuffer(e)||(e=jl.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var o=0,a=8*e.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},zl.prototype._update=function(){throw new Error("_update is not implemented")},zl.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},zl.prototype._digest=function(){throw new Error("_digest is not implemented")};var Dl=zl,Hl=g.exports,Kl=Dl,Fl=Su.exports.Buffer,Wl=new Array(16);function Vl(){Kl.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function Jl(e,t){return e<<t|e>>>32-t}function Gl(e,t,r,n,i,o,a){return Jl(e+(t&r|~t&n)+i+o|0,a)+t|0}function $l(e,t,r,n,i,o,a){return Jl(e+(t&n|r&~n)+i+o|0,a)+t|0}function Yl(e,t,r,n,i,o,a){return Jl(e+(t^r^n)+i+o|0,a)+t|0}function Zl(e,t,r,n,i,o,a){return Jl(e+(r^(t|~n))+i+o|0,a)+t|0}Hl(Vl,Kl),Vl.prototype._update=function(){for(var e=Wl,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=Gl(r,n,i,o,e[0],3614090360,7),o=Gl(o,r,n,i,e[1],3905402710,12),i=Gl(i,o,r,n,e[2],606105819,17),n=Gl(n,i,o,r,e[3],3250441966,22),r=Gl(r,n,i,o,e[4],4118548399,7),o=Gl(o,r,n,i,e[5],1200080426,12),i=Gl(i,o,r,n,e[6],2821735955,17),n=Gl(n,i,o,r,e[7],4249261313,22),r=Gl(r,n,i,o,e[8],1770035416,7),o=Gl(o,r,n,i,e[9],2336552879,12),i=Gl(i,o,r,n,e[10],4294925233,17),n=Gl(n,i,o,r,e[11],2304563134,22),r=Gl(r,n,i,o,e[12],1804603682,7),o=Gl(o,r,n,i,e[13],4254626195,12),i=Gl(i,o,r,n,e[14],2792965006,17),r=$l(r,n=Gl(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=$l(o,r,n,i,e[6],3225465664,9),i=$l(i,o,r,n,e[11],643717713,14),n=$l(n,i,o,r,e[0],3921069994,20),r=$l(r,n,i,o,e[5],3593408605,5),o=$l(o,r,n,i,e[10],38016083,9),i=$l(i,o,r,n,e[15],3634488961,14),n=$l(n,i,o,r,e[4],3889429448,20),r=$l(r,n,i,o,e[9],568446438,5),o=$l(o,r,n,i,e[14],3275163606,9),i=$l(i,o,r,n,e[3],4107603335,14),n=$l(n,i,o,r,e[8],1163531501,20),r=$l(r,n,i,o,e[13],2850285829,5),o=$l(o,r,n,i,e[2],4243563512,9),i=$l(i,o,r,n,e[7],1735328473,14),r=Yl(r,n=$l(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=Yl(o,r,n,i,e[8],2272392833,11),i=Yl(i,o,r,n,e[11],1839030562,16),n=Yl(n,i,o,r,e[14],4259657740,23),r=Yl(r,n,i,o,e[1],2763975236,4),o=Yl(o,r,n,i,e[4],1272893353,11),i=Yl(i,o,r,n,e[7],4139469664,16),n=Yl(n,i,o,r,e[10],3200236656,23),r=Yl(r,n,i,o,e[13],681279174,4),o=Yl(o,r,n,i,e[0],3936430074,11),i=Yl(i,o,r,n,e[3],3572445317,16),n=Yl(n,i,o,r,e[6],76029189,23),r=Yl(r,n,i,o,e[9],3654602809,4),o=Yl(o,r,n,i,e[12],3873151461,11),i=Yl(i,o,r,n,e[15],530742520,16),r=Zl(r,n=Yl(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=Zl(o,r,n,i,e[7],1126891415,10),i=Zl(i,o,r,n,e[14],2878612391,15),n=Zl(n,i,o,r,e[5],4237533241,21),r=Zl(r,n,i,o,e[12],1700485571,6),o=Zl(o,r,n,i,e[3],2399980690,10),i=Zl(i,o,r,n,e[10],4293915773,15),n=Zl(n,i,o,r,e[1],2240044497,21),r=Zl(r,n,i,o,e[8],1873313359,6),o=Zl(o,r,n,i,e[15],4264355552,10),i=Zl(i,o,r,n,e[6],2734768916,15),n=Zl(n,i,o,r,e[13],1309151649,21),r=Zl(r,n,i,o,e[4],4149444226,6),o=Zl(o,r,n,i,e[11],3174756917,10),i=Zl(i,o,r,n,e[2],718787259,15),n=Zl(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},Vl.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Fl.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};var Xl=Vl,Ql=m.Buffer,ep=g.exports,tp=Dl,rp=new Array(16),np=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ip=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],op=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ap=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],sp=[0,1518500249,1859775393,2400959708,2840853838],fp=[1352829926,1548603684,1836072691,2053994217,0];function cp(){tp.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function up(e,t){return e<<t|e>>>32-t}function dp(e,t,r,n,i,o,a,s){return up(e+(t^r^n)+o+a|0,s)+i|0}function hp(e,t,r,n,i,o,a,s){return up(e+(t&r|~t&n)+o+a|0,s)+i|0}function lp(e,t,r,n,i,o,a,s){return up(e+((t|~r)^n)+o+a|0,s)+i|0}function pp(e,t,r,n,i,o,a,s){return up(e+(t&n|r&~n)+o+a|0,s)+i|0}function bp(e,t,r,n,i,o,a,s){return up(e+(t^(r|~n))+o+a|0,s)+i|0}ep(cp,tp),cp.prototype._update=function(){for(var e=rp,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0|this._a,f=0|this._b,c=0|this._c,u=0|this._d,d=0|this._e,h=0;h<80;h+=1){var l,p;h<16?(l=dp(r,n,i,o,a,e[np[h]],sp[0],op[h]),p=bp(s,f,c,u,d,e[ip[h]],fp[0],ap[h])):h<32?(l=hp(r,n,i,o,a,e[np[h]],sp[1],op[h]),p=pp(s,f,c,u,d,e[ip[h]],fp[1],ap[h])):h<48?(l=lp(r,n,i,o,a,e[np[h]],sp[2],op[h]),p=lp(s,f,c,u,d,e[ip[h]],fp[2],ap[h])):h<64?(l=pp(r,n,i,o,a,e[np[h]],sp[3],op[h]),p=hp(s,f,c,u,d,e[ip[h]],fp[3],ap[h])):(l=bp(r,n,i,o,a,e[np[h]],sp[4],op[h]),p=dp(s,f,c,u,d,e[ip[h]],fp[4],ap[h])),r=a,a=o,o=up(i,10),i=n,n=l,s=d,d=u,u=up(c,10),c=f,f=p}var b=this._b+i+u|0;this._b=this._c+o+d|0,this._c=this._d+a+s|0,this._d=this._e+r+f|0,this._e=this._a+n+c|0,this._a=b},cp.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Ql.alloc?Ql.alloc(20):new Ql(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};var gp=cp,yp={exports:{}},mp=Su.exports.Buffer;function vp(e,t){this._block=mp.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}vp.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=mp.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,a=0;a<i;){for(var s=o%n,f=Math.min(i-a,n-s),c=0;c<f;c++)r[s+c]=e[a+c];a+=f,(o+=f)%n==0&&this._update(r)}return this._len+=i,this},vp.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},vp.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var _p=vp,wp=g.exports,xp=_p,Sp=Su.exports.Buffer,Ep=[1518500249,1859775393,-1894007588,-899497514],Mp=new Array(80);function kp(){this.init(),this._w=Mp,xp.call(this,64,56)}function Ap(e){return e<<30|e>>>2}function Rp(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}wp(kp,xp),kp.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},kp.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var c=0;c<80;++c){var u=~~(c/20),d=0|((t=n)<<5|t>>>27)+Rp(u,i,o,a)+s+r[c]+Ep[u];s=a,a=o,o=Ap(i),i=n,n=d}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},kp.prototype._hash=function(){var e=Sp.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var Tp=kp,Cp=g.exports,Bp=_p,Ip=Su.exports.Buffer,Pp=[1518500249,1859775393,-1894007588,-899497514],Op=new Array(80);function Lp(){this.init(),this._w=Op,Bp.call(this,64,56)}function Np(e){return e<<5|e>>>27}function Up(e){return e<<30|e>>>2}function jp(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}Cp(Lp,Bp),Lp.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Lp.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=(t=r[f-3]^r[f-8]^r[f-14]^r[f-16])<<1|t>>>31;for(var c=0;c<80;++c){var u=~~(c/20),d=Np(n)+jp(u,i,o,a)+s+r[c]+Pp[u]|0;s=a,a=o,o=Up(i),i=n,n=d}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},Lp.prototype._hash=function(){var e=Ip.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var qp=Lp,zp=g.exports,Dp=_p,Hp=Su.exports.Buffer,Kp=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Fp=new Array(64);function Wp(){this.init(),this._w=Fp,Dp.call(this,64,56)}function Vp(e,t,r){return r^e&(t^r)}function Jp(e,t,r){return e&t|r&(e|t)}function Gp(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function $p(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function Yp(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}zp(Wp,Dp),Wp.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Wp.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,f=0|this._f,c=0|this._g,u=0|this._h,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<64;++d)r[d]=0|(((t=r[d-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[d-7]+Yp(r[d-15])+r[d-16];for(var h=0;h<64;++h){var l=u+$p(s)+Vp(s,f,c)+Kp[h]+r[h]|0,p=Gp(n)+Jp(n,i,o)|0;u=c,c=f,f=s,s=a+l|0,a=o,o=i,i=n,n=l+p|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=f+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0},Wp.prototype._hash=function(){var e=Hp.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var Zp=Wp,Xp=g.exports,Qp=Zp,eb=_p,tb=Su.exports.Buffer,rb=new Array(64);function nb(){this.init(),this._w=rb,eb.call(this,64,56)}Xp(nb,Qp),nb.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},nb.prototype._hash=function(){var e=tb.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var ib=nb,ob=g.exports,ab=_p,sb=Su.exports.Buffer,fb=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],cb=new Array(160);function ub(){this.init(),this._w=cb,ab.call(this,128,112)}function db(e,t,r){return r^e&(t^r)}function hb(e,t,r){return e&t|r&(e|t)}function lb(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function pb(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function bb(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function gb(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function yb(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function mb(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function vb(e,t){return e>>>0<t>>>0?1:0}ob(ub,ab),ub.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},ub.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,s=0|this._fh,f=0|this._gh,c=0|this._hh,u=0|this._al,d=0|this._bl,h=0|this._cl,l=0|this._dl,p=0|this._el,b=0|this._fl,g=0|this._gl,y=0|this._hl,m=0;m<32;m+=2)t[m]=e.readInt32BE(4*m),t[m+1]=e.readInt32BE(4*m+4);for(;m<160;m+=2){var v=t[m-30],_=t[m-30+1],w=bb(v,_),x=gb(_,v),S=yb(v=t[m-4],_=t[m-4+1]),E=mb(_,v),M=t[m-14],k=t[m-14+1],A=t[m-32],R=t[m-32+1],T=x+k|0,C=w+M+vb(T,x)|0;C=(C=C+S+vb(T=T+E|0,E)|0)+A+vb(T=T+R|0,R)|0,t[m]=C,t[m+1]=T}for(var B=0;B<160;B+=2){C=t[B],T=t[B+1];var I=hb(r,n,i),P=hb(u,d,h),O=lb(r,u),L=lb(u,r),N=pb(a,p),U=pb(p,a),j=fb[B],q=fb[B+1],z=db(a,s,f),D=db(p,b,g),H=y+U|0,K=c+N+vb(H,y)|0;K=(K=(K=K+z+vb(H=H+D|0,D)|0)+j+vb(H=H+q|0,q)|0)+C+vb(H=H+T|0,T)|0;var F=L+P|0,W=O+I+vb(F,L)|0;c=f,y=g,f=s,g=b,s=a,b=p,a=o+K+vb(p=l+H|0,l)|0,o=i,l=h,i=n,h=d,n=r,d=u,r=K+W+vb(u=H+F|0,H)|0}this._al=this._al+u|0,this._bl=this._bl+d|0,this._cl=this._cl+h|0,this._dl=this._dl+l|0,this._el=this._el+p|0,this._fl=this._fl+b|0,this._gl=this._gl+g|0,this._hl=this._hl+y|0,this._ah=this._ah+r+vb(this._al,u)|0,this._bh=this._bh+n+vb(this._bl,d)|0,this._ch=this._ch+i+vb(this._cl,h)|0,this._dh=this._dh+o+vb(this._dl,l)|0,this._eh=this._eh+a+vb(this._el,p)|0,this._fh=this._fh+s+vb(this._fl,b)|0,this._gh=this._gh+f+vb(this._gl,g)|0,this._hh=this._hh+c+vb(this._hl,y)|0},ub.prototype._hash=function(){var e=sb.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var _b=ub,wb=g.exports,xb=_b,Sb=_p,Eb=Su.exports.Buffer,Mb=new Array(160);function kb(){this.init(),this._w=Mb,Sb.call(this,128,112)}wb(kb,xb),kb.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},kb.prototype._hash=function(){var e=Eb.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var Ab=kb,Rb=yp.exports=function(e){e=e.toLowerCase();var t=Rb[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};Rb.sha=Tp,Rb.sha1=qp,Rb.sha224=ib,Rb.sha256=Zp,Rb.sha384=Ab,Rb.sha512=_b;var Tb={},Cb=m.Buffer,Bb=Cb.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var Ib=Tb.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!Bb(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Ob;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Lb;break;default:return void(this.write=Pb)}this.charBuffer=new Cb(6),this.charReceived=0,this.charLength=0};function Pb(e){return e.toString(this.encoding)}function Ob(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function Lb(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}Ib.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},Ib.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},Ib.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t};var Nb=Su.exports.Buffer,Ub=c.Transform,jb=Tb.StringDecoder;function qb(e){Ub.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}(0,g.exports)(qb,Ub),qb.prototype.update=function(e,t,r){"string"==typeof e&&(e=Nb.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},qb.prototype.setAutoPadding=function(){},qb.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},qb.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},qb.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},qb.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(Bv){n=Bv}finally{r(n)}},qb.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(Bv){t=Bv}e(t)},qb.prototype._finalOrDigest=function(e){var t=this.__final()||Nb.alloc(0);return e&&(t=this._toString(t,e,!0)),t},qb.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new jb(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var zb=qb,Db=g.exports,Hb=Xl,Kb=gp,Fb=yp.exports,Wb=zb;function Vb(e){Wb.call(this,"digest"),this._hash=e}Db(Vb,Wb),Vb.prototype._update=function(e){this._hash.update(e)},Vb.prototype._final=function(){return this._hash.digest()};var Jb=function(e){return"md5"===(e=e.toLowerCase())?new Hb:"rmd160"===e||"ripemd160"===e?new Kb:new Vb(Fb(e))},Gb=function(e){if("string"!=typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)},$b=Gb,Yb=function(e){return"string"!=typeof e?e:$b(e)?e.slice(2):e};function Zb(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function Xb(e){return"0x"+e.toString(16)}var Qb={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var t=Xb(e);return new Buffer(Zb(t.slice(2)),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return Buffer.byteLength(e,"utf8")},isHexPrefixed:Gb,stripHexPrefix:Yb,padToEven:Zb,intToHex:Xb,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+Zb(new Buffer(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return new Buffer(Zb(Yb(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi");n.push(o)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}};!function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=ef,n=r.keccak224,i=r.keccak384,o=r.keccak256,a=r.keccak512,s=qu,f=c,u=zu,d=b.exports,h=Jb,l=Su.exports.Buffer;Object.assign(e,Qb),e.MAX_INTEGER=new d("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new d("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=l.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=l.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=l.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=d,e.rlp=u,e.secp256k1=s,e.zeros=function(e){return l.allocUnsafe(e).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,n){var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!l.isBuffer(t))if(Array.isArray(t))t=l.from(t);else if("string"==typeof t)t=e.isHexString(t)?l.from(e.padToEven(e.stripHexPrefix(t)),"hex"):l.from(t);else if("number"==typeof t)t=e.intToBuffer(t);else if(null==t)t=l.allocUnsafe(0);else if(d.isBN(t))t=t.toArrayLike(l);else{if(!t.toArray)throw new Error("invalid type");t=l.from(t.toArray())}return t},e.bufferToInt=function(t){return new d(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(e){return new d(e).fromTwos(256)},e.toUnsigned=function(e){return l.from(e.toTwos(256).toArray())},e.keccak=function(t,r){switch(t=e.toBuffer(t),r||(r=256),r){case 224:return n(t);case 256:return o(t);case 384:return i(t);case 512:return a(t);default:throw new Error("Invald algorithm: keccak"+r)}},e.keccak256=function(t){return e.keccak(t)},e.sha3=e.keccak,e.sha256=function(t){return t=e.toBuffer(t),h("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=h("rmd160").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.keccak(u.encode(t))},e.isValidPrivate=function(e){return s.privateKeyVerify(e)},e.isValidPublic=function(e,t){return 64===e.length?s.publicKeyVerify(l.concat([l.from([4]),e])):!!t&&s.publicKeyVerify(e)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=s.publicKeyConvert(t,!1).slice(1)),f(64===t.length),e.keccak(t).slice(-20)};var p=e.privateToPublic=function(t){return t=e.toBuffer(t),s.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=s.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(e,t){var r=s.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.hashPersonalMessage=function(t){var r=e.toBuffer("Ethereum Signed Message:\n"+t.length.toString());return e.keccak(l.concat([r,t]))},e.ecrecover=function(t,r,n,i){var o=l.concat([e.setLength(n,32),e.setLength(i,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var f=s.recover(t,o,a);return s.publicKeyConvert(f,!1).slice(1)},e.toRpcSig=function(t,r,n){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return e.bufferToHex(l.concat([e.setLengthLeft(r,32),e.setLengthLeft(n,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(p(t))},e.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.keccak(t).toString("hex"),n="0x",i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new d(r)).isZero()?null:l.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return"string"!=typeof t||e.isHexPrefixed(t)?t:"0x"+t},e.isValidSignature=function(e,t,r,n){var i=new d("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new d("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new d(t),r=new d(r),!(t.isZero()||t.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new d(r).cmp(i))))},e.baToJSON=function(t){if(l.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}},e.defineProperties=function(r,n,i){if(r.raw=[],r._fields=[],r.toJSON=function(t){if(t){var n={};return r._fields.forEach((function(e){n[e]="0x"+r[e].toString("hex")})),n}return e.baToJSON(this.raw)},r.serialize=function(){return u.encode(r.raw)},n.forEach((function(t,n){function i(){return r.raw[n]}function o(i){"00"!==(i=e.toBuffer(i)).toString("hex")||t.allowZero||(i=l.allocUnsafe(0)),t.allowLess&&t.length?(i=e.stripZeros(i),f(t.length>=i.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===i.length||!t.length||f(t.length===i.length,"The field "+t.name+" must have byte length of "+t.length),r.raw[n]=i}r._fields.push(t.name),Object.defineProperty(r,t.name,{enumerable:!0,configurable:!0,get:i,set:o}),t.default&&(r[t.name]=t.default),t.alias&&Object.defineProperty(r,t.alias,{enumerable:!1,configurable:!0,set:o,get:i})})),i)if("string"==typeof i&&(i=l.from(e.stripHexPrefix(i),"hex")),l.isBuffer(i)&&(i=u.decode(i)),Array.isArray(i)){if(i.length>r._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(t,n){r[r._fields[n]]=e.toBuffer(t)}))}else{if("object"!==(void 0===i?"undefined":t(i)))throw new Error("invalid data");var o=Object.keys(i);n.forEach((function(e){-1!==o.indexOf(e.name)&&(r[e.name]=i[e.name]),-1!==o.indexOf(e.alias)&&(r[e.alias]=i[e.alias])}))}}}(Qs);var eg={exports:{}},tg={exports:{}},rg={exports:{}},ng={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default}(ng,ng.exports);var ig={exports:{}},og={exports:{}};var ag=function(){},sg={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default}(sg,sg.exports);var fg={exports:{}},cg={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r&&e[r]&&e[r]()};var r="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default}(cg,cg.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,n.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):(o=e,a=(0,i.default)(o),s=-1,f=a.length,function(){var e=a[++s];return s<f?{value:o[e],key:e}:null});var o,a,s,f};var r=o(_),n=o(cg.exports),i=o(v);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(fg,fg.exports);var ug={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default}(ug,ug.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,s,f){if(f=(0,n.default)(f||r.default),e<=0||!t)return f(null);var c=(0,i.default)(t),u=!1,d=0,h=!1;function l(e,t){if(d-=1,e)u=!0,f(e);else{if(t===a.default||u&&d<=0)return u=!0,f(null);h||p()}}function p(){for(h=!0;d<e&&!u;){var t=c();if(null===t)return u=!0,void(d<=0&&f(null));d+=1,s(t.value,t.key,(0,o.default)(l))}h=!1}p()}};var r=s(ag),n=s(sg.exports),i=s(fg.exports),o=s(ug.exports),a=s(ng.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(og,og.exports);var dg={},hg={exports:{}},lg={exports:{}},pg={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=e[t+i];return n},e.exports=t.default}(pg,pg.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,n.default)(arguments),r=t.pop();e.call(this,t,r)}};var r,n=(r=pg.exports)&&r.__esModule?r:{default:r};e.exports=t.default}(lg,lg.exports);var bg={};Object.defineProperty(bg,"__esModule",{value:!0}),bg.hasNextTick=bg.hasSetImmediate=void 0,bg.fallback=wg,bg.wrap=xg;var gg,yg=(gg=pg.exports)&&gg.__esModule?gg:{default:gg};var mg,vg=bg.hasSetImmediate="function"==typeof setImmediate&&setImmediate,_g=bg.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function wg(e){setTimeout(e,0)}function xg(e){return function(t){var r=(0,yg.default)(arguments,1);e((function(){t.apply(null,r)}))}}mg=vg?setImmediate:_g?process.nextTick:wg,bg.default=xg(mg),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)((function(t,n){var i;try{i=e.apply(this,t)}catch(Bv){return n(Bv)}(0,r.default)(i)&&"function"==typeof i.then?i.then((function(e){a(n,null,e)}),(function(e){a(n,e.message?e:new Error(e))})):n(null,i)}))};var r=o(w),n=o(lg.exports),i=o(bg);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){try{e(t,r)}catch(Bv){(0,i.default)(s,Bv)}}function s(e){throw e}e.exports=t.default}(hg,hg.exports),Object.defineProperty(dg,"__esModule",{value:!0}),dg.isAsync=void 0;var Sg=function(e){return e&&e.__esModule?e:{default:e}}(hg.exports);var Eg="function"==typeof Symbol;function Mg(e){return Eg&&"AsyncFunction"===e[Symbol.toStringTag]}dg.default=function(e){return Mg(e)?(0,Sg.default)(e):e},dg.isAsync=Mg,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,o){(0,r.default)(t)(e,(0,n.default)(i),o)};var r=i(og.exports),n=i(dg);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ig,ig.exports);var kg={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,i){return e(r,t,n,i)}},e.exports=t.default}(kg,kg.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){((0,r.default)(e)?d:h)(e,(0,c.default)(t),n)};var r=u(_),n=u(ng.exports),i=u(ig.exports),o=u(kg.exports),a=u(ag),s=u(sg.exports),f=u(ug.exports),c=u(dg);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){r=(0,s.default)(r||a.default);var i=0,o=0,c=e.length;function u(e,t){e?r(e):++o!==c&&t!==n.default||r(null)}for(0===c&&r(null);i<c;i++)t(e[i],i,(0,f.default)(u))}var h=(0,o.default)(i.default,1/0);e.exports=t.default}(rg,rg.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,i,o){return e(r.default,t,(0,n.default)(i),o)}};var r=i(rg.exports),n=i(dg);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(tg,tg.exports);var Ag={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,o){o=o||r.default,t=t||[];var a=[],s=0,f=(0,n.default)(i);e(t,(function(e,t,r){var n=s++;f(e,(function(e,t){a[n]=t,r(e)}))}),(function(e){o(e,a)}))};var r=i(ag),n=i(dg);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ag,Ag.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=i(tg.exports),n=i(Ag.exports);function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(n.default),e.exports=t.default}(eg,eg.exports);var Rg={exports:{}},Tg={exports:{}},Cg={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n){return e(t,n)}},e.exports=t.default}(Cg,Cg.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,a){(0,r.default)(t)(e,(0,n.default)((0,i.default)(o)),a)};var r=o(og.exports),n=o(Cg.exports),i=o(dg);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Tg,Tg.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=i(Tg.exports),n=i(kg.exports);function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(r.default,1),e.exports=t.default}(Rg,Rg.exports);const Bg=t.exports.EventEmitter;var Ig=Pg;function Pg(){Bg.call(this),this.isLocked=!0}(0,n.inherits)(Pg,Bg),Pg.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},Pg.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},Pg.prototype.await=function(e){const t=this;t.isLocked?t.once("unlock",e):setTimeout(e)};var Og,Lg,Ng,Ug,jg={},qg={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},zg=function(e){throw{name:"SyntaxError",message:e,at:Og,text:Ng}},Dg=function(e){return e&&e!==Lg&&zg("Expected '"+e+"' instead of '"+Lg+"'"),Lg=Ng.charAt(Og),Og+=1,Lg},Hg=function(){var e,t="";for("-"===Lg&&(t="-",Dg("-"));Lg>="0"&&Lg<="9";)t+=Lg,Dg();if("."===Lg)for(t+=".";Dg()&&Lg>="0"&&Lg<="9";)t+=Lg;if("e"===Lg||"E"===Lg)for(t+=Lg,Dg(),"-"!==Lg&&"+"!==Lg||(t+=Lg,Dg());Lg>="0"&&Lg<="9";)t+=Lg,Dg();if(e=+t,isFinite(e))return e;zg("Bad number")},Kg=function(){var e,t,r,n="";if('"'===Lg)for(;Dg();){if('"'===Lg)return Dg(),n;if("\\"===Lg)if(Dg(),"u"===Lg){for(r=0,t=0;t<4&&(e=parseInt(Dg(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof qg[Lg])break;n+=qg[Lg]}else n+=Lg}zg("Bad string")},Fg=function(){for(;Lg&&Lg<=" ";)Dg()};Ug=function(){switch(Fg(),Lg){case"{":return function(){var e,t={};if("{"===Lg){if(Dg("{"),Fg(),"}"===Lg)return Dg("}"),t;for(;Lg;){if(e=Kg(),Fg(),Dg(":"),Object.hasOwnProperty.call(t,e)&&zg('Duplicate key "'+e+'"'),t[e]=Ug(),Fg(),"}"===Lg)return Dg("}"),t;Dg(","),Fg()}}zg("Bad object")}();case"[":return function(){var e=[];if("["===Lg){if(Dg("["),Fg(),"]"===Lg)return Dg("]"),e;for(;Lg;){if(e.push(Ug()),Fg(),"]"===Lg)return Dg("]"),e;Dg(","),Fg()}}zg("Bad array")}();case'"':return Kg();case"-":return Hg();default:return Lg>="0"&&Lg<="9"?Hg():function(){switch(Lg){case"t":return Dg("t"),Dg("r"),Dg("u"),Dg("e"),!0;case"f":return Dg("f"),Dg("a"),Dg("l"),Dg("s"),Dg("e"),!1;case"n":return Dg("n"),Dg("u"),Dg("l"),Dg("l"),null}zg("Unexpected '"+Lg+"'")}()}};var Wg,Vg,Jg,Gg=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function Yg(e){return Gg.lastIndex=0,Gg.test(e)?'"'+e.replace(Gg,(function(e){var t=$g[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function Zg(e,t){var r,n,i,o,a,s=Wg,f=t[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),"function"==typeof Jg&&(f=Jg.call(t,e,f)),typeof f){case"string":return Yg(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(Wg+=Vg,a=[],"[object Array]"===Object.prototype.toString.apply(f)){for(o=f.length,r=0;r<o;r+=1)a[r]=Zg(r,f)||"null";return i=0===a.length?"[]":Wg?"[\n"+Wg+a.join(",\n"+Wg)+"\n"+s+"]":"["+a.join(",")+"]",Wg=s,i}if(Jg&&"object"==typeof Jg)for(o=Jg.length,r=0;r<o;r+=1)"string"==typeof(n=Jg[r])&&(i=Zg(n,f))&&a.push(Yg(n)+(Wg?": ":":")+i);else for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(i=Zg(n,f))&&a.push(Yg(n)+(Wg?": ":":")+i);return i=0===a.length?"{}":Wg?"{\n"+Wg+a.join(",\n"+Wg)+"\n"+s+"}":"{"+a.join(",")+"}",Wg=s,i}}jg.parse=function(e,t){var r;return Ng=e,Og=0,Lg=" ",r=Ug(),Fg(),Lg&&zg("Syntax error"),"function"==typeof t?function e(r,n){var i,o,a=r[n];if(a&&"object"==typeof a)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(o=e(a,i))?a[i]=o:delete a[i]);return t.call(r,n,a)}({"":r},""):r},jg.stringify=function(e,t,r){var n;if(Wg="",Vg="","number"==typeof r)for(n=0;n<r;n+=1)Vg+=" ";else"string"==typeof r&&(Vg=r);if(Jg=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return Zg("",{"":e})};var Xg="undefined"!=typeof JSON?JSON:jg,Qg=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var n,i="boolean"==typeof t.cycles&&t.cycles,o=t.replacer||function(e,t){return t},a=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),s=[];return function e(t,n,f,c){var u=r?"\n"+new Array(c+1).join(r):"",d=r?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),void 0!==(f=o.call(t,n,f))){if("object"!=typeof f||null===f)return Xg.stringify(f);if(ey(f)){for(var h=[],l=0;l<f.length;l++){var p=e(f,l,f[l],c+1)||Xg.stringify(null);h.push(u+r+p)}return"["+h.join(",")+u+"]"}if(-1!==s.indexOf(f)){if(i)return Xg.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}s.push(f);var b=ty(f).sort(a&&a(f));for(h=[],l=0;l<b.length;l++){var g=e(f,n=b[l],f[n],c+1);if(g){var y=Xg.stringify(n)+d+g;h.push(u+r+y)}}return s.splice(s.indexOf(f),1),"{"+h.join(",")+u+"}"}}({"":e},"",e,0)},ey=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},ty=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r};var ry=function(e){var t=ny(e);if(t>=e.params.length)return null;return e.params[t]};function ny(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}const iy=function(){return Math.floor(Number.MAX_SAFE_INTEGER*Math.random())},oy=i;var ay=function(e){return oy({id:iy(),jsonrpc:"2.0",params:[]},e)};const sy=t.exports.EventEmitter,fy=n.inherits,cy=Qs,uy=o,dy=eg.exports,hy=Rg.exports,ly=Ig,py=ay,by=function(){};var gy=yy;function yy(e){const t=this;sy.call(t),t.setMaxListeners(30),e=e||{};const r={sendAsync:t._handleAsync.bind(t)},n=e.blockTrackerProvider||r;t._blockTracker=e.blockTracker||new uy({provider:n,pollingInterval:e.pollingInterval||4e3,setSkipCacheFlag:!0}),t._ready=new ly,t.currentBlock=null,t._providers=[]}fy(yy,sy),yy.prototype.start=function(e=by){const t=this;t._ready.go(),t._blockTracker.on("latest",(e=>{t._getBlockByNumberWithRetry(e,((e,r)=>{if(e)return void this.emit("error",e);if(!r)return console.log(r),void this.emit("error",new Error("Could not find block"));const n=(i=r,{number:cy.toBuffer(i.number),hash:cy.toBuffer(i.hash),parentHash:cy.toBuffer(i.parentHash),nonce:cy.toBuffer(i.nonce),mixHash:cy.toBuffer(i.mixHash),sha3Uncles:cy.toBuffer(i.sha3Uncles),logsBloom:cy.toBuffer(i.logsBloom),transactionsRoot:cy.toBuffer(i.transactionsRoot),stateRoot:cy.toBuffer(i.stateRoot),receiptsRoot:cy.toBuffer(i.receiptRoot||i.receiptsRoot),miner:cy.toBuffer(i.miner),difficulty:cy.toBuffer(i.difficulty),totalDifficulty:cy.toBuffer(i.totalDifficulty),size:cy.toBuffer(i.size),extraData:cy.toBuffer(i.extraData),gasLimit:cy.toBuffer(i.gasLimit),gasUsed:cy.toBuffer(i.gasUsed),timestamp:cy.toBuffer(i.timestamp),transactions:i.transactions});var i;t._setCurrentBlock(n),t.emit("rawBlock",r),t.emit("latest",r)}))})),t._blockTracker.on("sync",t.emit.bind(t,"sync")),t._blockTracker.on("error",t.emit.bind(t,"error")),t._running=!0,t.emit("start")},yy.prototype.stop=function(){const e=this;e._blockTracker.removeAllListeners(),e._running=!1,e.emit("stop")},yy.prototype.isRunning=function(){return this._running},yy.prototype.addProvider=function(e,t){const r=this;"number"==typeof t?r._providers.splice(t,0,e):r._providers.push(e),e.setEngine(this)},yy.prototype.removeProvider=function(e){const t=this._providers.indexOf(e);if(t<0)throw new Error("Provider not found.");this._providers.splice(t,1)},yy.prototype.send=function(e){throw new Error("Web3ProviderEngine does not support synchronous requests.")},yy.prototype.sendAsync=function(e,t){const r=this;r._ready.await((function(){Array.isArray(e)?dy(e,r._handleAsync.bind(r),t):r._handleAsync(e,t)}))},yy.prototype._getBlockByNumberWithRetry=function(e,t){const r=this;let n=5;return void i();function i(){r._getBlockByNumber(e,o)}function o(e,r){return e?t(e):r?void t(null,r):n>0?(n--,void setTimeout((function(){i()}),1e3)):void t(null,null)}},yy.prototype._getBlockByNumber=function(e,t){const r=py({method:"eth_getBlockByNumber",params:[e,!1],skipCache:!0});this._handleAsync(r,((e,r)=>e?t(e):t(null,r.result)))},yy.prototype._handleAsync=function(e,t){var r=this,n=-1,i=null,o=null,a=[];function s(r,n){o=r,i=n,hy(a,(function(e,t){e?e(o,i,t):t()}),(function(){var r={id:e.id,jsonrpc:e.jsonrpc,result:i};null!=o?(r.error={message:o.stack||o.message||o,code:-32e3},t(o,r)):t(null,r)}))}!function t(i){if(n+=1,a.unshift(i),n>=r._providers.length)s(new Error('Request for method "'+e.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{r._providers[n].handleRequest(e,t,s)}catch(Bv){s(Bv)}}()},yy.prototype._setCurrentBlock=function(e){this.currentBlock=e,this.emit("block",e)};const my=ay;var vy=_y;function _y(){}_y.prototype.setEngine=function(e){const t=this;t.engine||(t.engine=e,e.on("block",(function(e){t.currentBlock=e})),e.on("start",(function(){t.start()})),e.on("stop",(function(){t.stop()})))},_y.prototype.handleRequest=function(e,t,r){throw new Error("Subproviders should override `handleRequest`.")},_y.prototype.emitPayload=function(e,t){this.engine.sendAsync(my(e),t)},_y.prototype.stop=function(){},_y.prototype.start=function(){};const wy=vy;var xy=class extends wy{constructor(e){if(super(),!e)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=e}setEngine(e){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const t=e._blockTracker,r=this._constructorFn({engine:e,provider:e,blockTracker:t});if(!r)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if("function"!=typeof r)throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=r}handleRequest(e,t,r){const n={id:e.id};this.middleware(e,n,(function(e){t(((t,r,i)=>{t?(delete n.result,n.error={message:t.message||t}):n.result=r,e?e(i):i()}))}),(function(e){if(e)return r(e);r(null,n.result)}))}};const Sy=Qg;function Ey(e){return"never"!==Ay(e)}function My(e){const t=ky(e);return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function ky(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function Ay(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}const Ry={cacheIdentifierForPayload:function(e,t){const r=t?My(e):e.params;return Ey(e)?e.method+":"+Sy(r):null},canCache:Ey,blockTagForPayload:function(e){let t=ky(e);if(t>=e.params.length)return null;return e.params[t]},paramsWithoutBlockTag:My,blockTagParamIndex:ky,cacheTypeForPayload:Ay},Ty=function(e){return(t,r,n,i)=>{let o;const a=new Promise((e=>{o=e}));let s,f;e(t,r,(async()=>{f=!0,n((e=>{s=e,o()})),await a})).then((async()=>{f?(await a,s(null)):i(null)})).catch((e=>{s?s(e):i(e)}))}},Cy=[void 0,null,"<nil>"];var By=function(e={}){const{blockTracker:t}=e;if(!t)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const r=new Iy,n={perma:r,block:r,fork:r};return Ty((async(e,i,o)=>{if(e.skipCache)return o();const a=Ry.cacheTypeForPayload(e),s=n[a];if(!s)return o();if(!s.canCacheRequest(e))return o();let f,c=Ry.blockTagForPayload(e);if(c||(c="latest"),"earliest"===c)f="0x00";else if("latest"===c){const e=await t.getLatestBlock();r.clearBefore(e),f=e}else f=c;const u=await s.get(e,f);void 0===u?(await o(),await s.set(e,f,i.result)):i.result=u}))};class Iy{constructor(){this.cache={}}getBlockCacheForPayload(e,t){const r=Number.parseInt(t,16);let n=this.cache[r];if(!n){const e={};this.cache[r]=e,n=e}return n}async get(e,t){const r=this.getBlockCacheForPayload(e,t);if(!r)return;return r[Ry.cacheIdentifierForPayload(e,!0)]}async set(e,t,r){if(!this.canCacheResult(e,r))return;this.getBlockCacheForPayload(e,t)[Ry.cacheIdentifierForPayload(e,!0)]=r}canCacheRequest(e){if(!Ry.canCache(e))return!1;return"pending"!==Ry.blockTagForPayload(e)}canCacheResult(e,t){if(!Cy.includes(t))return!!(!["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)||t&&t.blockHash&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==t.blockHash)}clearBefore(e){const t=this,r=Number.parseInt(e,16);Object.keys(t.cache).map(Number).filter((e=>e<r)).forEach((e=>delete t.cache[e]))}}const Py=xy,Oy=By;var Ly=class extends Py{constructor(e){super((({blockTracker:t})=>Oy(Object.assign({blockTracker:t},e))))}};var Ny=Uy;function Uy(e){e=e||{},this.staticResponses=e}(0,n.inherits)(Uy,vy),Uy.prototype.handleRequest=function(e,t,r){var n=this.staticResponses[e.method];"function"==typeof n?n(e,t,r):void 0!==n?setTimeout((()=>r(null,n))):t()};const jy=xy,qy=a;var zy=class extends jy{constructor(){super((({blockTracker:e,provider:t,engine:r})=>qy({blockTracker:e,provider:t})))}},Dy={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t=(0,i.default)(t||n.default),!(0,r.default)(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var f=0;function c(t){var r=(0,s.default)(e[f++]);t.push((0,a.default)(u)),r.apply(null,t)}function u(r){if(r||f===e.length)return t.apply(null,arguments);c((0,o.default)(arguments,1))}c([])};var r=f(x),n=f(ag),i=f(sg.exports),o=f(pg.exports),a=f(ug.exports),s=f(dg);function f(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Dy,Dy.exports);var Hy={exports:{}},Ky={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){a=a||r.default;var s=(0,n.default)(t)?[]:{};e(t,(function(e,t,r){(0,o.default)(e)((function(e,n){arguments.length>2&&(n=(0,i.default)(arguments,1)),s[t]=n,r(e)}))}),(function(e){a(e,s)}))};var r=a(ag),n=a(_),i=a(pg.exports),o=a(dg);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ky,Ky.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(r.default,e,t)};var r=i(rg.exports),n=i(Ky.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Hy,Hy.exports);var Fy={},Wy={},Vy={};Object.defineProperty(Vy,"__esModule",{value:!0});var Jy=b.exports,Gy=new(0,Sf.ec)("secp256k1"),$y=Gy.curve;Vy.privateKeyExport=function(e,t){void 0===t&&(t=!0);var r=new Jy(e);if(r.ucmp($y.n)>=0)throw new Error("couldn't export to DER format");var n=Gy.g.mul(r);return Yy(n.getX(),n.getY(),t)},Vy.privateKeyModInverse=function(e){var t=new Jy(e);if(t.ucmp($y.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm($y.n).toArrayLike(Buffer,"be",32)},Vy.signatureImport=function(e){var t=new Jy(e.r);t.ucmp($y.n)>=0&&(t=new Jy(0));var r=new Jy(e.s);return r.ucmp($y.n)>=0&&(r=new Jy(0)),Buffer.concat([t.toArrayLike(Buffer,"be",32),r.toArrayLike(Buffer,"be",32)])},Vy.ecdhUnsafe=function(e,t,r){void 0===r&&(r=!0);var n=Gy.keyFromPublic(e),i=new Jy(t);if(i.ucmp($y.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return Yy(o.getX(),o.getY(),r)};var Yy=function(e,t,r){var n;return r?((n=Buffer.alloc(33))[0]=t.isOdd()?3:2,e.toArrayLike(Buffer,"be",32).copy(n,1)):((n=Buffer.alloc(65))[0]=4,e.toArrayLike(Buffer,"be",32).copy(n,1),t.toArrayLike(Buffer,"be",32).copy(n,33)),n},Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});var Xy=Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Qy=Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);Zy.privateKeyExport=function(e,t,r){void 0===r&&(r=!0);var n=Buffer.from(r?Xy:Qy);return e.copy(n,r?8:9),t.copy(n,r?181:214),n},Zy.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},Zy.signatureImportLax=function(e){var t=Buffer.alloc(32,0),r=Buffer.alloc(32,0),n=e.length,i=0;if(48!==e[i++])return null;var o=e[i++];if(128&o&&(i+=o-128)>n)return null;if(2!==e[i++])return null;var a=e[i++];if(128&a){if(i+(o=a-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(a=0;o>0;i+=1,o-=1)a=(a<<8)+e[i]}if(a>n-i)return null;var s=i;if(i+=a,2!==e[i++])return null;var f=e[i++];if(128&f){if(i+(o=f-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(f=0;o>0;i+=1,o-=1)f=(f<<8)+e[i]}if(f>n-i)return null;var c=i;for(i+=f;a>0&&0===e[s];a-=1,s+=1);if(a>32)return null;var u=e.slice(s,s+a);for(u.copy(t,32-u.length);f>0&&0===e[c];f-=1,c+=1);if(f>32)return null;var d=e.slice(c,c+f);return d.copy(r,32-d.length),{r:t,s:r}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ecdhUnsafe=e.ecdh=e.recover=e.verify=e.sign=e.signatureImportLax=e.signatureImport=e.signatureExport=e.signatureNormalize=e.publicKeyCombine=e.publicKeyTweakMul=e.publicKeyTweakAdd=e.publicKeyVerify=e.publicKeyConvert=e.publicKeyCreate=e.privateKeyTweakMul=e.privateKeyTweakAdd=e.privateKeyModInverse=e.privateKeyNegate=e.privateKeyImport=e.privateKeyExport=e.privateKeyVerify=void 0;var t=of,r=Vy,n=Zy;e.privateKeyVerify=function(e){return 32===e.length&&t.privateKeyVerify(Uint8Array.from(e))},e.privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var i=r.privateKeyExport(e,t);return n.privateKeyExport(e,i,t)},e.privateKeyImport=function(t){if(null!==(t=n.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error("couldn't import from DER format")},e.privateKeyNegate=function(e){return Buffer.from(t.privateKeyNegate(Uint8Array.from(e)))},e.privateKeyModInverse=function(e){if(32!==e.length)throw new Error("private key length is invalid");return Buffer.from(r.privateKeyModInverse(Uint8Array.from(e)))},e.privateKeyTweakAdd=function(e,r){return Buffer.from(t.privateKeyTweakAdd(Uint8Array.from(e),r))},e.privateKeyTweakMul=function(e,r){return Buffer.from(t.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r)))},e.publicKeyCreate=function(e,r){return Buffer.from(t.publicKeyCreate(Uint8Array.from(e),r))},e.publicKeyConvert=function(e,r){return Buffer.from(t.publicKeyConvert(Uint8Array.from(e),r))},e.publicKeyVerify=function(e){return(33===e.length||65===e.length)&&t.publicKeyVerify(Uint8Array.from(e))},e.publicKeyTweakAdd=function(e,r,n){return Buffer.from(t.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(r),n))},e.publicKeyTweakMul=function(e,r,n){return Buffer.from(t.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r),n))},e.publicKeyCombine=function(e,r){var n=[];return e.forEach((function(e){n.push(Uint8Array.from(e))})),Buffer.from(t.publicKeyCombine(n,r))},e.signatureNormalize=function(e){return Buffer.from(t.signatureNormalize(Uint8Array.from(e)))},e.signatureExport=function(e){return Buffer.from(t.signatureExport(Uint8Array.from(e)))},e.signatureImport=function(e){return Buffer.from(t.signatureImport(Uint8Array.from(e)))},e.signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=n.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return r.signatureImport(t)},e.sign=function(e,r,n){if(null===n)throw new TypeError("options should be an Object");var i=void 0;if(n){if(i={},null===n.data)throw new TypeError("options.data should be a Buffer");if(n.data){if(32!=n.data.length)throw new RangeError("options.data length is invalid");i.data=new Uint8Array(n.data)}if(null===n.noncefn)throw new TypeError("options.noncefn should be a Function");n.noncefn&&(i.noncefn=function(e,t,r,i,o){var a=null!=r?Buffer.from(r):null,s=null!=i?Buffer.from(i):null,f=Buffer.from("");return n.noncefn&&(f=n.noncefn(Buffer.from(e),Buffer.from(t),a,s,o)),new Uint8Array(f)})}var o=t.ecdsaSign(Uint8Array.from(e),Uint8Array.from(r),i);return{signature:Buffer.from(o.signature),recovery:o.recid}},e.verify=function(e,r,n){return t.ecdsaVerify(Uint8Array.from(r),Uint8Array.from(e),n)},e.recover=function(e,r,n,i){return Buffer.from(t.ecdsaRecover(Uint8Array.from(r),n,Uint8Array.from(e),i))},e.ecdh=function(e,r){return Buffer.from(t.ecdh(Uint8Array.from(e),Uint8Array.from(r),{}))},e.ecdhUnsafe=function(e,t,n){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");return Buffer.from(r.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),n))}}(Wy);var em={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.MAX_INTEGER=void 0;var t=b.exports;e.MAX_INTEGER=new t("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new t("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=Buffer.from(e.KECCAK256_RLP_S,"hex")}(em);var tm={},rm={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.baToJSON=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToHex=e.bufferToInt=e.toBuffer=e.stripZeros=e.unpad=e.setLengthRight=e.setLength=e.setLengthLeft=e.zeros=void 0;var t=Qb,r=b.exports;e.zeros=function(e){return Buffer.allocUnsafe(e).fill(0)},e.setLengthLeft=function(t,r,n){void 0===n&&(n=!1);var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLength=e.setLengthLeft,e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=function(e){for(var r=(e=t.stripHexPrefix(e))[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e},e.stripZeros=e.unpad,e.toBuffer=function(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if("string"==typeof e){if(!t.isHexString(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+e);e=Buffer.from(t.padToEven(t.stripHexPrefix(e)),"hex")}else if("number"==typeof e)e=t.intToBuffer(e);else if(null==e)e=Buffer.allocUnsafe(0);else if(r.isBN(e))e=e.toArrayLike(Buffer);else{if(!e.toArray)throw new Error("invalid type");e=Buffer.from(e.toArray())}return e},e.bufferToInt=function(t){return new r(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(e){return new r(e).fromTwos(256)},e.toUnsigned=function(e){return Buffer.from(e.toTwos(256).toArray())},e.addHexPrefix=function(e){return"string"!=typeof e||t.isHexPrefixed(e)?e:"0x"+e},e.baToJSON=function(t){if(Buffer.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}}}(rm);var nm={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.rlphash=e.ripemd160=e.sha256=e.keccak256=e.keccak=void 0;var t=ef,r=t.keccak224,n=t.keccak384,i=t.keccak256,o=t.keccak512,a=Jb,s=Qb,f=zu,c=rm;e.keccak=function(e,t){switch(void 0===t&&(t=256),e="string"!=typeof e||s.isHexString(e)?c.toBuffer(e):Buffer.from(e,"utf8"),t||(t=256),t){case 224:return r(e);case 256:return i(e);case 384:return n(e);case 512:return o(e);default:throw new Error("Invald algorithm: keccak"+t)}},e.keccak256=function(t){return e.keccak(t)},e.sha256=function(e){return e=c.toBuffer(e),a("sha256").update(e).digest()},e.ripemd160=function(e,t){e=c.toBuffer(e);var r=a("rmd160").update(e).digest();return!0===t?c.setLength(r,32):r},e.rlphash=function(t){return e.keccak(f.encode(t))}}(nm),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.importPublic=e.privateToPublic=e.privateToAddress=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.isPrecompiled=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isZeroAddress=e.isValidAddress=e.zeroAddress=void 0;var t=c,r=Qb,n=Wy,i=b.exports,o=rm,a=nm;e.zeroAddress=function(){var e=o.zeros(20);return o.bufferToHex(e)},e.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},e.isZeroAddress=function(t){return e.zeroAddress()===o.addHexPrefix(t)},e.toChecksumAddress=function(e,t){e=r.stripHexPrefix(e).toLowerCase();for(var n=void 0!==t?t.toString()+"0x":"",i=a.keccak(n+e).toString("hex"),o="0x",s=0;s<e.length;s++)parseInt(i[s],16)>=8?o+=e[s].toUpperCase():o+=e[s];return o},e.isValidChecksumAddress=function(t,r){return e.isValidAddress(t)&&e.toChecksumAddress(t,r)===t},e.generateAddress=function(e,t){e=o.toBuffer(e);var r=new i(t);return r.isZero()?a.rlphash([e,null]).slice(-20):a.rlphash([e,Buffer.from(r.toArray())]).slice(-20)},e.generateAddress2=function(e,r,n){var i=o.toBuffer(e),s=o.toBuffer(r),f=o.toBuffer(n);return t(20===i.length),t(32===s.length),a.keccak256(Buffer.concat([Buffer.from("ff","hex"),i,s,a.keccak256(f)])).slice(-20)},e.isPrecompiled=function(e){var t=o.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},e.isValidPrivate=function(e){return n.privateKeyVerify(e)},e.isValidPublic=function(e,t){return void 0===t&&(t=!1),64===e.length?n.publicKeyVerify(Buffer.concat([Buffer.from([4]),e])):!!t&&n.publicKeyVerify(e)},e.pubToAddress=function(e,r){return void 0===r&&(r=!1),e=o.toBuffer(e),r&&64!==e.length&&(e=n.publicKeyConvert(e,!1).slice(1)),t(64===e.length),a.keccak(e).slice(-20)},e.publicToAddress=e.pubToAddress,e.privateToAddress=function(t){return e.publicToAddress(e.privateToPublic(t))},e.privateToPublic=function(e){return e=o.toBuffer(e),n.publicKeyCreate(e,!1).slice(1)},e.importPublic=function(e){return 64!==(e=o.toBuffer(e)).length&&(e=n.publicKeyConvert(e,!1).slice(1)),e}}(tm);var im={};Object.defineProperty(im,"__esModule",{value:!0}),im.hashPersonalMessage=im.isValidSignature=im.fromRpcSig=im.toRpcSig=im.ecrecover=im.ecsign=void 0;var om=Wy,am=b.exports,sm=rm,fm=nm;function cm(e,t){return t?e-(2*t+35):e-27}function um(e){return 0===e||1===e}im.ecsign=function(e,t,r){var n=om.sign(e,t),i=n.recovery;return{r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?i+(2*r+35):i+27}},im.ecrecover=function(e,t,r,n,i){var o=Buffer.concat([sm.setLength(r,32),sm.setLength(n,32)],64),a=cm(t,i);if(!um(a))throw new Error("Invalid signature v value");var s=om.recover(e,o,a);return om.publicKeyConvert(s,!1).slice(1)},im.toRpcSig=function(e,t,r,n){if(!um(cm(e,n)))throw new Error("Invalid signature v value");return sm.bufferToHex(Buffer.concat([sm.setLengthLeft(t,32),sm.setLengthLeft(r,32),sm.toBuffer(e)]))},im.fromRpcSig=function(e){var t=sm.toBuffer(e);if(65!==t.length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},im.isValidSignature=function(e,t,r,n,i){void 0===n&&(n=!0);var o=new am("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new am("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!um(cm(e,i)))return!1;var s=new am(t),f=new am(r);return!(s.isZero()||s.gt(a)||f.isZero()||f.gt(a))&&(!n||1!==f.cmp(o))},im.hashPersonalMessage=function(e){var t=Buffer.from("Ethereum Signed Message:\n"+e.length.toString(),"utf-8");return fm.keccak(Buffer.concat([t,e]))};var dm={};Object.defineProperty(dm,"__esModule",{value:!0}),dm.defineProperties=void 0;var hm=c,lm=Qb,pm=zu,bm=rm;dm.defineProperties=function(e,t,r){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return bm.baToJSON(e.raw)},e.serialize=function(){return pm.encode(e.raw)},t.forEach((function(t,r){function n(){return e.raw[r]}function i(n){"00"!==(n=bm.toBuffer(n)).toString("hex")||t.allowZero||(n=Buffer.allocUnsafe(0)),t.allowLess&&t.length?(n=bm.stripZeros(n),hm(t.length>=n.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===n.length||!t.length||hm(t.length===n.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[r]=n}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:n,set:i}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:i,get:n})})),r)if("string"==typeof r&&(r=Buffer.from(lm.stripHexPrefix(r),"hex")),Buffer.isBuffer(r)&&(r=pm.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(t,r){e[e._fields[r]]=bm.toBuffer(t)}))}else{if("object"!=typeof r)throw new Error("invalid data");var n=Object.keys(r);t.forEach((function(t){-1!==n.indexOf(t.name)&&(e[t.name]=r[t.name]),-1!==n.indexOf(t.alias)&&(e[t.alias]=r[t.alias])}))}},function(e){var t=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=u&&u.__exportStar||function(e,r){for(var n in e)"default"===n||r.hasOwnProperty(n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=e.rlp=e.BN=void 0;var n=Wy;e.secp256k1=n;var i=Qb,o=b.exports;e.BN=o;var a=zu;e.rlp=a,Object.assign(e,i),r(em,e),r(tm,e),r(nm,e),r(im,e),r(rm,e),r(dm,e)}(Fy);const gm=Fy,ym=b.exports;var mm=function(){};function vm(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function _m(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function wm(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function xm(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function Sm(e){var t=typeof e;if("string"===t)return gm.isHexPrefixed(e)?new ym(gm.stripHexPrefix(e),16):new ym(e,10);if("number"===t)return new ym(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function Em(e){var t=/^(\w+)\((.*)\)$/.exec(e);if(3!==t.length)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(t[2]);if(null!==r&&3===r.length)return{method:t[1],args:r[1].split(","),retargs:r[2].split(",")};var n=t[2].split(",");return 1===n.length&&""===n[0]&&(n=[]),{method:t[1],args:n}}function Mm(e,t){var r,n,i,o;if("address"===e)return Mm("uint160",Sm(t));if("bool"===e)return Mm("uint8",t?1:0);if("string"===e)return Mm("bytes",Buffer.from(t,"utf8"));if(Tm(e)){if(void 0===t.length)throw new Error("Not an array?");if("dynamic"!==(r=xm(e))&&0!==r&&t.length>r)throw new Error("Elements exceed array size: "+r);for(o in i=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)i.push(Mm(e,t[o]));if("dynamic"===r){var a=Mm("uint256",t.length);i.unshift(a)}return Buffer.concat(i)}if("bytes"===e)return t=Buffer.from(t),i=Buffer.concat([Mm("uint256",t.length),t]),t.length%32!=0&&(i=Buffer.concat([i,gm.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if((r=_m(e))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return gm.setLengthRight(t,32)}if(e.startsWith("uint")){if((r=_m(e))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((n=Sm(t)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}if(e.startsWith("int")){if((r=_m(e))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((n=Sm(t)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}if(e.startsWith("ufixed")){if(r=wm(e),(n=Sm(t))<0)throw new Error("Supplied ufixed is negative");return Mm("uint256",n.mul(new ym(2).pow(new ym(r[1]))))}if(e.startsWith("fixed"))return r=wm(e),Mm("int256",Sm(t).mul(new ym(2).pow(new ym(r[1]))));throw new Error("Unsupported or invalid type: "+e)}function km(e,t,r){var n,i,o,a;if("string"==typeof e&&(e=Am(e)),"address"===e.name)return km(e.rawType,t,r).toArrayLike(Buffer,"be",20).toString("hex");if("bool"===e.name)return km(e.rawType,t,r).toString()===new ym(1).toString();if("string"===e.name){var s=km(e.rawType,t,r);return Buffer.from(s,"utf8").toString()}if(e.isArray){for(o=[],n=e.size,"dynamic"===e.size&&(r=km("uint256",t,r).toNumber(),n=km("uint256",t,r).toNumber(),r+=32),a=0;a<n;a++){var f=km(e.subArray,t,r);o.push(f),r+=e.subArray.memoryUsage}return o}if("bytes"===e.name)return r=km("uint256",t,r).toNumber(),n=km("uint256",t,r).toNumber(),t.slice(r+32,r+32+n);if(e.name.startsWith("bytes"))return t.slice(r,r+e.size);if(e.name.startsWith("uint")){if((i=new ym(t.slice(r,r+32),16,"be")).bitLength()>e.size)throw new Error("Decoded int exceeds width: "+e.size+" vs "+i.bitLength());return i}if(e.name.startsWith("int")){if((i=new ym(t.slice(r,r+32),16,"be").fromTwos(256)).bitLength()>e.size)throw new Error("Decoded uint exceeds width: "+e.size+" vs "+i.bitLength());return i}if(e.name.startsWith("ufixed")){if(n=new ym(2).pow(new ym(e.size[1])),!(i=km("uint256",t,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}if(e.name.startsWith("fixed")){if(n=new ym(2).pow(new ym(e.size[1])),!(i=km("int256",t,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}throw new Error("Unsupported or invalid type: "+e.name)}function Am(e){var t,r,n;if(Tm(e)){t=xm(e);var i=e.slice(0,e.lastIndexOf("["));return i=Am(i),r={isArray:!0,name:e,size:t,memoryUsage:"dynamic"===t?32:i.memoryUsage*t,subArray:i}}switch(e){case"address":n="uint160";break;case"bool":n="uint8";break;case"string":n="bytes"}if(r={rawType:n,name:e,memoryUsage:32},e.startsWith("bytes")&&"bytes"!==e||e.startsWith("uint")||e.startsWith("int")?r.size=_m(e):(e.startsWith("ufixed")||e.startsWith("fixed"))&&(r.size=wm(e)),e.startsWith("bytes")&&"bytes"!==e&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((e.startsWith("uint")||e.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}function Rm(e){return"string"===e||"bytes"===e||"dynamic"===xm(e)}function Tm(e){return e.lastIndexOf("]")===e.length-1}function Cm(e,t){return e.startsWith("address")||e.startsWith("bytes")?"0x"+t.toString("hex"):t.toString()}mm.eventID=function(e,t){var r=e+"("+t.map(vm).join(",")+")";return gm.keccak256(Buffer.from(r))},mm.methodID=function(e,t){return mm.eventID(e,t).slice(0,4)},mm.rawEncode=function(e,t){var r=[],n=[],i=0;e.forEach((function(e){if(Tm(e)){var t=xm(e);i+="dynamic"!==t?32*t:32}else i+=32}));for(var o=0;o<e.length;o++){var a=vm(e[o]),s=Mm(a,t[o]);Rm(a)?(r.push(Mm("uint256",i)),n.push(s),i+=s.length):r.push(s)}return Buffer.concat(r.concat(n))},mm.rawDecode=function(e,t){var r=[];t=Buffer.from(t);for(var n=0,i=0;i<e.length;i++){var o=Am(vm(e[i])),a=km(o,t,n);n+=o.memoryUsage,r.push(a)}return r},mm.simpleEncode=function(e){var t=Array.prototype.slice.call(arguments).slice(1),r=Em(e);if(t.length!==r.args.length)throw new Error("Argument count mismatch");return Buffer.concat([mm.methodID(r.method,r.args),mm.rawEncode(r.args,t)])},mm.simpleDecode=function(e,t){var r=Em(e);if(!r.retargs)throw new Error("No return values in method");return mm.rawDecode(r.retargs,t)},mm.stringify=function(e,t){var r=[];for(var n in e){var i=e[n],o=t[n];o=/^[^\[]+\[.*\]$/.test(i)?o.map((function(e){return Cm(i,e)})).join(", "):Cm(i,o),r.push(o)}return r},mm.solidityHexValue=function(e,t,r){var n,i;if(Tm(e)){var o=e.replace(/\[.*?\]/,"");if(!Tm(o)){var a=xm(e);if("dynamic"!==a&&0!==a&&t.length>a)throw new Error("Elements exceed array size: "+a)}var s=t.map((function(e){return mm.solidityHexValue(o,e,256)}));return Buffer.concat(s)}if("bytes"===e)return t;if("string"===e)return Buffer.from(t,"utf8");if("bool"===e){r=r||8;var f=Array(r/4).join("0");return Buffer.from(t?f+"1":f+"0","hex")}if("address"===e){var c=20;return r&&(c=r/8),gm.setLengthLeft(t,c)}if(e.startsWith("bytes")){if((n=_m(e))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return gm.setLengthRight(t,n)}if(e.startsWith("uint")){if((n=_m(e))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((i=Sm(t)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toArrayLike(Buffer,"be",r/8)}if(e.startsWith("int")){if((n=_m(e))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((i=Sm(t)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toTwos(n).toArrayLike(Buffer,"be",r/8)}throw new Error("Unsupported or invalid type: "+e)},mm.solidityPack=function(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<e.length;n++){var i=vm(e[n]),o=t[n];r.push(mm.solidityHexValue(i,o,null))}return Buffer.concat(r)},mm.soliditySHA3=function(e,t){return gm.keccak256(mm.solidityPack(e,t))},mm.soliditySHA256=function(e,t){return gm.sha256(mm.solidityPack(e,t))},mm.solidityRIPEMD160=function(e,t){return gm.ripemd160(mm.solidityPack(e,t),!0)},mm.fromSerpent=function(e){for(var t,r=[],n=0;n<e.length;n++){var i=e[n];if("s"===i)r.push("bytes");else if("b"===i){for(var o="bytes",a=n+1;a<e.length&&((t=e[a])>="0"&&t<="9");)o+=e[a]-"0",a++;n=a-1,r.push(o)}else if("i"===i)r.push("int256");else{if("a"!==i)throw new Error("Unsupported or invalid type: "+i);r.push("int256[]")}}return r},mm.toSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if("bytes"===n)t.push("s");else if(n.startsWith("bytes"))t.push("b"+_m(n));else if("int256"===n)t.push("i");else{if("int256[]"!==n)throw new Error("Unsupported or invalid type: "+n);t.push("a")}}return t.join("")};const Bm=Qs,Im=mm;var Pm={concatSig:function(e,t,r){const n=Bm.fromSigned(t),i=Bm.fromSigned(r),o=Bm.bufferToInt(e),a=Um(Bm.toUnsigned(n).toString("hex"),64),s=Um(Bm.toUnsigned(i).toString("hex"),64),f=Bm.stripHexPrefix(Bm.intToHex(o));return Bm.addHexPrefix(a.concat(s,f)).toString("hex")},normalize:function(e){if(e){if("number"==typeof e){const t=Bm.toBuffer(e);e=Bm.bufferToHex(t)}if("string"!=typeof e){var t="eth-sig-util.normalize() requires hex string or integer input.";throw new Error(t+=" received "+typeof e+": "+e)}return Bm.addHexPrefix(e.toLowerCase())}},personalSign:function(e,t){var r=Bm.toBuffer(t.data),n=Bm.hashPersonalMessage(r),i=Bm.ecsign(n,e);return Bm.bufferToHex(this.concatSig(i.v,i.r,i.s))},recoverPersonalSignature:function(e){const t=Nm(e),r=Bm.publicToAddress(t);return Bm.bufferToHex(r)},extractPublicKey:function(e){return"0x"+Nm(e).toString("hex")},typedSignatureHash:function(e){const t=Om(e);return Bm.bufferToHex(t)},signTypedData:function(e,t){const r=Om(t.data),n=Bm.ecsign(r,e);return Bm.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignature:function(e){const t=Lm(Om(e.data),e.sig),r=Bm.publicToAddress(t);return Bm.bufferToHex(r)}};function Om(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;const r=e.map((function(e){return"bytes"===e.type?Bm.toBuffer(e.value):e.value})),n=e.map((function(e){return e.type})),i=e.map((function(e){if(!e.name)throw t;return e.type+" "+e.name}));return Im.soliditySHA3(["bytes32","bytes32"],[Im.soliditySHA3(new Array(e.length).fill("string"),i),Im.soliditySHA3(n,r)])}function Lm(e,t){const r=Bm.toBuffer(t),n=Bm.fromRpcSig(r);return Bm.ecrecover(e,n.v,n.r,n.s)}function Nm(e){const t=Bm.toBuffer(e.data);return Lm(Bm.hashPersonalMessage(t),e.sig)}function Um(e,t){for(var r=""+e;r.length<t;)r="0"+r;return r}var jm={exports:{}};!function(e,t){var r;r=function(e){setTimeout(e,0)},"undefined"!=typeof process&&process&&"function"==typeof process.nextTick&&(r=process.nextTick),e.exports=function(e){var t={capacity:e||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===t.firstHere){t.current++,t.firstHere=!0;var e=1}else e=0;var r={n:1};"function"==typeof arguments[0]?r.task=arguments[0]:r.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?r.task=arguments[1]:r.n=arguments[1]);var n=r.task;if(r.task=function(){n(t.leave)},t.current+r.n-e>t.capacity)return 1===e&&(t.current--,t.firstHere=!1),t.queue.push(r);t.current+=r.n-e,r.task(t.leave),1===e&&(t.firstHere=!1)},leave:function(e){if(e=e||1,t.current-=e,t.queue.length){var n=t.queue[0];n.n+t.current>t.capacity||(t.queue.shift(),t.current+=n.n,r(n.task))}else if(t.current<0)throw new Error("leave called too many times.")},available:function(e){return e=e||1,t.current+e<=t.capacity}};return t}}(jm);const qm=ay;var zm=function(e,t,r){e.sendAsync(qm({method:"eth_estimateGas",params:[t]}),(function(e,t){if(e)return"no contract code at given address"===e.message?r(null,"0xcf08"):r(e);r(null,t.result)}))};const Dm=Dy.exports,Hm=Hy.exports,Km=n.inherits,Fm=Qs,Wm=Pm,Vm=i,Jm=jm.exports,Gm=zm,$m=/^[0-9A-Fa-f]+$/g;var Ym=Zm;function Zm(e){const t=this;t.nonceLock=Jm(1),e.getAccounts&&(t.getAccounts=e.getAccounts),e.processTransaction&&(t.processTransaction=e.processTransaction),e.processMessage&&(t.processMessage=e.processMessage),e.processPersonalMessage&&(t.processPersonalMessage=e.processPersonalMessage),e.processTypedMessage&&(t.processTypedMessage=e.processTypedMessage),t.approveTransaction=e.approveTransaction||t.autoApprove,t.approveMessage=e.approveMessage||t.autoApprove,t.approvePersonalMessage=e.approvePersonalMessage||t.autoApprove,t.approveDecryptMessage=e.approveDecryptMessage||t.autoApprove,t.approveEncryptionPublicKey=e.approveEncryptionPublicKey||t.autoApprove,t.approveTypedMessage=e.approveTypedMessage||t.autoApprove,e.signTransaction&&(t.signTransaction=e.signTransaction||rv("signTransaction")),e.signMessage&&(t.signMessage=e.signMessage||rv("signMessage")),e.signPersonalMessage&&(t.signPersonalMessage=e.signPersonalMessage||rv("signPersonalMessage")),e.decryptMessage&&(t.decryptMessage=e.decryptMessage||rv("decryptMessage")),e.encryptionPublicKey&&(t.encryptionPublicKey=e.encryptionPublicKey||rv("encryptionPublicKey")),e.signTypedMessage&&(t.signTypedMessage=e.signTypedMessage||rv("signTypedMessage")),e.recoverPersonalSignature&&(t.recoverPersonalSignature=e.recoverPersonalSignature),e.publishTransaction&&(t.publishTransaction=e.publishTransaction),t.estimateGas=e.estimateGas||t.estimateGas,t.getGasPrice=e.getGasPrice||t.getGasPrice}function Xm(e){return e.toLowerCase()}function Qm(e){const t=Fm.addHexPrefix(e);return Fm.isValidAddress(t)}function ev(e){const t=Fm.addHexPrefix(e);return!Fm.isValidAddress(t)&&tv(e)}function tv(e){if(!("string"==typeof e))return!1;if(!("0x"===e.slice(0,2)))return!1;return e.slice(2).match($m)}function rv(e){return function(t,r){r(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+e+'" fn in constructor options'))}}Km(Zm,vy),Zm.prototype.handleRequest=function(e,t,r){const n=this;let i,o,a,s,f;switch(n._parityRequests={},n._parityRequestCount=0,e.method){case"eth_coinbase":return void n.getAccounts((function(e,t){if(e)return r(e);let n=t[0]||null;r(null,n)}));case"eth_accounts":return void n.getAccounts((function(e,t){if(e)return r(e);r(null,t)}));case"eth_sendTransaction":return i=e.params[0],void Dm([e=>n.validateTransaction(i,e),e=>n.processTransaction(i,e)],r);case"eth_signTransaction":return i=e.params[0],void Dm([e=>n.validateTransaction(i,e),e=>n.processSignTransaction(i,e)],r);case"eth_sign":return f=e.params[0],s=e.params[1],a=e.params[2]||{},o=Vm(a,{from:f,data:s}),void Dm([e=>n.validateMessage(o,e),e=>n.processMessage(o,e)],r);case"personal_sign":return function(){const t=e.params[0];if(ev(e.params[1])&&Qm(t)){let t="The eth_personalSign method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),f=e.params[0],s=e.params[1]}else s=e.params[0],f=e.params[1];a=e.params[2]||{},o=Vm(a,{from:f,data:s}),Dm([e=>n.validatePersonalMessage(o,e),e=>n.processPersonalMessage(o,e)],r)}();case"eth_decryptMessage":return function(){const t=e.params[0];if(ev(e.params[1])&&Qm(t)){let t="The eth_decryptMessage method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),f=e.params[0],s=e.params[1]}else s=e.params[0],f=e.params[1];a=e.params[2]||{},o=Vm(a,{from:f,data:s}),Dm([e=>n.validateDecryptMessage(o,e),e=>n.processDecryptMessage(o,e)],r)}();case"encryption_public_key":return function(){const t=e.params[0];Dm([e=>n.validateEncryptionPublicKey(t,e),e=>n.processEncryptionPublicKey(t,e)],r)}();case"personal_ecRecover":return function(){s=e.params[0];let t=e.params[1];a=e.params[2]||{},o=Vm(a,{sig:t,data:s}),n.recoverPersonalSignature(o,r)}();case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return function(){const t=e.params[0],i=e.params[1];Qm(t)?(f=t,s=i):(s=t,f=i),a=e.params[2]||{},o=Vm(a,{from:f,data:s}),Dm([e=>n.validateTypedMessage(o,e),e=>n.processTypedMessage(o,e)],r)}();case"parity_postTransaction":return i=e.params[0],void n.parityPostTransaction(i,r);case"parity_postSign":return f=e.params[0],s=e.params[1],void n.parityPostSign(f,s,r);case"parity_checkRequest":return function(){const t=e.params[0];n.parityCheckRequest(t,r)}();case"parity_defaultAccount":return void n.getAccounts((function(e,t){if(e)return r(e);const n=t[0]||null;r(null,n)}));default:return void t()}},Zm.prototype.getAccounts=function(e){e(null,[])},Zm.prototype.processTransaction=function(e,t){const r=this;Dm([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeAndSubmitTx(e,t)],t)},Zm.prototype.processSignTransaction=function(e,t){const r=this;Dm([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeTx(e,t)],t)},Zm.prototype.processMessage=function(e,t){const r=this;Dm([t=>r.approveMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signMessage(e,t)],t)},Zm.prototype.processPersonalMessage=function(e,t){const r=this;Dm([t=>r.approvePersonalMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signPersonalMessage(e,t)],t)},Zm.prototype.processDecryptMessage=function(e,t){const r=this;Dm([t=>r.approveDecryptMessage(e,t),(e,t)=>r.checkApproval("decryptMessage",e,t),t=>r.decryptMessage(e,t)],t)},Zm.prototype.processEncryptionPublicKey=function(e,t){const r=this;Dm([t=>r.approveEncryptionPublicKey(e,t),(e,t)=>r.checkApproval("encryptionPublicKey",e,t),t=>r.encryptionPublicKey(e,t)],t)},Zm.prototype.processTypedMessage=function(e,t){const r=this;Dm([t=>r.approveTypedMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signTypedMessage(e,t)],t)},Zm.prototype.autoApprove=function(e,t){t(null,!0)},Zm.prototype.checkApproval=function(e,t,r){r(t?null:new Error("User denied "+e+" signature."))},Zm.prototype.parityPostTransaction=function(e,t){const r=this,n=`0x${r._parityRequestCount.toString(16)}`;r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[e]},(function(e,t){if(e)return void(r._parityRequests[n]={error:e});const i=t.result;r._parityRequests[n]=i})),t(null,n)},Zm.prototype.parityPostSign=function(e,t,r){const n=this,i=`0x${n._parityRequestCount.toString(16)}`;n._parityRequestCount++,n.emitPayload({method:"eth_sign",params:[e,t]},(function(e,t){if(e)return void(n._parityRequests[i]={error:e});const r=t.result;n._parityRequests[i]=r})),r(null,i)},Zm.prototype.parityCheckRequest=function(e,t){const r=this._parityRequests[e]||null;return r?r.error?t(r.error):void t(null,r):t(null,null)},Zm.prototype.recoverPersonalSignature=function(e,t){let r;try{r=Wm.recoverPersonalSignature(e)}catch(n){return t(n)}t(null,r)},Zm.prototype.validateTransaction=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign transaction."));this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign transaction for this address: "${e.from}"`))}))},Zm.prototype.validateMessage=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign message."));this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},Zm.prototype.validatePersonalMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign personal message.")):void 0===e.data?t(new Error("Undefined message - message required to sign personal message.")):tv(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},Zm.prototype.validateDecryptMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to decrypt message.")):void 0===e.data?t(new Error("Undefined message - message required to decrypt message.")):tv(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to decrypt message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."))},Zm.prototype.validateEncryptionPublicKey=function(e,t){this.validateSender(e,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to obtain encryption public key for this address: "${e}"`))}))},Zm.prototype.validateTypedMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign typed data.")):void 0===e.data?t(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},Zm.prototype.validateSender=function(e,t){if(!e)return t(null,!1);this.getAccounts((function(r,n){if(r)return t(r);const i=-1!==n.map(Xm).indexOf(e.toLowerCase());t(null,i)}))},Zm.prototype.finalizeAndSubmitTx=function(e,t){const r=this;r.nonceLock.take((function(){Dm([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r),r.publishTransaction.bind(r)],(function(e,n){if(r.nonceLock.leave(),e)return t(e);t(null,n)}))}))},Zm.prototype.finalizeTx=function(e,t){const r=this;r.nonceLock.take((function(){Dm([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r)],(function(n,i){if(r.nonceLock.leave(),n)return t(n);t(null,{raw:i,tx:e})}))}))},Zm.prototype.publishTransaction=function(e,t){this.emitPayload({method:"eth_sendRawTransaction",params:[e]},(function(e,r){if(e)return t(e);t(null,r.result)}))},Zm.prototype.estimateGas=function(e,t){Gm(this.engine,e,t)},Zm.prototype.getGasPrice=function(e){this.emitPayload({method:"eth_gasPrice",params:[]},(function(t,r){if(t)return e(t);e(null,r.result)}))},Zm.prototype.fillInTxExtras=function(e,t){const r=this,n=e.from,i={};void 0===e.gasPrice&&(i.gasPrice=r.getGasPrice.bind(r)),void 0===e.nonce&&(i.nonce=r.emitPayload.bind(r,{method:"eth_getTransactionCount",params:[n,"pending"]})),void 0===e.gas&&(i.gas=r.estimateGas.bind(r,function(e){return{from:e.from,to:e.to,value:e.value,data:e.data,gas:e.gas,gasPrice:e.gasPrice,nonce:e.nonce}}(e))),Hm(i,(function(r,n){if(r)return t(r);const i={};n.gasPrice&&(i.gasPrice=n.gasPrice),n.nonce&&(i.nonce=n.nonce.result),n.gas&&(i.gas=n.gas),t(null,Vm(e,i))}))};var nv=Qs,iv={genesisGasLimit:{v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty:{v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce:{v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData:{v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash:{v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot:{v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis."},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs."},stackLimit:{v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack."},tierStepGas:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas:{v:10,d:"Once per EXP instuction."},expByteGas:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas:{v:30,d:"Once per SHA3 operation."},sha3WordGas:{v:6,d:"Once per word of the SHA3 operation's data."},sloadGas:{v:50,d:"Once per SLOAD operation."},sstoreSetGas:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas:{v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas:{v:375,d:"Per LOG* operation."},logDataGas:{v:8,d:"Per byte in a LOG* operation's data."},logTopicGas:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas:{v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas:{v:40,d:"Once per CALL operation & message call transaction."},callStipend:{v:2300,d:"Free gas given at beginning of call."},callValueTransferGas:{v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas:{v:24e3,d:"Refunded following a suicide operation."},memoryGas:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas:{v:200,d:""},txGas:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation:{v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas:{v:3e3,d:""},sha256Gas:{v:60,d:""},sha256WordGas:{v:12,d:""},ripemd160Gas:{v:600,d:""},ripemd160WordGas:{v:120,d:""},identityGas:{v:15,d:""},identityWordGas:{v:3,d:""},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},ommerReward:{v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},niblingReward:{v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},homeSteadForkNumber:{v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber:{v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod:{v:2}},ov=nv.BN,av=new ov("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),sv=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{};var r=[{name:"nonce",length:32,allowLess:!0,default:new Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new Buffer([])},{name:"to",allowZero:!0,length:20,default:new Buffer([])},{name:"value",length:32,allowLess:!0,default:new Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new Buffer([])},{name:"v",allowZero:!0,default:new Buffer([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new Buffer([])}];nv.defineProperties(this,r,t),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var n=nv.bufferToInt(this.v),i=Math.floor((n-35)/2);i<0&&(i=0),this._chainId=i||t.chainId||0,this._homestead=!0}return e.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},e.prototype.hash=function(e){void 0===e&&(e=!0);var t=void 0;if(e)t=this.raw;else if(this._chainId>0){var r=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,t=this.raw,this.raw=r}else t=this.raw.slice(0,6);return nv.rlphash(t)},e.prototype.getChainId=function(){return this._chainId},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=nv.publicToAddress(e),this._from},e.prototype.getSenderPublicKey=function(){if(!(this._senderPubKey&&this._senderPubKey.length||this.verifySignature()))throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var e=this.hash(!1);if(this._homestead&&1===new ov(this.s).cmp(av))return!1;try{var t=nv.bufferToInt(this.v);this._chainId>0&&(t-=2*this._chainId+8),this._senderPubKey=nv.ecrecover(e,t,this.r,this.s)}catch(Bv){return!1}return!!this._senderPubKey},e.prototype.sign=function(e){var t=this.hash(!1),r=nv.ecsign(t,e);this._chainId>0&&(r.v+=2*this._chainId+8),Object.assign(this,r)},e.prototype.getDataFee=function(){for(var e=this.raw[5],t=new ov(0),r=0;r<e.length;r++)0===e[r]?t.iaddn(iv.txDataZeroGas.v):t.iaddn(iv.txDataNonZeroGas.v);return t},e.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(iv.txGas.v);return this._homestead&&this.toCreationAddress()&&e.iaddn(iv.txCreation.v),e},e.prototype.getUpfrontCost=function(){return new ov(this.gasLimit).imul(new ov(this.gasPrice)).iadd(new ov(this.value))},e.prototype.validate=function(e){var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new ov(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),void 0===e||!1===e?0===t.length:t.join(" ")},e}();const fv=n.inherits,cv=sv,uv=Qs,dv=ry;var hv=lv;function lv(e){this.nonceCache={}}fv(lv,vy),lv.prototype.handleRequest=function(e,t,r){const n=this;switch(e.method){case"eth_getTransactionCount":var i=dv(e),o=e.params[0].toLowerCase(),a=n.nonceCache[o];return void("pending"===i?a?r(null,a):t((function(e,t,r){if(e)return r();void 0===n.nonceCache[o]&&(n.nonceCache[o]=t),r()})):t());case"eth_sendRawTransaction":return void t((function(t,r,i){if(t)return i();var o=e.params[0];uv.stripHexPrefix(o),Buffer.from(uv.stripHexPrefix(o),"hex");var a=new cv(Buffer.from(uv.stripHexPrefix(o),"hex")),s="0x"+a.getSenderAddress().toString("hex").toLowerCase(),f=uv.bufferToInt(a.nonce),c=(++f).toString(16);c.length%2&&(c="0"+c),c="0x"+c,n.nonceCache[s]=c,i()}));case"evm_revert":return n.nonceCache={},void t();default:return void t()}};const pv=xy,bv=s;var gv=class extends pv{constructor(){super((({blockTracker:e,provider:t,engine:r})=>{const{events:n,middleware:i}=bv({blockTracker:e,provider:t});return n.on("notification",(e=>r.emit("data",null,e))),i}))}};Object.defineProperty(S,"__esModule",{value:!0});const yv=f.exports,mv=yv.__importDefault(yn),vv=yv.__importDefault(vs),_v=yv.__importDefault(Zs),wv=Xs,xv=gy,Sv=Ly,Ev=Ny,Mv=zy,kv=Ym,Av=hv,Rv=gv;var Tv=S.default=class extends xv{constructor(e){if(super({pollingInterval:e.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=vv.default,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.networkId=1,this.rpcUrl="",this.enable=()=>yv.__awaiter(this,void 0,void 0,(function*(){const e=yield this.getWalletConnector();if(e)return this.start(),this.subscribeWalletConnector(),e.accounts;throw new Error("Failed to connect to WalleConnect")})),this.request=e=>yv.__awaiter(this,void 0,void 0,(function*(){return this.send(e)})),this.send=(e,t)=>yv.__awaiter(this,void 0,void 0,(function*(){if("string"==typeof e){const r=e;let n=t;return"personal_sign"===r&&(n=wv.parsePersonalSign(n)),this.sendAsyncPromise(r,n)}if("personal_sign"===(e=Object.assign({id:wv.payloadId(),jsonrpc:"2.0"},e)).method&&(e.params=wv.parsePersonalSign(e.params)),!t)return this.sendAsyncPromise(e.method,e.params);this.sendAsync(e,t)})),this.onConnect=e=>{this.connectCallbacks.push(e)},this.triggerConnect=e=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach((t=>t(e)))},this.bridge=e.connector?e.connector.bridge:e.bridge||"https://bridge.walletconnect.org",this.qrcode=void 0===e.qrcode||!1!==e.qrcode,this.qrcodeModal=e.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=e.qrcodeModalOptions,this.wc=e.connector||new mv.default({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,clientMeta:null==e?void 0:e.clientMeta}),this.rpc=e.rpc||null,!(this.rpc||e.infuraId&&"string"==typeof e.infuraId&&e.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=e.infuraId||"",this.chainId=void 0!==e.chainId?e.chainId:1,this.networkId=this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}disconnect(){return yv.__awaiter(this,void 0,void 0,(function*(){this.close()}))}close(){return yv.__awaiter(this,void 0,void 0,(function*(){const e=yield this.getWalletConnector({disableSessionCreation:!0});yield e.killSession(),yield this.onDisconnect()}))}handleRequest(e){return yv.__awaiter(this,void 0,void 0,(function*(){try{let t,r=null;const n=yield this.getWalletConnector();switch(e.method){case"wc_killSession":yield this.close(),r=null;break;case"eth_accounts":r=n.accounts;break;case"eth_coinbase":r=n.accounts[0];break;case"eth_chainId":r=n.chainId;break;case"net_version":r=n.networkId||n.chainId;break;case"eth_uninstallFilter":this.sendAsync(e,(e=>e)),r=!0;break;default:t=yield this.handleOtherRequests(e)}return t||this.formatResponse(e,r)}catch(t){throw this.emit("error",t),t}}))}handleOtherRequests(e){return yv.__awaiter(this,void 0,void 0,(function*(){if(!wv.signingMethods.includes(e.method)&&e.method.startsWith("eth_"))return this.handleReadRequests(e);const t=yield this.getWalletConnector(),r=yield t.sendCustomRequest(e);return this.formatResponse(e,r)}))}handleReadRequests(e){return yv.__awaiter(this,void 0,void 0,(function*(){if(!this.http){const e=new Error("HTTP Connection not available");throw this.emit("error",e),e}return this.http.send(e)}))}formatResponse(e,t){return{id:e.id,jsonrpc:e.jsonrpc,result:t}}getWalletConnector(e={}){const{disableSessionCreation:t=!1}=e;return new Promise(((e,r)=>{const n=this.wc;if(this.isConnecting)this.onConnect((t=>e(t)));else if(n.connected||t)this.connected||(this.connected=!0,this.updateState(n.session)),e(n);else{this.isConnecting=!0;const t=this.chainId?{chainId:this.chainId}:void 0;n.on("modal_closed",(()=>{r(new Error("User closed modal"))})),n.createSession(t).then((()=>{n.on("connect",((t,i)=>{if(t)return this.isConnecting=!1,r(t);this.isConnecting=!1,this.connected=!0,i&&this.updateState(i.params[0]),this.emit("connect"),this.triggerConnect(n),e(n)}))})).catch((e=>{this.isConnecting=!1,r(e)}))}}))}subscribeWalletConnector(){return yv.__awaiter(this,void 0,void 0,(function*(){const e=yield this.getWalletConnector();e.on("disconnect",(e=>{e?this.emit("error",e):this.onDisconnect()})),e.on("session_update",((e,t)=>{e?this.emit("error",e):this.updateState(t.params[0])}))}))}onDisconnect(){return yv.__awaiter(this,void 0,void 0,(function*(){yield this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected")}))}updateState(e){return yv.__awaiter(this,void 0,void 0,(function*(){const{accounts:t,chainId:r,networkId:n,rpcUrl:i}=e;(!this.accounts||t&&this.accounts!==t)&&(this.accounts=t,this.emit("accountsChanged",t)),(!this.chainId||r&&this.chainId!==r)&&(this.chainId=r,this.emit("chainChanged",r)),(!this.networkId||n&&this.networkId!==n)&&(this.networkId=n,this.emit("networkChanged",n)),this.updateRpcUrl(this.chainId,i||"")}))}updateRpcUrl(e,t=""){const r={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"}[e];t||(this.rpc&&this.rpc[e]?t=this.rpc[e]:r&&(t=`https://${r}.infura.io/v3/${this.infuraId}`)),t?(this.rpcUrl=t,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${e}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new _v.default(this.rpcUrl),this.http.on("payload",(e=>this.emit("payload",e))),this.http.on("error",(e=>this.emit("error",e))))}sendAsyncPromise(e,t){return new Promise(((r,n)=>{this.sendAsync({id:wv.payloadId(),jsonrpc:"2.0",method:e,params:t||[]},((e,t)=>{e?n(e):r(t.result)}))}))}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new Ev({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new Sv),this.addProvider(new Rv),this.addProvider(new Mv),this.addProvider(new Av),this.addProvider(new kv(this.configWallet())),this.addProvider({handleRequest:(e,t,r)=>yv.__awaiter(this,void 0,void 0,(function*(){try{const{result:t}=yield this.handleRequest(e);r(null,t)}catch(t){r(t)}})),setEngine:e=>e})}configWallet(){return{getAccounts:e=>yv.__awaiter(this,void 0,void 0,(function*(){try{const t=(yield this.getWalletConnector()).accounts;t&&t.length?e(null,t):e(new Error("Failed to get accounts"))}catch(t){e(t)}})),processMessage:(e,t)=>yv.__awaiter(this,void 0,void 0,(function*(){try{const r=yield this.getWalletConnector(),n=yield r.signMessage([e.from,e.data]);t(null,n)}catch(r){t(r)}})),processPersonalMessage:(e,t)=>yv.__awaiter(this,void 0,void 0,(function*(){try{const r=yield this.getWalletConnector(),n=yield r.signPersonalMessage([e.data,e.from]);t(null,n)}catch(r){t(r)}})),processSignTransaction:(e,t)=>yv.__awaiter(this,void 0,void 0,(function*(){try{const r=yield this.getWalletConnector(),n=yield r.signTransaction(e);t(null,n)}catch(r){t(r)}})),processTransaction:(e,t)=>yv.__awaiter(this,void 0,void 0,(function*(){try{const r=yield this.getWalletConnector(),n=yield r.sendTransaction(e);t(null,n)}catch(r){t(r)}})),processTypedMessage:(e,t)=>yv.__awaiter(this,void 0,void 0,(function*(){try{const r=yield this.getWalletConnector(),n=yield r.signTypedData([e.from,e.data]);t(null,n)}catch(r){t(r)}}))}}},Cv=Object.freeze(Object.assign(Object.create(null),S,{[Symbol.toStringTag]:"Module",default:Tv}));export{Cv as i};
